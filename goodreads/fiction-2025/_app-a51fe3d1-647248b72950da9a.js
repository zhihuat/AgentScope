"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1453],{4400:function(e,t,o){o.d(t,{bi:function(){return i},dY:function(){return l},uB:function(){return n}});var r=o(29829);let s={globalUrlParams:void 0},a=(0,r.oM)({name:"globalparams",initialState:s,reducers:{clearGlobalUrlParams:()=>s,setGlobalUrlParams:(e,t)=>{e.globalUrlParams=t.payload},clearIdImportGoodReads:e=>{var t;return(null==e?void 0:null===(t=e.globalUrlParams)||void 0===t?void 0:t.id)?{...e.globalUrlParams,id:void 0}:e.globalUrlParams}}}),{clearGlobalUrlParams:n,setGlobalUrlParams:i,clearIdImportGoodReads:l}=a.actions;t.ZP=a.reducer},98502:function(e,t,o){o.d(t,{Ir:function(){return d},Qj:function(){return G},Ri:function(){return ef},U1:function(){return el},Xp:function(){return em},eN:function(){return u},ev:function(){return ed},jX:function(){return m},os:function(){return e_},qR:function(){return ey},qW:function(){return ep},ru:function(){return w},u0:function(){return p},uN:function(){return ec},y4:function(){return eg}});var r=o(29829),s=o(91960);o(57711);var a=o(43188),n=o(19738),i=o(41191),l=o(16005);let d={size:12,page_number:-1,total_pages:0,loading:!0,mentions:[],last:!1},u={size:12,page_number:-1,loading:!1,product:[],last:!1,empty:!1},c={default_order:0,code:"FOR_YOU",label:n.tq?"Featured":"Explore"},g=(0,r.oM)({name:"home",initialState:{firstVisit:!0,loading:!1,categories:[],categoriesBisac:[],selectedCategoryBisac:[],others:[],mentions:{following:d,trends:d},manual:{REVIEW:d,INSTAGRAM:d,PODCAST:d,"FEATURED-RECOMMENDATIONS":d},autoFocus:!1,webCategories:[],webMentions:[],editorialLists:[],isOpenModal:!1,products:{loveByCritics:u,highlyRated:u,newArrivals:u,recentlyViewed:u},moreList:[]},reducers:{setHiddenModal:e=>{e.isOpenModal=!1},setShowModal:e=>{e.isOpenModal=!0},setFirstVisit:(e,t)=>{e.firstVisit=t.payload},clearHome:e=>{e.mentions={following:d,trends:d},e.manual={REVIEW:d,INSTAGRAM:d,PODCAST:d,"FEATURED-RECOMMENDATIONS":d,loved_by_critics:d,highly_rated:d},e.categories=[],e.categoriesBisac=[],e.selectedCategoryBisac=[],e.categoriesBisac=[c],e.others=[],e.webCategories=[],e.webMentions=[]},getCategoriesRequest:e=>{e.loading=!0,e.error_message=""},getCategoriesSuccess:(e,t)=>{let{response:o}=t.payload;e.loading=!1,e.categories=o,o.forEach(t=>{var o;let{pageable:r={page_number:0},total_pages:s=1,content:a=[]}=null!==(o=t.mentions_page)&&void 0!==o?o:{};e.mentions[t.id]={...d,page_number:r.page_number,total_pages:s,mentions:a}})},getCategoriesFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},getCategoriesBisacRequest:e=>{e.categoriesBisac=[c]},getCategoriesBisacSuccess:(e,t)=>{let{response:o}=t.payload;e.categoriesBisac=[c,...o]},getCategoriesBisacFailure:(e,t)=>{e.error_message=t.payload},getFilteredBisacCategoriesRequest:(e,t)=>{let{bookCategory:o}=t.payload;e.selectedCategoryBisac=o,e.loading=!0,e.error_message=""},getFilteredBisacCategoriesSuccess:(e,t)=>{let{bookCategory:o,response:r}=t.payload;e.loading=!1,e.selectedCategoryBisac=o,e.categories=r,r.forEach(t=>{var o;let{pageable:r={page_number:0},total_pages:s=1,content:a=[]}=null!==(o=t.mentions_page)&&void 0!==o?o:{};e.mentions[t.id]={...d,page_number:r.page_number,total_pages:s,mentions:a}})},getFilteredBisacCategoriesFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},getWebFilteredBisacCategoriesRequest:(e,t)=>{let{bisacCategory:o}=t.payload;e.selectedCategoryBisac=o,e.loading=!0,e.error_message=""},getWebFilteredBisacCategoriesSuccess:(e,t)=>{let{bisacCategory:o,response:r}=t.payload,{code:s}=o;e.loading=!1,e.selectedCategoryBisac=o,e.webCategories=r,e.webMentions[s]=[]},getWebFilteredBisacCategoriesFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},getOtherCategoriesRequest:e=>{e.loading=!0},getOtherCategoriesSuccess:(e,t)=>{let{response:o}=t.payload;e.loading=!1,e.others=o,o.forEach(t=>{var o;let{pageable:r={page_number:0},total_pages:s=1,content:a=[]}=null!==(o=t.mentions_page)&&void 0!==o?o:{};e.mentions[t.id]={...d,page_number:r.page_number,total_pages:s,mentions:a}})},getOtherCategoriesFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},clearMentionsByCategory:(e,t)=>{let o=t.payload;e.mentions[o]=d},getMentionsRequest:(e,t)=>{let{category:o}=t.payload;e.mentions[o].loading=!0},getMentionsSuccess:(e,t)=>{let{category:o,response:r}=t.payload;e.mentions[o].loading=!1;let{total_pages:s,content:a,pageable:n}=r,{page_number:i}=n;e.mentions[o].page_number=i,e.mentions[o].total_pages=s;let l=a.filter(t=>!e.mentions[o].mentions.find(e=>e.product.id===t.product.id));e.mentions[o].mentions=e.mentions[o].mentions.concat(l)},getMentionsFailure:(e,t)=>{let{category:o,error:r}=t.payload;e.mentions[o].loading=!1,e.mentions[o].error_message=r},getWebMentionsRequest:(e,t)=>{let{bisacCategory:o,category:r}=t.payload;e.webMentions[o][r].loading=!0},getWebMentionsSuccess:(e,t)=>{let{bisacCategory:o,category:r,response:s}=t.payload;e.webMentions[o][r].loading=!1;let{total_pages:a,content:n,pageable:i}=s,{page_number:l}=i;e.webMentions[o][r].page_number=l,e.webMentions[o][r].total_pages=a;let d=n.filter(t=>!e.webMentions[o][r].mentions.find(e=>e.product.id===t.product.id));e.webMentions[o][r].mentions=e.webMentions[o][r].mentions.concat(d)},getWebMentionsFailure:(e,t)=>{let{bisacCategory:o,category:r,error:s}=t.payload;e.webMentions[o][r].loading=!1,e.webMentions[o][r].error_message=s},clearTrending:e=>{e.mentions.trends=d},clearManualMentions:e=>{e.manual={REVIEW:d,INSTAGRAM:d,PODCAST:d,"FEATURED-RECOMMENDATIONS":d},e.products={loved_by_critics:u,highly_rated:u,recentlyViewed:u,newArrivals:u}},getManualMentionsRequest:(e,t)=>{var o;let{category:r}=t.payload;e.manual[r]=null!==(o=e.manual[r])&&void 0!==o?o:d,e.manual[r].loading=!0},getManualMentionsSuccess:(e,t)=>{let{category:o,response:r,page:s}=t.payload;e.manual[o].loading=!1;let{content:a,total_pages:n}=r;e.manual[o].page_number=s,e.manual[o].total_pages=n;let i=a.filter(t=>!e.manual[o].mentions.find(e=>e.mention_id===t.mention_id));e.manual[o].mentions=e.manual[o].mentions.concat(i)},getManualMentionsFailure:(e,t)=>{let{category:o,error:r}=t.payload;e.manual[o].loading=!1,e.manual[o].error_message=r},getFeaturedMentionsRequest:(e,t)=>{var o;let{category:r}=t.payload;e.manual[r]=null!==(o=e.manual[r])&&void 0!==o?o:d},getFeaturedMentionsSuccess:(e,t)=>{let{category:o,response:r,page:s}=t.payload;e.manual[o].loading=!1;let{content:a,total_pages:n}=r;e.manual[o].page_number=s,e.manual[o].total_pages=n;let i=a.filter(t=>!e.manual[o].mentions.find(e=>e.mention_id===t.mention_id));e.manual[o].mentions=e.manual[o].mentions.concat(i)},getFeaturedMentionsFailure:(e,t)=>{let{category:o,error:r}=t.payload;e.manual[o].loading=!1,e.manual[o].error_message=r},getProductsRequest:(e,t)=>{var o;let{category:r}=t.payload;e.products[r]=null!==(o=e.products[r])&&void 0!==o?o:u},getProductsSuccess:(e,t)=>{let{category:o,response:r,page:s}=t.payload;e.products[o].loading=!1;let{content:a,last:n,empty:i}=r||{};if(e.products[o].page_number=s,e.products[o].last=n,e.products[o].error_message=void 0,e.products[o].empty=i,0===s){e.products[o]={...u,product:a};return}let l=null==a?void 0:a.filter(t=>{var r;return!(null===(r=e.products[o].product)||void 0===r?void 0:r.find(e=>e&&e.id===t.id))});if(e.products[o]){var d;e.products[o].product=null===(d=e.products[o].product)||void 0===d?void 0:d.concat(l)}else e.products[o]={...u,product:l}},getProductsFailure:(e,t)=>{let{category:o,error:r}=t.payload;e.products[o].loading=!1,e.products[o].error_message=r},initMoreList:(e,t)=>{let o=t.payload;for(let t=0;t<o.length;t++){let r=o[t];e.products={...e.products,[r.category]:{...u,loading:!1,page_number:0,last:r.books.last,product:r.books.content,empty:r.books.empty}}}},getBookCategoriesByExploreListRequest:(e,t)=>{let{terCode:o}=t.payload;e.products[o]?e.products={...e.products,[o]:{...e.products[o],loading:!0}}:e.products={...e.products,[o]:{...u,loading:!0}}},getBookCategoriesByExploreListSuccess:(e,t)=>{let{terCode:o,response:r,page:s}=t.payload,{content:a,last:n,empty:i}=r;if(e.products[o]){let t=a.filter(t=>{var r;return!(null===(r=e.products[o].product)||void 0===r?void 0:r.find(e=>e.id===t.id))});e.products[o]={...e.products[o],product:[...e.products[o].product,...t],last:n,page_number:s,loading:!1,empty:i}}else{e.products={...e.products,[o]:{...u,loading:!1,page_number:s,last:n,product:a,empty:i}};return}},getBookCategoriesByExploreListFailure:(e,t)=>{let{terCode:o,error:r}=t.payload;e.products={...e.products,[o]:{...e.products[o],loading:!1,error_message:r}}},getBookCategoriesByExploreCodeRequest:()=>{},getBookCategoriesByExploreCodeSuccess:(e,t)=>{let{response:o}=t.payload;e.moreList=(0,i.OS)({list:o})},getBookCategoriesByExploreCodeFailure:()=>{},setAutoFocus:(e,t)=>{e.autoFocus=t.payload},setCurrentBisacCategory:(e,t)=>{let{bisacCategory:o}=t.payload;e.selectedCategoryBisac=o,e.error_message=""},setMentionsByCategoryRequest:(e,t)=>{let{category:o,bookCategory:r}=t.payload;e.selectedCategoryBisac=r,e.loading=!0,e.error_message="",e.mentions[o]=d},setMentionsByCategorySuccess:(e,t)=>{let{mentions:o,category:r,bisacCategory:s}=t.payload;e.loading=!1,e.selectedCategoryBisac=s;let{pageable:a={page_number:0},total_pages:n=1}=null!=r?r:{};e.mentions[r]={...d,page_number:a.page_number,total_pages:n,mentions:o.content}},setMentionsByCategoryFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},setSSRCategoriesSuccess:(e,t)=>{let{response:o}=t.payload;e.loading=!1,e.categories=o,o.forEach(t=>{var o;let{pageable:r={page_number:0},total_pages:s=1}=null!==(o=t.mentions_page)&&void 0!==o?o:{};e.mentions[t.id]={...d,page_number:r.page_number,total_pages:s}})},initHome:(e,t)=>{let{loveByCritics:o,highlyRated:r,featuredMentions:s,instagramMentions:a,moreList:n,newArrivals:i}=t.payload;e.moreList=n,e.products={...e.products,loveByCritics:{...o,product:o.content,page_number:0},highlyRated:{...r,product:r.content,page_number:0},newArrivals:{...i,product:i.content,page_number:0}},e.manual={"FEATURED-RECOMMENDATIONS":{...s,mentions:s.content,page_number:0},INSTAGRAM:{...a,mentions:a.content,page_number:0,total_pages:a.total_pages}}},clearRecentlyViewed:e=>{e.products={...e.products,recentlyViewed:u}}}}),{setFirstVisit:p,clearHome:m,getCategoriesRequest:_,getCategoriesSuccess:f,getCategoriesFailure:y,getCategoriesBisacRequest:b,getCategoriesBisacSuccess:S,getCategoriesBisacFailure:v,getFilteredBisacCategoriesRequest:h,getFilteredBisacCategoriesSuccess:B,getFilteredBisacCategoriesFailure:R,getWebFilteredBisacCategoriesRequest:L,getWebFilteredBisacCategoriesSuccess:C,getWebFilteredBisacCategoriesFailure:F,getOtherCategoriesRequest:P,getOtherCategoriesSuccess:k,getOtherCategoriesFailure:M,clearMentionsByCategory:Z,clearTrending:E,clearManualMentions:w,getMentionsRequest:I,getMentionsSuccess:q,getMentionsFailure:O,getWebMentionsRequest:T,getWebMentionsSuccess:D,getWebMentionsFailure:U,getManualMentionsRequest:A,getManualMentionsSuccess:N,getManualMentionsFailure:x,setAutoFocus:G,setCurrentBisacCategory:V,setMentionsByCategoryRequest:H,setMentionsByCategorySuccess:W,setMentionsByCategoryFailure:z,setSSRCategoriesSuccess:j,setShowModal:X,setHiddenModal:Y,getFeaturedMentionsRequest:Q,getFeaturedMentionsSuccess:J,getFeaturedMentionsFailure:$,getProductsRequest:K,getProductsSuccess:ee,getProductsFailure:et,getBookCategoriesByExploreCodeFailure:eo,getBookCategoriesByExploreCodeRequest:er,getBookCategoriesByExploreListRequest:es,getBookCategoriesByExploreCodeSuccess:ea,getBookCategoriesByExploreListSuccess:en,getBookCategoriesByExploreListFailure:ei,initHome:el,initMoreList:ed,clearRecentlyViewed:eu}=g.actions;function ec(e,t,o,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8;return l=>{l(I({category:e}));let d={following:()=>a.Z.getFollowingMentions(n,r),trends:()=>a.Z.getTrendingProducts(n,"month",r),default:()=>a.Z.getMentionsByCategory(e,t,o,r,n,i)};(d[e]||d.default)().then(t=>{l(q({response:t,category:e}))},t=>{l(O({category:e,error:t.toString()})),s.Z.sendError(t)})}}function eg(e,t,o,r,n){return i=>{i(A({category:e})),a.Z.getManualMentions(t,o,r,n).then(o=>{i(N({response:o,category:e,page:t}))},t=>{i(x({category:e,error:t.toString()})),s.Z.sendError(t)})}}function ep(e,t,o){return r=>{r(Q({category:e})),a.Z.getFeaturedMentions(t,o).then(o=>{r(J({response:o,category:e,page:t}))},t=>{r($({category:e,error:t.toString()})),s.Z.sendError(t)})}}function em(e){let{category:t,page:o,source:r,bisacCategoryCode:n}=e;return e=>{e(K({category:t})),a.Z.getBooksBySource(o,r,n).then(r=>{e(ee({response:r,category:t,page:o}))},o=>{e(et({category:t,error:o.toString()})),s.Z.sendError(o)})}}function e_(e){let{category:t,page:o}=e;return e=>{e(K({category:t})),l.Z.getRecentlyViewed(o).then(r=>{e(ee({response:r,category:t,page:o}))},o=>{e(et({category:t,error:o.toString()}))})}}function ef(e){let{category:t,page:o,bisacCategoryCode:r}=e;return e=>{e(K({category:t})),l.Z.getNewArrivals(o,r).then(r=>{e(ee({response:r,category:t,page:o}))},o=>{e(et({category:t,error:o.toString()}))})}}function ey(e){let{category:t,page:o}=e;return e=>{e(es({terCode:t})),a.Z.getBookCategoriesByExploreList(o,t).then(r=>{e(en({response:r,terCode:t,page:o}))},t=>{e(ei({error:t.toString()})),s.Z.sendError(t)})}}t.ZP=g.reducer},96554:function(e,t,o){o.d(t,{BP:function(){return Y},CH:function(){return W},HM:function(){return Q},Ru:function(){return x},Ug:function(){return _},YX:function(){return J}});var r=o(29829),s=o(91960),a=o(16005),n=o(60083),i=o(79045),l=o(19738);let d={size:12,page_number:-1,total_pages:-1,loading:!1,content:[],total_elements:0},u={total_elements:12,page_number:-1,total_pages:-1,loading:!1,products:[]},c={loading:!1,loading_recommend:!1,loading_import:!1,categories:[],lists:{related:u,shared:u},addBookResults:d,editorialLists:[]},g=(0,r.oM)({name:"list",initialState:c,reducers:{clearLists:()=>c,clearListResults:e=>{e.addBookResults=d},clearSearchResults:e=>{e.addBookResults=d},getCategoriesRequest:e=>{e.loading=!0,e.error_message=""},getCategoriesSuccess:(e,t)=>{let{response:o}=t.payload;e.loading=!1;let r=o.filter(t=>!e.categories.find(e=>e.id===t.id));r.forEach(t=>{e.lists[t.id]=u}),e.categories.push(...r)},getCategoriesFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},getSearchResultsFailure:(e,t)=>{e.addBookResults.loading=!1,e.error_message=t.payload},clearProductsByCategory:(e,t)=>{let{category:o}=t.payload;e.lists[o]&&(e.lists[o].page_number=-1,e.lists[o].total_pages=-1,e.lists[o].loading=!1,e.lists[o].products=[])},getSearchResultsRequest:e=>{e.addBookResults.loading=!0},getSearchResultsSuccess:(e,t)=>{e.addBookResults.loading=!1;let{pageable:o,total_pages:r,content:s,totalElements:a}=t.payload;if(o.page_number>e.addBookResults.page_number){e.addBookResults.page_number=o.page_number,e.addBookResults.total_pages=r,e.addBookResults.total_elements=a;let t=s.filter(t=>!e.addBookResults.content.find(e=>e.id===t.id));e.addBookResults.content=e.addBookResults.content.concat(t)}},getProductsRequest:(e,t)=>{let{category:o}=t.payload;e.lists[o]||(e.lists[o]=u),e.lists[o].loading=!0},getProductsSuccess:(e,t)=>{let{category:o,response:r,page:s}=t.payload;e.lists[o].loading=!1;let{pageable:a={page_number:s},total_pages:n=1,content:i=r,first:l,total_elements:d}=r;if(l)e.lists[o].products=i;else if(a.page_number>e.lists[o].page_number){var u;let t=i.filter(t=>{var r;return!(null===(r=e.lists[o])||void 0===r?void 0:r.products.find(e=>e.id===t.id))});e.lists[o].products=null===(u=e.lists[o])||void 0===u?void 0:u.products.concat(t)}e.lists[o].page_number=a.page_number,e.lists[o].total_pages=n,e.lists[o].total_elements=d},getProductsFailure:(e,t)=>{let{category:o,error:r}=t.payload;e.lists[o].loading=!1,e.lists[o].error_message=r},postBookToListRequest:e=>{e.loading=!0},postBookToListSuccess:(e,t)=>{let{book:o,category:r}=t.payload;e.lists[r]&&(e.lists[r].products.unshift(o),e.lists[r].total_elements++),e.loading=!1},postBookToListFailure:(e,t)=>{let{error:o}=t.payload;e.loading=!1,e.error_message=o},moveBookToListRequest:e=>{e.loading=!0},moveBookToListSuccess:(e,t)=>{var o;let{book:r,category:s}=t.payload,a=null===(o=Object.entries(e.lists).find(e=>{let[,t]=e;return!!t.products.find(e=>e.id===r.id)}))||void 0===o?void 0:o[0];if(a){let t=e.lists[a].products.findIndex(e=>e.id===r.id);t>-1&&(e.lists[a].products.splice(t,1),e.lists[a].total_elements--)}e.lists[s]&&(e.lists[s].products.unshift(r),e.lists[s].total_elements++),e.loading=!1},moveBookToListFailure:(e,t)=>{let{error:o}=t.payload;e.loading=!1,e.error_message=o},deleteBookFromListRequest:e=>{e.loading=!0},deleteBookFromListSuccess:(e,t)=>{var o;let{book:r,category:s}=t.payload,a=null===(o=e.lists[s])||void 0===o?void 0:o.products.findIndex(e=>e.id===r.id);a>-1&&(e.lists[s].products.splice(a,1),e.lists[s].total_elements--),e.loading=!1},deleteBookFromListFailure:(e,t)=>{let{error:o}=t.payload;e.loading=!1,e.error_message=o},postBookToSharedRequest:e=>{e.loading=!0},postBookToSharedSuccess:(e,t)=>{let{book:o}=t.payload;e.lists.shared.products.unshift(o),e.lists.shared.total_elements++,e.loading=!1},postBookToSharedFailure:(e,t)=>{let{error:o}=t.payload;e.loading=!1,e.error_message=o},postBookRecommendationRequest:e=>{e.loading_recommend=!0},postBookRecommendationSuccess:e=>{e.loading_recommend=!1},postBookRecommendationFailure:(e,t)=>{let{error:o}=t.payload;e.loading_recommend=!1,e.error_message=o},postImportFromGoodReadsRequest:e=>{e.loading_import=!0,e.error_message=""},postImportFromGoodReadsSuccess:(e,t)=>{let{response:o}=t.payload;e.importGoodReadInProgress=o,e.loading_import=!1},postImportFromGoodReadsFailure:(e,t)=>{let{error:o}=t.payload;e.loading_import=!1,e.error_message=o},getImportFromGoodReadsRequest:e=>{e.loading_import=!0,e.error_message=""},getImportFromGoodReadsSuccess:(e,t)=>{let{summary:o}=t.payload;e.importGoodReadsSummary=o,e.loading_import=!1},getImportFromGoodReadsFailure:(e,t)=>{let{error:o}=t.payload;e.loading_import=!1,e.error_message=o},postImportFromGoodReadsClear:e=>{e.error_message="",e.loading_import=!1},setCurrentBookInAddBookToListSuccess:(e,t)=>{let{product:o}=t.payload;e.currentBookInAddBookToList=o}}}),{clearLists:p,clearListResults:m,clearSearchResults:_,getCategoriesRequest:f,getCategoriesSuccess:y,getCategoriesFailure:b,clearProductsByCategory:S,getSearchResultsRequest:v,getSearchResultsSuccess:h,getSearchResultsFailure:B,getProductsRequest:R,getProductsSuccess:L,getProductsFailure:C,postBookToListRequest:F,postBookToListSuccess:P,postBookToListFailure:k,moveBookToListRequest:M,moveBookToListSuccess:Z,moveBookToListFailure:E,deleteBookFromListRequest:w,deleteBookFromListSuccess:I,deleteBookFromListFailure:q,postBookToSharedRequest:O,postBookToSharedSuccess:T,postBookToSharedFailure:D,postBookRecommendationRequest:U,postBookRecommendationSuccess:A,postBookRecommendationFailure:N,setCurrentBookInAddBookToListSuccess:x,postImportFromGoodReadsRequest:G,postImportFromGoodReadsSuccess:V,postImportFromGoodReadsFailure:H,postImportFromGoodReadsClear:W,getImportFromGoodReadsRequest:z,getImportFromGoodReadsSuccess:j,getImportFromGoodReadsFailure:X}=g.actions;function Y(e,t){return o=>{o(v()),n.Z.getSearchResults(e,t).then(e=>{o(h(e))},e=>{o(B(e.toString())),s.Z.sendError(e)})}}function Q(e){return t=>{t(G()),a.Z.postImportFromGoodReads(e).then(e=>{let o=l.tq?"ImportFromGoodReadsSuccess":"ImportFromGoodreads/success";i.Z.emit("Navigation Navigate",{name:o}),t(V({response:e}))},e=>{console.log({error:e}),t(H({error:e.toString()})),s.Z.sendError(e)})}}function J(e){return t=>{t(z()),a.Z.getImportFromGoodReads(e).then(e=>{t(j({summary:e}))},e=>{console.log({error:e}),t(X({error:e.toString()})),s.Z.sendError(e)})}}t.ZP=g.reducer},18707:function(e,t,o){o.d(t,{Jj:function(){return m},OJ:function(){return Z},PF:function(){return w},_X:function(){return u},mE:function(){return E},qT:function(){return I}});var r=o(29829),s=o(12902),a=o(39149),n=o(26035),i=o(91960),l=o(3347),d=o(47281);let u={size:n.Hj,number:-1,total_pages:-1,loading:!1,content:[]},c={loading:!1,error_message:"",basicDefaultLists:[],basicCustomLists:u,lists:[],page:-1},g=(e,t)=>{let o=t.filter(t=>!e.find(e=>e.id===t.id));return e.concat(o)},p=(0,r.oM)({name:"myLists",initialState:c,reducers:{clearMyLists:e=>{Object.assign(e,c)},getBasicDefaultListsRequest:e=>{e.loading=!0,e.error_message=""},getBasicDefaultListsSuccess:(e,t)=>{let o=t.payload.response;e.loading=!1;let r=[...e.basicDefaultLists.filter(e=>o.find(t=>t.id===e.id))];o.forEach(e=>{let t=r.findIndex(t=>t.id===e.id);t>-1?r[t]={...r[t],...e}:r.push(e)}),e.basicDefaultLists=r},getBasicDefaultListsFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},getBasicDefaultListByIdRequest:(e,t)=>{let{listId:o}=t.payload,r=e.basicDefaultLists.findIndex(e=>e.id===o);if(r>=0){var a,n;(null===(a=e.basicDefaultLists[r])||void 0===a?void 0:a.books)||(e.basicDefaultLists[r].books=u),e.basicDefaultLists[r]=(0,s.ZP)(null!==(n=e.basicDefaultLists[r])&&void 0!==n?n:u,e=>{e.books.loading=!0})}},getBasicDefaultListByIdSuccess:(e,t)=>{let{listId:o,response:r}=t.payload,s=e.basicDefaultLists.findIndex(e=>e.id===o);if(s>=0){var a;let t=(null===(a=e.basicDefaultLists[s].books)||void 0===a?void 0:a.content)||[],o=r.books.content.filter(e=>!t.some(t=>t.id===e.id));e.basicDefaultLists[s].books={...e.basicDefaultLists[s].books,...r.books,loading:!1,content:[...t,...o]}}else e.basicDefaultLists.push({...r,books:{...r.books,loading:!1,content:[...r.books.content]}})},getBasicDefaultListByIdFailure:(e,t)=>{var o;let{listId:r,error:s}=t.payload,a=e.basicDefaultLists.findIndex(e=>e.id===r);(null===(o=e.basicDefaultLists[a])||void 0===o?void 0:o.books)&&(e.basicDefaultLists[a].books.loading=!1,e.basicDefaultLists[a].books.error=s)},getCustomListsByUserIdRequest:e=>{e.loading=!0,e.error_message=""},getCustomListsByUserIdSuccess:(e,t)=>{let{content:o,has_content:r,number_of_elements:s,total_pages:a,number:n,size:i,first:l,last:d}=t.payload.response;Array.isArray(e.basicCustomLists.content)||(e.basicCustomLists.content=[]);let u=o.filter(t=>!e.basicCustomLists.content.some(e=>e.id===t.id));e.loading=!1,e.basicCustomLists.content=[...e.basicCustomLists.content,...u],e.basicCustomLists.has_content=r,e.basicCustomLists.number_of_elements=s,e.basicCustomLists.total_pages=a,e.basicCustomLists.number=n,e.basicCustomLists.size=i,e.basicCustomLists.first=l,e.basicCustomLists.last=d},getCustomListsByUserIdFailure:(e,t)=>{let{error:o}=t.payload;e.error_message=o,e.loading=!1},getCustomListsRequest:e=>{e.loading=!0,e.error_message=""},getCustomListsSuccess:(e,t)=>{let{response:o,page:r}=t.payload,{first:s,content:n}=o;if(e.loading=!1,s){let t=[],o=n.find(e=>e.title===a.sY.TO_BE_READ),r=n.find(e=>e.title===a.sY.READING),s=n.find(e=>e.title===a.sY.FINISHED);o&&t.push(o),r&&t.push(r),s&&t.push(s),e.lists=g(e.lists,n)}else r>e.page&&e.lists.push(...n);e.page=r},getCustomListsFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},deleteCustomListRequest:e=>{e.loading=!0},deleteCustomListSuccess:(e,t)=>{let{listId:o}=t.payload,r=e.basicCustomLists.content.findIndex(e=>e.id===o);r>-1&&e.basicCustomLists.content.splice(r,1),e.loading=!1},deleteCustomListFailure:(e,t)=>{let{error:o}=t.payload;e.error_message=o,e.loading=!1}}}),{clearMyLists:m,getBasicDefaultListsRequest:_,getBasicDefaultListsSuccess:f,getBasicDefaultListsFailure:y,getBasicDefaultListByIdRequest:b,getBasicDefaultListByIdSuccess:S,getBasicDefaultListByIdFailure:v,getCustomListsByUserIdRequest:h,getCustomListsByUserIdSuccess:B,getCustomListsByUserIdFailure:R,getCustomListsRequest:L,getCustomListsSuccess:C,getCustomListsFailure:F,deleteCustomListRequest:P,deleteCustomListSuccess:k,deleteCustomListFailure:M}=p.actions;function Z(){return(e,t)=>{let{loggedIn:o}=t().auth;if(o)return e(_()),l.Z.getDefaultLists().then(t=>{e(f({response:t}))},t=>{e(y({error:t.toString()})),i.Z.sendError(t)})}}function E(e,t,o){return r=>(r(b({listId:e})),l.Z.getBasicDefaultListById(e,t,o).then(async t=>{r(S({response:t,listId:e}))},t=>{r(v({listId:e,error:t.toString()})),i.Z.sendError(t)}))}function w(e){let{userId:t,page:o,size:r,published:s}=e;return e=>(e(h()),l.Z.getBasicCustomListsByUserId({userId:t,page:o,size:r,published:s}).then(async t=>{e(B({response:t}))},t=>{e(R({error:t.toString()})),i.Z.sendError(t)}))}function I(e){return t=>(t(P()),d.Z.deleteCustomListById(e).then(()=>{t(k({listId:e}))},e=>{t(M({error:e.toString()})),i.Z.sendError(e)}))}t.ZP=p.reducer},68526:function(e,t,o){o.d(t,{Gh:function(){return u},JL:function(){return v},JU:function(){return d},Qx:function(){return n},Zi:function(){return c},aQ:function(){return b},e1:function(){return S},x5:function(){return h}});var r=o(29829),s=o(54386),a=o(98502);let n={topics_fiction:[],topics_non_fiction:[],voices:[],selected_topics_non_fiction:[],selected_topics_fiction:[]},i={data:n,error_message:void 0,loading:!1,done:!1,onBoardingSelectedBookDone:!1,isSignup:!1},l=(0,r.oM)({name:"home",initialState:i,reducers:{clearOnboarding:()=>i,setSelectedData:(e,t)=>{let{selected_topics_non_fiction:o,selected_topics_fiction:r}=t.payload;o&&(e.data.selected_topics_non_fiction=o),r&&(e.data.selected_topics_fiction=r)},restartOnboarding:e=>{e.data=n,e.error_message=void 0,e.loading=!1,e.done=!1,e.onBoardingSelectedBookDone=!1},getOnboardingRequest:e=>{e.loading=!0},getOnboardingSuccess:(e,t)=>{let{response:o}=t.payload;e.loading=!1;let{selected_topics_non_fiction:r,selected_topics_fiction:s}=o;e.done=r.length+s.length>=3,e.data={...o,selected_topics_non_fiction:[...e.data.selected_topics_non_fiction,...r.map(e=>e.id)],selected_topics_fiction:[...e.data.selected_topics_fiction,...s.map(e=>e.id)]}},getOnboardingFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},setOnboardingRequest:e=>{e.loading=!0},setOnboardingSuccess:e=>{e.loading=!1,e.done=!0},setOnboardingFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},setOnboardingSelectedBookDone:(e,t)=>{e.onBoardingSelectedBookDone=t.payload},setIsSignup:(e,t)=>{e.isSignup=t.payload}}}),{clearOnboarding:d,setSelectedData:u,restartOnboarding:c,getOnboardingRequest:g,getOnboardingSuccess:p,getOnboardingFailure:m,setOnboardingRequest:_,setOnboardingSuccess:f,setOnboardingFailure:y,setOnboardingSelectedBookDone:b,setIsSignup:S}=l.actions;function v(){return e=>(e(g()),s.Z.getOnboarding().then(t=>{e(p({response:t}))},t=>{e(m({error:t.toString()}))}))}function h(e){return t=>(t(_()),t((0,a.u0)(!0)),s.Z.setOnboarding(e).then(()=>{t(f())},e=>{t(y({error:e.toString()}))}))}t.ZP=l.reducer},58218:function(e,t,o){o.d(t,{As:function(){return Q},Hj:function(){return H},Lp:function(){return j},R3:function(){return J},RO:function(){return $},XP:function(){return X},_X:function(){return u},_Y:function(){return v},a9:function(){return Y},iA:function(){return z},iQ:function(){return f},wv:function(){return W}});var r=o(29829),s=o(12902),a=o(91960),n=o(60994),i=o(43188),l=o(90211),d=o(16005);let u={size:12,page_number:-1,total_pages:-1,loading:!1,products:[]},c={size:12,page_number:-1,total_pages:-1,loading:!1,mentions:[]},g={content:null,mentions:{byFollowedUsers:c,all:c},related:u,related_bisac:u,trending_product:u,loading:!1,loading_recommend:!1,rate:void 0},p=(e,t)=>{e.products[t]||(e.products[t]={...g,mentions:{byFollowedUsers:{...c},all:{...c}}})},m=(0,r.oM)({name:"product",initialState:{products:{},navBarDark:!1,productPreviewLink:null},reducers:{clearProduct:(e,t)=>{let o=t.payload;e.products[o]=g},setNavBarDark:(e,t)=>{e.navBarDark=t.payload},getProductRequest:(e,t)=>{let{productId:o}=t.payload;p(e,o),e.products[o].loading=!0},getProductSuccess:(e,t)=>{let{response:o,productId:r}=t.payload;e.products[r].content=o},getProductFailure:(e,t)=>{let{productId:o,error:r}=t.payload;e.products[o].loading=!1,e.products[o].error_message=r},getProductDetailedRequest:(e,t)=>{let{productId:o}=t.payload;p(e,o),e.products[o].loading=!0},getProductDetailedSuccess:(e,t)=>{let{response:o,productId:r}=t.payload;e.products[r].loading=!1,e.products[r].content={...e.products[r].content,...o}},getProductDetailedFailure:(e,t)=>{let{productId:o,error:r}=t.payload;o&&(e.products[o].loading=!1,e.products[o].error_message=r)},clearProductMentions:(e,t)=>{let{type:o,productId:r}=t.payload;e.products[r]&&(e.products[r]=(0,s.ZP)(e.products[r],e=>{e.mentions[o]=c}))},getProductMentionsRequest:(e,t)=>{let{type:o,productId:r}=t.payload;p(e,r),e.products[r]=(0,s.ZP)(e.products[r],e=>{e.mentions[o].loading=!0})},getProductMentionsSuccess:(e,t)=>{let{type:o,response:r,productId:s}=t.payload;e.products[s].mentions[o].loading=!1;let{pageable:a,total_pages:n,content:i}=r;if(a.page_number>e.products[s].mentions[o].page_number){e.products[s].mentions[o].page_number=a.page_number,e.products[s].mentions[o].total_pages=n;let t=i.filter(t=>!e.products[s].mentions[o].mentions.find(e=>e.mention_id===t.mention_id));e.products[s].mentions[o].mentions.push(...t)}},getProductMentionsFailure:(e,t)=>{let{type:o,error:r,productId:s}=t.payload;e.products[s].mentions[o].loading=!1,e.products[s].mentions[o].error_message=r},clearProductsRelated:(e,t)=>{let{productId:o}=t.payload;e.products[o]&&(e.products[o].related=u)},getProductsRelatedRequest:(e,t)=>{let{productId:o}=t.payload;p(e,o),e.products[o]=(0,s.ZP)(e.products[o],e=>{e.related.loading=!0})},getProductsRelatedSuccess:(e,t)=>{let{productId:o,response:r}=t.payload;e.products[o].related.loading=!1;let{pageable:s={page_number:0},total_pages:a=1,content:n=r}=r;if(0===s.page_number)e.products[o].related.page_number=s.page_number,e.products[o].related.total_pages=a,e.products[o].related.products=n;else if(s.page_number>e.products[o].related.page_number){e.products[o].related.page_number=s.page_number,e.products[o].related.total_pages=a;let t=n.filter(t=>!e.products[o].related.products.find(e=>e.id===t.id));e.products[o].related.products.push(...t)}},getProductsRelatedFailure:(e,t)=>{let{productId:o,error:r}=t.payload;e.products[o].related.loading=!1,e.products[o].related.error_message=r},getProductsRelatedByBisacRequest:(e,t)=>{let{productId:o}=t.payload;p(e,o),e.products[o]=(0,s.ZP)(e.products[o],e=>{e.related_bisac.loading=!0})},getProductsRelatedByBisacSuccess:(e,t)=>{let{productId:o,response:r}=t.payload;e.products[o].related.loading=!1;let{pageable:s={page_number:0},total_pages:a=1,content:n=r}=r;if(0===s.page_number)e.products[o].related_bisac.page_number=s.page_number,e.products[o].related_bisac.total_pages=a,e.products[o].related_bisac.products=n;else if(s.page_number>e.products[o].related_bisac.page_number){e.products[o].related_bisac.page_number=s.page_number,e.products[o].related_bisac.total_pages=a;let t=n.filter(t=>!e.products[o].related_bisac.products.find(e=>e.id===t.id));e.products[o].related_bisac.products.push(...t)}},getProductsRelatedByBisacFailure:(e,t)=>{let{productId:o,error:r}=t.payload;e.products[o].related_bisac.loading=!1,e.products[o].related_bisac.error_message=r},getTrendingProductsRequest:(e,t)=>{let{productId:o}=t.payload;p(e,o),e.products[o]=(0,s.ZP)(e.products[o],e=>{e.trending_product.loading=!0})},getTrendingProductsSuccess:(e,t)=>{let{productId:o,response:r}=t.payload;e.products[o].trending_product.loading=!1;let{pageable:s,total_pages:a,content:n}=r;s.page_number>e.products[o].trending_product.page_number&&(e.products[o].trending_product.page_number=s.page_number,e.products[o].trending_product.total_pages=a,e.products[o].trending_product.products.push(...n))},getTrendingProductsFailure:(e,t)=>{let{productId:o,error:r}=t.payload;e.products[o].trending_product.loading=!1,e.products[o].trending_product.error_message=r},getProductPreviewRequest:e=>{e.productPreviewLink=null},getProductPreviewSuccess:(e,t)=>{e.productPreviewLink=t.payload.response},getProductPreviewFailure:e=>{e.productPreviewLink=null},postBookRecommendationRequest:(e,t)=>{let{productId:o,rate:r}=t.payload;p(e,o),e.products[o]=(0,s.ZP)(e.products[o],e=>{e.loading_recommend=!0,e.content&&(e.content.rate=r)})},postBookRecommendationSuccess:(e,t)=>{let{productId:o,rate:r}=t.payload;e.products[o].loading_recommend=!1,e.products[o]=(0,s.ZP)(e.products[o],e=>{e.content&&(e.content.rate=r)})},postBookRecommendationFailure:(e,t)=>{let{productId:o}=t.payload;e.products[o].loading_recommend=!1},setProduct:(e,t)=>{let{product:o,productId:r}=t.payload;p(e,r),e.products[r].content=o}}}),{clearProduct:_,setNavBarDark:f,getProductRequest:y,getProductSuccess:b,getProductFailure:S,clearProductMentions:v,getProductMentionsRequest:h,getProductMentionsSuccess:B,getProductMentionsFailure:R,getProductDetailedRequest:L,getProductDetailedSuccess:C,getProductDetailedFailure:F,clearProductsRelated:P,getProductsRelatedRequest:k,getProductsRelatedSuccess:M,getProductsRelatedFailure:Z,getProductsRelatedByBisacRequest:E,getProductsRelatedByBisacSuccess:w,getProductsRelatedByBisacFailure:I,getTrendingProductsRequest:q,getTrendingProductsSuccess:O,getTrendingProductsFailure:T,getProductPreviewRequest:D,getProductPreviewSuccess:U,getProductPreviewFailure:A,postBookRecommendationRequest:N,postBookRecommendationSuccess:x,postBookRecommendationFailure:G,setProduct:V}=m.actions;function H(e,t){return()=>{n.Z.postSaveSearch(e,t).then(()=>{},()=>{})}}function W(e){return t=>{t(y({productId:e})),n.Z.getProductById(e).then(o=>{t(b({response:o,productId:e}))},o=>{t(S({error:o.toString(),productId:e})),a.Z.sendError(o)})}}function z(e,t,o){return r=>{r(y({productId:t})),n.Z.getProductByEan({ean:e,affiliate_id:o}).then(e=>{r(b({response:e,productId:e.id}))},e=>{r(S({error:e.toString(),productId:t})),a.Z.sendError(e)})}}function j(e){return t=>{t(L({productId:e})),n.Z.getProductDetailed(e).then(o=>{t(C({response:o,productId:e}))},o=>{t(F({error:o.toString(),productId:e})),a.Z.sendError(o)})}}function X(e,t,o,r){return s=>{s(h({type:o,productId:t})),i.Z.getProductMentions(e,t,o,r).then(e=>{s(B({response:e,productId:t,type:o}))},e=>{s(R({type:o,error:e.toString(),productId:t})),a.Z.sendError(e)})}}function Y(e,t){return o=>{o(k({productId:t})),n.Z.getRelatedBooks(e,t).then(e=>{o(M({response:e,productId:t}))},e=>{o(Z({productId:t,error:e.toString()})),a.Z.sendError(e)})}}function Q(e,t){return o=>{o(E({productId:t})),n.Z.getRelatedBooksByBisac(e,t).then(e=>{o(w({response:e,productId:t}))},e=>{o(I({productId:t,error:e.toString()})),a.Z.sendError(e)})}}function J(e){return t=>{t(D),l.Z.getProductPreview(e).then(e=>{t(U({response:e}))},e=>{t(A()),a.Z.sendError(e)})}}function $(e,t){return o=>{o(N({productId:e,rate:t})),d.Z.postBookRecommendation(e,t).then(()=>{o(x({productId:e,rate:t}))},e=>{o(G({rate:t,error:e.toString()})),a.Z.sendError(e)})}}t.ZP=m.reducer},91067:function(e,t,o){o.d(t,{AQ:function(){return d},BP:function(){return L},Cd:function(){return R},F0:function(){return y},M2:function(){return b},Ug:function(){return u},z1:function(){return C}});var r=o(29829),s=o(91960),a=o(60083);let n={size:12,page_number:-1,total_pages:-1,loading:!1,content:[],total_elements:0},i={loading:!1,error_message:void 0,history:[],autocomplete:[],results:n,currentCategoryBisacForPage:void 0,searchFeaturedBookModalResults:n},l=(0,r.oM)({name:"search",initialState:i,reducers:{clearSearch:()=>i,clearSearchResults:e=>{e.results=n},getSearchResultsRequest:e=>{e.results.loading=!0},getSearchResultsSuccess:(e,t)=>{e.results.loading=!1;let{pageable:o,total_pages:r,content:s,totalElements:a}=t.payload;if(o.page_number>e.results.page_number){e.results.page_number=o.page_number,e.results.total_pages=r,e.results.total_elements=a;let t=s.filter(t=>!e.results.content.find(e=>e.id===t.id));e.results.content=e.results.content.concat(t)}},getSearchResultsFailure:(e,t)=>{e.results.loading=!1,e.error_message=t.payload},getSearchAutocompleteRequest:e=>{e.loading=!0},getSearchAutocompleteSuccess:(e,t)=>{e.loading=!1,e.autocomplete=t.payload},getSearchAutocompleteFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},addSearchHistory:(e,t)=>{-1===e.history.indexOf(t.payload)&&e.history.push(t.payload)},removeSearchHistory:(e,t)=>{e.history=e.history.filter(e=>e!==t.payload)},clearSearchHistory:e=>{e.history=[]},getCategoryCodeByLabelRequest:e=>{e.loading=!0},getCategoryCodeByLabelSuccess:(e,t)=>{e.loading=!1,e.currentCategoryBisacForPage=t.payload},getCategoryCodeByLabelFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},clearSearchFeaturedBookModalResults:e=>{e.searchFeaturedBookModalResults=n}}}),{clearSearch:d,clearSearchResults:u,getSearchResultsRequest:c,getSearchResultsSuccess:g,getSearchResultsFailure:p,getSearchAutocompleteRequest:m,getSearchAutocompleteSuccess:_,getSearchAutocompleteFailure:f,addSearchHistory:y,removeSearchHistory:b,clearSearchHistory:S,getCategoryCodeByLabelRequest:v,getCategoryCodeByLabelSuccess:h,getCategoryCodeByLabelFailure:B,clearSearchFeaturedBookModalResults:R}=l.actions;function L(e,t){return o=>{o(c()),a.Z.getSearchResults(e,t).then(e=>{o(g(e))},e=>{o(p(e.toString())),s.Z.sendError(e)})}}function C(e){return t=>{t(m()),a.Z.getSearchAutocomplete(e).then(e=>{t(_(e))},e=>{t(f(e.toString())),s.Z.sendError(e)})}}t.ZP=l.reducer},71519:function(e,t,o){o.d(t,{JK:function(){return f},Rx:function(){return m},rL:function(){return i},zf:function(){return y}});var r=o(29829),s=o(80059);let a={loading:!1,error:void 0,special_offer:{max_discount:25,discount_percentage:50,special_offer_enabled:!0,special_offer_modal_displayed:!1},user_has_used_special_offer:!1,membership_levels:[],subscriptions:[],isFirstTimeAfterSignUp:!1},n=(0,r.oM)({name:"settings",initialState:a,reducers:{clearSettings:()=>a,getSettingsRequest:e=>{e.loading=!0,e.error=void 0},getSettingsSuccess:(e,t)=>{let{special_offer:o,user_has_used_special_offer:r,membership_levels:s,subscriptions:a}=t.payload,{max_discount:n,discount_percentage:i,special_offer_enabled:l}=o;e.loading=!1,e.error=void 0,e.membership_levels=s,e.subscriptions=a,e.special_offer.max_discount=n,e.special_offer.discount_percentage=i,e.special_offer.special_offer_enabled=l,e.user_has_used_special_offer=r},getSettingsFailure:(e,t)=>{e.loading=!1,e.error=t.payload},setSpecialOfferModalRequest:e=>{e.loading=!0,e.error=void 0},setSpecialOfferModalSuccess:(e,t)=>{e.loading=!1,e.error=void 0,e.special_offer.special_offer_modal_displayed=t.payload},setSpecialOfferModalFailure:(e,t)=>{e.loading=!1,e.error=t.payload},setIsFirstTimeAfterSignUp:(e,t)=>{e.isFirstTimeAfterSignUp=t.payload},getSubscriptionFailure:(e,t)=>{e.loading=!1,e.error=t.payload}}}),{clearSettings:i,getSettingsRequest:l,getSettingsSuccess:d,getSettingsFailure:u,setSpecialOfferModalRequest:c,setSpecialOfferModalSuccess:g,setSpecialOfferModalFailure:p,setIsFirstTimeAfterSignUp:m,getSubscriptionFailure:_}=n.actions;function f(){return e=>{e(l()),s.Z.getSetttingsInfo().then(t=>{e(d(t))},t=>{e(u(t.toString()))})}}function y(e){return t=>{t(g(e))}}t.ZP=n.reducer},69574:function(e,t,o){o.d(t,{HV:function(){return m},IU:function(){return R},L4:function(){return _}});var r=o(29829),s=o(71478),a=o(79045),n=o(43601),i=o(39149),l=o(16627),d=o(96761),u=o(7861),c=o(68526);let g={email:"",secret_code:"",password:"",first_name:"",last_name:"",newsletter_subscribed:!1,loading:!1,error:null},p=(0,r.oM)({name:"signup",initialState:g,reducers:{clearSignup:()=>g,updateField:(e,t)=>{let{email:o,password:r,first_name:s,last_name:a,newsletter_subscribed:n}=t.payload;void 0!==o&&(e.email=o),void 0!==r&&(e.password=r),void 0!==s&&(e.first_name=s),void 0!==a&&(e.last_name=a),void 0!==n&&(e.newsletter_subscribed=n)},signupRequest:e=>{e.loading=!0,e.error=void 0},signupSuccess:e=>{e.email="",e.password="",e.first_name="",e.last_name="",e.newsletter_subscribed=!1,e.error=void 0,e.loading=!1},signupFailure:(e,t)=>{e.loading=!1,e.error=t.payload},signupWithTwitterRequest:(e,t)=>{let{email:o,secret_code:r}=t.payload;e.loading=!0,e.email=o,e.secret_code=r,e.error=void 0},signupWithTwitterSuccess:e=>{e.email="",e.secret_code="",e.password="",e.first_name="",e.last_name="",e.newsletter_subscribed=!1,e.error=void 0,e.loading=!1},signupWithTwitterFailure:(e,t)=>{e.loading=!1,e.error=t.payload}}}),{clearSignup:m,updateField:_,signupRequest:f,signupSuccess:y,signupFailure:b,signupWithTwitterRequest:S,signupWithTwitterSuccess:v,signupWithTwitterFailure:h}=p.actions;async function B(e){let{newsletter_subscribed:t,sendSegmentTrack:o,dataForSegmentEventProperties:r}=e;n.Z.getUserInfo().then(async e=>{let s={id:null==e?void 0:e.id,authorities:null==e?void 0:e.authorities,active_membership:null==e?void 0:e.active_membership,twitter_account_connected:null==e?void 0:e.twitter_account_connected},a={data:e,...(0,l.pS)({...r}),user:s};await o({name:i.FP.UserSignup,params:a}),t&&await o({name:i.FP.NewslettersOptinSignup,params:a})})}function R(e){let{authdata:t,callback:o,sendSegmentTrack:r,dataForSegmentEventProperties:n,sendSegmentIdentify:i}=e;return e=>{e(f()),s.Z.signup(t).then(async s=>{e(y()),e((0,d.Y$)(s)),await (0,u.bG)(i)(e),e((0,c.e1)(!0)),B({newsletter_subscribed:t.newsletter_subscribed,sendSegmentTrack:r,dataForSegmentEventProperties:n}).then(()=>{o?o():a.Z.emit("Navigation Navigate",{name:"OnboardingSelectBookCategories"})})},t=>{e(b(t.toString()))})}}t.ZP=p.reducer},33708:function(e,t,o){o.d(t,{$7:function(){return f},sR:function(){return d}});var r=o(29829),s=o(91960),a=o(43188);o(92757);var n=o(43539),i=o(51023);let l=(0,r.oM)({name:"Today",initialState:{loading:!1,content:[],banners:[],error:void 0},reducers:{clearTodayBooks:e=>{e.loading=!1,e.content=[],e.error=void 0},getTodayBooksRequest:e=>{e.loading=!0,e.error=void 0},getTodayBooksSuccess:(e,t)=>{let{response:o}=t.payload;e.loading=!1,e.content=o,e.error=void 0},getTodayBooksFailure:(e,t)=>{e.loading=!1,e.error=t.payload},getBannersRequest:e=>{e.loading=!0,e.error=void 0},getBannersSuccess:(e,t)=>{let o=t.payload.response;e.loading=!1,e.banners=o.filter(e=>(0,n.gn)(i.Z.VERSION,e.minVersion)&&(0,n.gn)(e.maxVersion,i.Z.VERSION)),e.error=void 0},getBannersFailure:(e,t)=>{e.loading=!1,e.error=t.payload}}}),{clearTodayBooks:d,getTodayBooksRequest:u,getTodayBooksSuccess:c,getTodayBooksFailure:g,getBannersRequest:p,getBannersSuccess:m,getBannersFailure:_}=l.actions;function f(){return e=>{e(u()),a.Z.getTodayBooks().then(t=>{e(c({response:t}))},t=>{e(g({error:t.toString()})),s.Z.sendError(t)})}}t.ZP=l.reducer},81261:function(e,t,o){o.d(t,{m8:function(){return n}});var r=o(29829);o(91960),o(57711);let s={size:12,page_number:-1,total_pages:-1,loading:!1,content:[]},a=(0,r.oM)({name:"trending",initialState:{loading:!1,bookCategories:[],lists:{}},reducers:{clearBookCategories:e=>{e.lists={},e.bookCategories=[]},getBookCategoriesRequest:e=>{e.loading=!0,e.error_message=""},getBookCategoriesSuccess:(e,t)=>{let{response:o}=t.payload;e.loading=!1,e.bookCategories=o;let r=o.reduce((e,t)=>({...e,[t.id]:s}),{});e.lists=r},getBookCategoriesFailure:(e,t)=>{e.loading=!1,e.error_message=t.payload},clearTrendingList:(e,t)=>{let o=t.payload;e.lists[o]=s},getTrendingListRequest:(e,t)=>{let{bookCategory:o}=t.payload;e.lists[o]||(e.lists[o]=s),e.lists[o].loading=!0},getTrendingListSuccess:(e,t)=>{let{bookCategory:o,response:r}=t.payload;e.lists[o].loading=!1;let{pageable:s={page_number:0},total_pages:a=1,content:n=r}=r;e.lists[o].page_number=s.page_number,e.lists[o].total_pages=a,e.lists[o].content=n},getTrendingListFailure:(e,t)=>{let{bookCategory:o,error:r}=t.payload;e.lists[o].loading=!1,e.lists[o].error_message=r}}}),{clearBookCategories:n,getBookCategoriesRequest:i,getBookCategoriesSuccess:l,getBookCategoriesFailure:d,clearTrendingList:u,getTrendingListRequest:c,getTrendingListSuccess:g,getTrendingListFailure:p}=a.actions;t.ZP=a.reducer},40623:function(e,t,o){o.d(t,{_X:function(){return s}});var r=o(29829);o(57012);let s={content:[],loading:!0,total_elements:0,page_number:-1,total_pages:-1,last_page:!1,size:0,number:-1,last:!1,number_of_elements:0,empty:!1},a={loading:!1,error_message:"",readingLists:{}},n=(0,r.oM)({name:"userPublicLists",initialState:a,reducers:{clearUserPublicList:()=>a,getUserPublicListsRequest:(e,t)=>{let{categories:o}=t.payload;if(!o||0===o.length){console.error("No categories provided for getUserPublicListsRequest");return}null==o||o.forEach(t=>{e.readingLists[t]||(e.readingLists[t]=s)}),e.error_message="",e.loading=!0},getUserPublicListsSuccess:(e,t)=>{let{response:o,categories:r,page:s}=t.payload;if(!o||!o.content){console.error("Invalid response structure in getUserPublicListsSuccess",o);return}null==r||r.forEach(t=>{let{pageable:r,last:a,content:n,size:i,first:l}=o;if(l)e.readingLists[t].content=n;else if(r.page_number>e.readingLists[t].page_number){let o=new Set(e.readingLists[t].content.map(e=>e.custom_list_id)),r=n.filter(e=>!o.has(e.custom_list_id));e.readingLists[t].content=[...e.readingLists[t].content,...r]}e.readingLists[t].page_number=s,e.readingLists[t].last_page=a,e.readingLists[t].size=i,e.readingLists[t].loading=!1}),e.loading=!1},getUserPublicListsFailure:(e,t)=>{let{error:o}=t.payload;e.loading=!1,e.error_message=o}}}),{clearUserPublicList:i,getUserPublicListsRequest:l,getUserPublicListsSuccess:d,getUserPublicListsFailure:u}=n.actions;t.ZP=n.reducer},7861:function(e,t,o){o.d(t,{H:function(){return Z},Q7:function(){return P},WX:function(){return k},bG:function(){return M},cH:function(){return F},fR:function(){return R},pn:function(){return l},py:function(){return g},tm:function(){return C},uI:function(){return E}});var r=o(29829),s=o(43601),a=o(56612);let n={loading:void 0,error:void 0,doneInAppReview:void 0,isTwitter:!1,id:void 0,authorities:void 0,email:void 0,first_name:void 0,last_name:void 0,active_membership:!1,total_shares:0,has_used_trial:!1,membership_level:void 0,membership:{type:void 0,current_level:"",founding_member:!1,period_start:"",subscription_date:"",expiration_date:"",period_spent_amount:0,trial_period:"",membership_expiration_date:"",membership_subscription_date:""},banners:[],userProfile:void 0,actionLogout:!1},i=(0,r.oM)({name:"user",initialState:n,reducers:{clearUser:()=>n,getUserInfoRequest:e=>{e.loading=!0,e.error=void 0,e.has_used_trial=!1},getUserInfoSuccess:(e,t)=>{let{id:o,authorities:r,email:s,first_name:a,last_name:n,active_membership:i,total_shares:l,twitter_account_connected:d,has_used_trial:u,membership_level:c,membership:g}=t.payload;e.loading=!1,e.isTwitter=d,e.id=o,e.authorities=r,e.email=s,e.first_name=a,e.last_name=n,e.active_membership=i,e.total_shares=l,e.has_used_trial=u,e.membership_level=c,e.membership=g},setTwitterConnected:(e,t)=>{e.isTwitter=t.payload},getUserInfoFailure:(e,t)=>{e.loading=!1,e.error=t.payload},getMembershipInfoRequest:e=>{e.loading=!0,e.error=void 0},joinMembershipRequest:e=>{e.loading=!0,e.error=void 0},joinMembershipSuccess:e=>{e.loading=!1,e.active_membership=!0},joinMembershipFailure:(e,t)=>{e.loading=!1,e.error=t.payload},getUserBannersRequest:e=>{e.loading=!0,e.error=void 0},getUserBannersSuccess:(e,t)=>{e.loading=!1;let o=t.payload.data;0===o.length?e.banners=e.banners.filter(e=>e.asset_type!==t.payload.type):o.forEach(t=>{let o=e.banners.findIndex(e=>e.id===t.id);-1!==o?e.banners[o]=t:e.banners.push(t)})},getUserBannersFailure:(e,t)=>{e.loading=!1,e.error=t.payload},activateMembership:e=>{e.loading=!1,e.active_membership=!0},inAppReviewComplete:e=>{e.doneInAppReview=!0},getUserOrdersRequest:e=>{e.loading=!0,e.error=void 0},getUserOrdersSuccess:(e,t)=>{if(e.loading=!1,0===t.payload.pageable.page_number||t.payload.isDesktop)e.userOrders=t.payload;else{let o={...t.payload,content:[...e.userOrders?e.userOrders.content:[],...t.payload.content]};e.userOrders=o}},getUserOrdersFailure:(e,t)=>{e.loading=!1,e.error=t.payload},setCurrentBookInSearchFeaturedBookModalSuccess:(e,t)=>{let{product:o}=t.payload;e.currentBookInSearchFeaturedBookModal=o},setUserProfileSuccess:(e,t)=>{e.userProfile=t.payload},cleanUserProfile:e=>{e.userProfile=void 0,e.actionLogout=!0},resetActionOnProfile:e=>{e.actionLogout=!1}}}),{clearUser:l,getUserInfoRequest:d,getUserInfoSuccess:u,getUserInfoFailure:c,setTwitterConnected:g,getMembershipInfoRequest:p,joinMembershipRequest:m,joinMembershipSuccess:_,joinMembershipFailure:f,getUserBannersRequest:y,getUserBannersSuccess:b,getUserBannersFailure:S,activateMembership:v,inAppReviewComplete:h,getUserOrdersRequest:B,getUserOrdersSuccess:R,getUserOrdersFailure:L,setCurrentBookInSearchFeaturedBookModalSuccess:C,setUserProfileSuccess:F,cleanUserProfile:P,resetActionOnProfile:k}=i.actions;function M(e){return t=>(t(d()),s.Z.getUserInfo().then(o=>(t(u(o)),e&&e({id:o.id,params:o}),o),e=>{t(c(e.toString()))}))}function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.P.HOME_TOP;return t=>{t(y()),s.Z.getUserBanners(e).then(o=>{t(b({data:o,type:e}))},e=>{t(S(e.toString()))})}}function E(e){let{size:t,page:o}=e;return e=>(e(B()),s.Z.getUsersOrders({size:t,page:o}).then(t=>{e(R(t))},t=>{e(L(t.toString()))}))}t.ZP=i.reducer}}]);