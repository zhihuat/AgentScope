"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7936],{17936:function(e,t,r){r.d(t,{f:function(){return eo}});var i,o,s=r(97582),n=r(16459),a=r(48702),u=r(47037),c=r(49379),l=r(72198),h=r(30020),f=r(37280),p=r(19065),v=r(76487),y=r(80900),d=r(30320),b=r(18056),m=r(46951),g=r(69383),w=r(21436),q=r(36765),k=r(51761),Q=r(13154),D=r(60897),O=r(48216),S=r(55687),P=r(30990);function R(e){return!!e&&e<7}(i=o||(o={}))[i.loading=1]="loading",i[i.setVariables=2]="setVariables",i[i.fetchMore=3]="fetchMore",i[i.refetch=4]="refetch",i[i.poll=6]="poll",i[i.ready=7]="ready",i[i.error=8]="error";var _=r(53712),M=r(79487),I=r(18263),E=r(86403),T=r(23361);function F(e){return!!e.directives&&e.directives.some(L)}function L(e){return"nonreactive"===e.name.value}var x=Object.assign,C=Object.hasOwnProperty,N=function(e){function t(t){var r=t.queryManager,i=t.queryInfo,o=t.options,n=e.call(this,function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=V)}catch(e){}var r=!n.observers.size;n.observers.add(e);var i=n.last;return i&&i.error?e.error&&e.error(i.error):i&&i.result&&e.next&&e.next(i.result),r&&n.reobserve().catch(function(){}),function(){n.observers.delete(e)&&!n.observers.size&&n.tearDownQuery()}})||this;n.observers=new Set,n.subscriptions=new Set,n.queryInfo=i,n.queryManager=r,n.waitForOwnResult=W(o.fetchPolicy),n.isTornDown=!1;var a=r.defaultOptions.watchQuery,u=(void 0===a?{}:a).fetchPolicy,c=void 0===u?"cache-first":u,l=o.fetchPolicy,h=void 0===l?c:l,f=o.initialFetchPolicy,p=void 0===f?"standby"===h?c:h:f;n.options=(0,s.pi)((0,s.pi)({},o),{initialFetchPolicy:p,fetchPolicy:h}),n.queryId=i.queryId||r.generateQueryId();var v=(0,q.$H)(n.query);return n.queryName=v&&v.name&&v.name.value,n}return(0,s.ZT)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise(function(t,r){var i={next:function(r){t(r),e.observers.delete(i),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout(function(){o.unsubscribe()},0)},error:r},o=e.subscribe(i)})},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),r=this.queryInfo.networkStatus||t&&t.networkStatus||o.ready,i=(0,s.pi)((0,s.pi)({},t),{loading:R(r),networkStatus:r}),n=this.options.fetchPolicy,a=void 0===n?"cache-first":n;if(W(a)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var u=this.queryInfo.getDiff();(u.complete||this.options.returnPartialData)&&(i.data=u.result),(0,h.D)(i.data,{})&&(i.data=void 0),u.complete?(delete i.partial,u.complete&&i.networkStatus===o.loading&&("cache-first"===a||"cache-only"===a)&&(i.networkStatus=o.ready,i.loading=!1)):i.partial=!0,!1===globalThis.__DEV__||u.complete||this.options.partialRefetch||i.loading||i.data||i.error||G(u.missing)}return e&&this.updateLastResult(i),i},t.prototype.isDifferentFromLastResult=function(e,t){var r,i,o,n,a,u,c;return!this.last||(this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?(r=this.query,i=this.last.result,o=this.variables,n=i.data,a=(0,s._T)(i,["data"]),u=e.data,c=(0,s._T)(e,["data"]),!((0,h.Z)(a,c)&&function e(t,r,i,o){if(r===i)return!0;var s=new Set;return t.selections.every(function(t){if(s.has(t)||(s.add(t),!(0,p.LZ)(t,o.variables)||F(t)))return!0;if((0,k.My)(t)){var n=(0,k.u2)(t),a=r&&r[n],u=i&&i[n],c=t.selectionSet;if(!c)return(0,h.Z)(a,u);var l=Array.isArray(a),f=Array.isArray(u);if(l!==f)return!1;if(l&&f){var v=a.length;if(u.length!==v)return!1;for(var y=0;y<v;++y)if(!e(c,a[y],u[y],o))return!1;return!0}return e(c,a,u,o)}var d=(0,T.hi)(t,o.fragmentMap);if(d)return!!F(d)||e(d.selectionSet,r,i,o)})}((0,q.p$)(r).selectionSet,n,u,{fragmentMap:(0,T.F)((0,q.kU)(r)),variables:o}))):!(0,h.D)(this.last.result,e))||t&&!(0,h.D)(this.last.variables,t)},t.prototype.getLast=function(e,t){var r=this.last;if(r&&r[e]&&(!t||(0,h.D)(r.variables,this.variables)))return r[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,r={pollInterval:0},i=this.options.fetchPolicy;if("cache-and-network"===i?r.fetchPolicy=i:"no-cache"===i?r.fetchPolicy="no-cache":r.fetchPolicy="network-only",!1!==globalThis.__DEV__&&e&&C.call(e,"variables")){var a=(0,q.iW)(this.query),u=a.variableDefinitions;u&&u.some(function(e){return"variables"===e.variable.name.value})||!1===globalThis.__DEV__||n.kG.warn(18,e,(null===(t=a.name)||void 0===t?void 0:t.value)||a)}return e&&!(0,h.D)(this.options.variables,e)&&(r.variables=this.options.variables=(0,s.pi)((0,s.pi)({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(r,o.refetch)},t.prototype.fetchMore=function(e){var t=this,r=(0,s.pi)((0,s.pi)({},e.query?e:(0,s.pi)((0,s.pi)((0,s.pi)((0,s.pi)({},this.options),{query:this.options.query}),e),{variables:(0,s.pi)((0,s.pi)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});r.query=this.transformDocument(r.query);var i=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):r.query;var n=this.queryInfo,a=n.networkStatus;n.networkStatus=o.fetchMore,r.notifyOnNetworkStatusChange&&this.observe();var u=new Set;return this.queryManager.fetchQuery(i,r,o.fetchMore).then(function(s){return t.queryManager.removeQuery(i),n.networkStatus===o.fetchMore&&(n.networkStatus=a),t.queryManager.cache.batch({update:function(i){var o=e.updateQuery;o?i.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},function(e){return o(e,{fetchMoreResult:s.data,variables:r.variables})}):i.writeQuery({query:r.query,variables:r.variables,data:s.data})},onWatchUpdated:function(e){u.add(e.query)}}),s}).finally(function(){u.has(t.query)||A(t)})},t.prototype.subscribeToMore=function(e){var t=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(r){var i=e.updateQuery;i&&t.updateQuery(function(e,t){return i(e,{subscriptionData:r,variables:t.variables})})},error:function(t){if(e.onError){e.onError(t);return}!1!==globalThis.__DEV__&&n.kG.error(19,t)}});return this.subscriptions.add(r),function(){t.subscriptions.delete(r)&&r.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=(0,_.o)(this.options,e||{});x(this.options,t)},t.prototype.setVariables=function(e){return(0,h.D)(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size)?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},o.setVariables):Promise.resolve()},t.prototype.updateQuery=function(e){var t=this.queryManager,r=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});r&&(t.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var r=t.fetchPolicy,i=void 0===r?"cache-first":r,o=t.initialFetchPolicy,s=void 0===o?i:o;"standby"===i||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(i,{reason:e,options:t,observable:this,initialFetchPolicy:s}):"variables-changed"===e?t.fetchPolicy=s:t.fetchPolicy=t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,e,t,r)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,r=this.options.pollInterval;if(!r){t&&(clearTimeout(t.timeout),delete this.pollingInfo);return}if(!t||t.interval!==r){(0,n.kG)(r,20),(t||(this.pollingInfo={})).interval=r;var i=function(){e.pollingInfo&&(R(e.queryInfo.networkStatus)?s():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},o.poll).then(s,s))},s=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(i,t.interval))};s()}}},t.prototype.updateLastResult=function(e,t){void 0===t&&(t=this.variables);var r=this.getLastError();return r&&this.last&&!(0,h.D)(t,this.last.variables)&&(r=void 0),this.last=(0,s.pi)({result:this.queryManager.assumeImmutableResults?e:(0,M.X)(e),variables:t},r?{error:r}:null)},t.prototype.reobserveAsConcast=function(e,t){var r=this;this.isTornDown=!1;var i=t===o.refetch||t===o.fetchMore||t===o.poll,n=this.options.variables,a=this.options.fetchPolicy,u=(0,_.o)(this.options,e||{}),c=i?u:x(this.options,u),l=this.transformDocument(c.query);this.lastQuery=l,!i&&(this.updatePolling(),e&&e.variables&&!(0,h.D)(e.variables,n)&&"standby"!==c.fetchPolicy&&c.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",c),void 0===t&&(t=o.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=W(c.fetchPolicy));var f=function(){r.concast===y&&(r.waitForOwnResult=!1)},p=c.variables&&(0,s.pi)({},c.variables),v=this.fetch(c,t,l),y=v.concast,d=v.fromLink,b={next:function(e){f(),r.reportResult(e,p)},error:function(e){f(),r.reportError(e,p)}};return i||!d&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=y,this.observer=b),y.addObserver(b),y},t.prototype.reobserve=function(e,t){return this.reobserveAsConcast(e,t).promise},t.prototype.resubscribeAfterError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.last;this.resetLastResults();var i=this.subscribe.apply(this,e);return this.last=r,i},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var r=this.getLastError(),i=this.isDifferentFromLastResult(e,t);(r||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(r||i)&&(0,I.p)(this.observers,"next",e)},t.prototype.reportError=function(e,t){var r=(0,s.pi)((0,s.pi)({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:o.error,loading:!1});this.updateLastResult(r,t),(0,I.p)(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t}(O.y);function A(e){var t=e.options,r=t.fetchPolicy,i=t.nextFetchPolicy;return"cache-and-network"===r||"network-only"===r?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return(this.nextFetchPolicy=i,"function"==typeof i)?i.apply(this,arguments):r}}):e.reobserve()}function V(e){!1!==globalThis.__DEV__&&n.kG.error(21,e.message,e.stack)}function G(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&n.kG.debug(22,e)}function W(e){return"network-only"===e||"no-cache"===e||"standby"===e}(0,E.D)(N);var U=r(77304),B=r(75844),j=r(182),z=r(66438),J=function(){function e(e){var t=e.cache,r=e.client,i=e.resolvers,o=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,r&&(this.client=r),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(e){t.resolvers=(0,j.Ee)(t.resolvers,e)}):this.resolvers=(0,j.Ee)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,r=e.remoteResult,i=e.context,o=e.variables,n=e.onlyRunForcedResolvers,a=void 0!==n&&n;return(0,s.mG)(this,void 0,void 0,function(){return(0,s.Jh)(this,function(e){return t?[2,this.resolveDocument(t,r.data,i,o,this.fragmentMatcher,a).then(function(e){return(0,s.pi)((0,s.pi)({},r),{data:e.result})})]:[2,r]})})},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return(0,p.FS)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return(0,v.ob)(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,s.pi)((0,s.pi)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),(0,s.mG)(this,void 0,void 0,function(){return(0,s.Jh)(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then(function(e){return(0,s.pi)((0,s.pi)({},t),e.exportedVariables)})]:[2,(0,s.pi)({},t)]})})},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,U.Vn)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some(function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value})))return U.$_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:(0,v.aL)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,r,i,o,n){return void 0===r&&(r={}),void 0===i&&(i={}),void 0===o&&(o=function(){return!0}),void 0===n&&(n=!1),(0,s.mG)(this,void 0,void 0,function(){var a,u,c,l,h,f,p,v,y,d;return(0,s.Jh)(this,function(b){return a=(0,q.p$)(e),u=(0,q.kU)(e),c=(0,T.F)(u),l=this.collectSelectionsToResolve(a,c),f=(h=a.operation)?h.charAt(0).toUpperCase()+h.slice(1):"Query",p=this,v=p.cache,y=p.client,d={fragmentMap:c,context:(0,s.pi)((0,s.pi)({},r),{cache:v,client:y}),variables:i,fragmentMatcher:o,defaultOperationType:f,exportedVariables:{},selectionsToResolve:l,onlyRunForcedResolvers:n},[2,this.resolveSelectionSet(a.selectionSet,!1,t,d).then(function(e){return{result:e,exportedVariables:d.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(e,t,r,i){return(0,s.mG)(this,void 0,void 0,function(){var o,a,u,c,l,h=this;return(0,s.Jh)(this,function(f){return o=i.fragmentMap,a=i.context,u=i.variables,c=[r],l=function(e){return(0,s.mG)(h,void 0,void 0,function(){var l,h;return(0,s.Jh)(this,function(s){return(t||i.selectionsToResolve.has(e))&&(0,p.LZ)(e,u)?(0,k.My)(e)?[2,this.resolveField(e,t,r,i).then(function(t){var r;void 0!==t&&c.push(((r={})[(0,k.u2)(e)]=t,r))})]:((0,k.Ao)(e)?l=e:(l=o[e.name.value],(0,n.kG)(l,16,e.name.value)),l&&l.typeCondition&&(h=l.typeCondition.name.value,i.fragmentMatcher(r,h,a)))?[2,this.resolveSelectionSet(l.selectionSet,t,r,i).then(function(e){c.push(e)})]:[2]:[2]})})},[2,Promise.all(e.selections.map(l)).then(function(){return(0,j.bw)(c)})]})})},e.prototype.resolveField=function(e,t,r,i){return(0,s.mG)(this,void 0,void 0,function(){var o,n,a,u,c,l,h,f,p,v=this;return(0,s.Jh)(this,function(s){return r?(o=i.variables,u=(n=e.name.value)!==(a=(0,k.u2)(e)),l=Promise.resolve(c=r[a]||r[n]),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(h=r.__typename||i.defaultOperationType,(f=this.resolvers&&this.resolvers[h])&&(p=f[u?n:a])&&(l=Promise.resolve(z.ab.withValue(this.cache,p,[r,(0,k.NC)(e,o),i.context,{field:e,fragmentMap:i.fragmentMap}])))),[2,l.then(function(r){if(void 0===r&&(r=c),e.directives&&e.directives.forEach(function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach(function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(i.exportedVariables[e.value.value]=r)})}),!e.selectionSet||null==r)return r;var o,s,n=null!==(s=null===(o=e.directives)||void 0===o?void 0:o.some(function(e){return"client"===e.name.value}))&&void 0!==s&&s;return Array.isArray(r)?v.resolveSubSelectedArray(e,t||n,r,i):e.selectionSet?v.resolveSelectionSet(e.selectionSet,t||n,r,i):void 0})]):[2,null]})})},e.prototype.resolveSubSelectedArray=function(e,t,r,i){var o=this;return Promise.all(r.map(function(r){return null===r?null:Array.isArray(r)?o.resolveSubSelectedArray(e,t,r,i):e.selectionSet?o.resolveSelectionSet(e.selectionSet,t,r,i):void 0}))},e.prototype.collectSelectionsToResolve=function(e,t){var r=function(e){return!Array.isArray(e)},i=this.selectionsToResolveCache;return function e(o){if(!i.has(o)){var s=new Set;i.set(o,s),(0,U.Vn)(o,{Directive:function(e,t,i,o,n){"client"===e.name.value&&n.forEach(function(e){r(e)&&(0,B.pO)(e)&&s.add(e)})},FragmentSpread:function(i,o,a,u,c){var l=t[i.name.value];(0,n.kG)(l,17,i.name.value);var h=e(l);h.size>0&&(c.forEach(function(e){r(e)&&(0,B.pO)(e)&&s.add(e)}),s.add(i),h.forEach(function(e){s.add(e)}))}})}return i.get(o)}(e)},e}(),X=new(d.mr?WeakMap:Map);function H(e,t){var r=e[t];"function"==typeof r&&(e[t]=function(){return X.set(e,(X.get(e)+1)%1e15),r.apply(this,arguments)})}function K(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Z=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;X.has(r)||(X.set(r,0),H(r,"evict"),H(r,"modify"),H(r,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||o.loading;return this.variables&&this.networkStatus!==o.loading&&!(0,h.D)(this.variables,e.variables)&&(t=o.setVariables),(0,h.D)(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){K(this),this.dirty=!1},e.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&(0,h.D)(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var t=this.observableQuery;if(t&&"no-cache"===t.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(e);return this.updateLastDiff(r,e),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||(0,h.D)(r&&r.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return t.notify()},0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():A(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;K(this),this.shouldNotify()&&this.listeners.forEach(function(t){return t(e)}),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(R(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel;var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var r=this.observableQuery;if(!r||"no-cache"!==r.options.fetchPolicy){var i=(0,s.pi)((0,s.pi)({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&(0,h.D)(i,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===X.get(this.cache)&&(0,h.D)(t,r.variables)&&(0,h.D)(e.data,r.result.data))},e.prototype.markResult=function(e,t,r,i){var o=this,s=new j.w0,n=(0,w.O)(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&(0,w.O)(e.incremental)){var a=(0,f.mT)(this.getDiff().result,e);e.data=a}else if("hasNext"in e&&e.hasNext){var u=this.getDiff();e.data=s.merge(u.result,e.data)}this.graphQLErrors=n,"no-cache"===r.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):0!==i&&($(e,r.errorPolicy)?this.cache.performTransaction(function(s){if(o.shouldWrite(e,r.variables))s.writeQuery({query:t,data:e.data,variables:r.variables,overwrite:1===i}),o.lastWrite={result:e,variables:r.variables,dmCount:X.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){e.data=o.lastDiff.diff.result;return}var n=o.getDiffOptions(r.variables),a=s.diff(n);!o.stopped&&(0,h.D)(o.variables,r.variables)&&o.updateWatch(r.variables),o.updateLastDiff(a,n),a.complete&&(e.data=a.result)}):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=o.ready},e.prototype.markError=function(e){return this.networkStatus=o.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function $(e,t){void 0===t&&(t="none");var r="ignore"===t||"all"===t,i=!(0,g.d)(e);return!i&&r&&e.data&&(i=!0),i}var Y=r(68470),ee=Object.prototype.hasOwnProperty,et=function(){function e(e){var t=this,r=e.cache,i=e.link,o=e.defaultOptions,s=e.documentTransform,n=e.queryDeduplication,a=e.onBroadcast,u=e.ssrMode,c=e.clientAwareness,l=e.localState,h=e.assumeImmutableResults,f=void 0===h?!!r.assumeImmutableResults:h;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(d.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map;var p=new b.A(function(e){return t.cache.transformDocument(e)},{cache:!1});this.cache=r,this.link=i,this.defaultOptions=o||Object.create(null),this.queryDeduplication=void 0!==n&&n,this.clientAwareness=void 0===c?{}:c,this.localState=l||new J({cache:r}),this.ssrMode=void 0!==u&&u,this.assumeImmutableResults=f,this.documentTransform=s?p.concat(s).concat(p):p,(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach(function(t,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches((0,n._K)(23))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(t){return t(e)}),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t,r,i=e.mutation,o=e.variables,a=e.optimisticResponse,u=e.updateQueries,c=e.refetchQueries,l=void 0===c?[]:c,h=e.awaitRefetchQueries,f=void 0!==h&&h,p=e.update,v=e.onQueryUpdated,y=e.fetchPolicy,d=void 0===y?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":y,b=e.errorPolicy,w=void 0===b?(null===(r=this.defaultOptions.mutate)||void 0===r?void 0:r.errorPolicy)||"none":b,q=e.keepRootFields,k=e.context;return(0,s.mG)(this,void 0,void 0,function(){var e,t,r,c;return(0,s.Jh)(this,function(h){switch(h.label){case 0:if((0,n.kG)(i,24),(0,n.kG)("network-only"===d||"no-cache"===d,25),e=this.generateMutationId(),i=this.cache.transformForLink(this.transform(i)),t=this.getDocumentInfo(i).hasClientExports,o=this.getVariables(i,o),!t)return[3,2];return[4,this.localState.addExportedVariables(i,o,k)];case 1:o=h.sent(),h.label=2;case 2:return r=this.mutationStore&&(this.mutationStore[e]={mutation:i,variables:o,loading:!0,error:null}),a&&this.markMutationOptimistic(a,{mutationId:e,document:i,variables:o,fetchPolicy:d,errorPolicy:w,context:k,updateQueries:u,update:p,keepRootFields:q}),this.broadcastQueries(),c=this,[2,new Promise(function(t,n){return(0,m.s)(c.getObservableFromLink(i,(0,s.pi)((0,s.pi)({},k),{optimisticResponse:a}),o,!1),function(t){if((0,g.d)(t)&&"none"===w)throw new P.cA({graphQLErrors:(0,g.K)(t)});r&&(r.loading=!1,r.error=null);var n=(0,s.pi)({},t);return"function"==typeof l&&(l=l(n)),"ignore"===w&&(0,g.d)(n)&&delete n.errors,c.markMutationResult({mutationId:e,result:n,document:i,variables:o,fetchPolicy:d,errorPolicy:w,context:k,update:p,updateQueries:u,awaitRefetchQueries:f,refetchQueries:l,removeOptimistic:a?e:void 0,onQueryUpdated:v,keepRootFields:q})}).subscribe({next:function(e){c.broadcastQueries(),"hasNext"in e&&!1!==e.hasNext||t(e)},error:function(t){r&&(r.loading=!1,r.error=t),a&&c.cache.removeOptimistic(e),c.broadcastQueries(),n(t instanceof P.cA?t:new P.cA({networkError:t}))}})})]}})})},e.prototype.markMutationResult=function(e,t){var r=this;void 0===t&&(t=this.cache);var i=e.result,o=[],n="no-cache"===e.fetchPolicy;if(!n&&$(i,e.errorPolicy)){if((0,f.GG)(i)||o.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),(0,f.GG)(i)&&(0,w.O)(i.incremental)){var a=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),u=void 0;a.result&&(u=(0,f.mT)(a.result,i)),void 0!==u&&(i.data=u,o.push({result:u,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var c=e.updateQueries;c&&this.queries.forEach(function(e,s){var n=e.observableQuery,a=n&&n.queryName;if(a&&ee.call(c,a)){var u=c[a],l=r.queries.get(s),h=l.document,f=l.variables,p=t.diff({query:h,variables:f,returnPartialData:!0,optimistic:!1}),v=p.result;if(p.complete&&v){var y=u(v,{mutationResult:i,queryName:h&&(0,q.rY)(h)||void 0,queryVariables:f});y&&o.push({result:y,dataId:"ROOT_QUERY",query:h,variables:f})}}})}if(o.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var l=[];if(this.refetchQueries({updateCache:function(t){n||o.forEach(function(e){return t.write(e)});var a=e.update,u=!(0,f.M0)(i)||(0,f.GG)(i)&&!i.hasNext;if(a){if(!n){var c=t.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});c.complete&&("incremental"in(i=(0,s.pi)((0,s.pi)({},i),{data:c.result}))&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}u&&a(t,i,{context:e.context,variables:e.variables})}n||e.keepRootFields||!u||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var r=t.fieldName,i=t.DELETE;return"__typename"===r?e:i}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(e){return l.push(e)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(l).then(function(){return i})}return Promise.resolve(i)},e.prototype.markMutationOptimistic=function(e,t){var r=this,i="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction(function(e){try{r.markMutationResult((0,s.pi)((0,s.pi)({},t),{result:{data:i}}),e)}catch(e){!1!==globalThis.__DEV__&&n.kG.error(e)}},t.mutationId)},e.prototype.fetchQuery=function(e,t,r){return this.fetchConcastWithInfo(e,t,r).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}}),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var r={hasClientExports:(0,p.mj)(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:(0,p.FS)(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:(0,v.bi)([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:(0,q.O4)((0,q.$H)(e)),asQuery:(0,s.pi)((0,s.pi)({},e),{definitions:e.definitions.map(function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?(0,s.pi)((0,s.pi)({},e),{operation:"query"}):e})})};t.set(e,r)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,s.pi)((0,s.pi)({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);void 0===(e=(0,s.pi)((0,s.pi)({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var r=new Z(this),i=new N({queryManager:this,queryInfo:r,options:e});return i.lastQuery=t,this.queries.set(i.queryId,r),r.init({document:t,observableQuery:i,variables:i.variables}),i},e.prototype.query=function(e,t){var r=this;return void 0===t&&(t=this.generateQueryId()),(0,n.kG)(e.query,26),(0,n.kG)("Document"===e.query.kind,27),(0,n.kG)(!e.returnPartialData,28),(0,n.kG)(!e.pollInterval,29),this.fetchQuery(t,(0,s.pi)((0,s.pi)({},e),{query:this.transform(e.query)})).finally(function(){return r.stopQuery(t)})},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches((0,n._K)(30)),this.queries.forEach(function(e){e.observableQuery?e.networkStatus=o.loading:e.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var r=new Map,i=new Map,o=new Set;return Array.isArray(e)&&e.forEach(function(e){"string"==typeof e?i.set(e,!1):(0,k.JW)(e)?i.set(t.transform(e),!1):(0,Q.s)(e)&&e.query&&o.add(e)}),this.queries.forEach(function(t,o){var s=t.observableQuery,n=t.document;if(s){if("all"===e){r.set(o,s);return}var a=s.queryName;if("standby"===s.options.fetchPolicy||"active"===e&&!s.hasObservers())return;("active"===e||a&&i.has(a)||n&&i.has(n))&&(r.set(o,s),a&&i.set(a,!0),n&&i.set(n,!0))}}),o.size&&o.forEach(function(e){var i=(0,D.X)("legacyOneTimeQuery"),o=t.getQuery(i).init({document:e.query,variables:e.variables}),a=new N({queryManager:t,queryInfo:o,options:(0,s.pi)((0,s.pi)({},e),{fetchPolicy:"network-only"})});(0,n.kG)(a.queryId===i),o.setObservableQuery(a),r.set(i,a)}),!1!==globalThis.__DEV__&&i.size&&i.forEach(function(e,t){e||!1===globalThis.__DEV__||n.kG.warn("string"==typeof t?31:32,t)}),r},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,o){var s=i.options.fetchPolicy;i.resetLastResults(),(e||"standby"!==s&&"cache-only"!==s)&&r.push(i.refetch()),t.getQuery(o).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,i=e.fetchPolicy,o=e.errorPolicy,s=void 0===o?"none":o,n=e.variables,a=e.context,u=void 0===a?{}:a;r=this.transform(r),n=this.getVariables(r,n);var c=function(e){return t.getObservableFromLink(r,u,e).map(function(o){"no-cache"!==i&&($(o,s)&&t.cache.write({query:r,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var n=(0,g.d)(o),a=(0,P.ls)(o);if(n||a){var u={};if(n&&(u.graphQLErrors=o.errors),a&&(u.protocolErrors=o.extensions[P.YG]),"none"===s||a)throw new P.cA(u)}return"ignore"===s&&delete o.errors,o})};if(this.getDocumentInfo(r).hasClientExports){var l=this.localState.addExportedVariables(r,n,u).then(c);return new O.y(function(e){var t=null;return l.then(function(r){return t=r.subscribe(e)},e.error),function(){return t&&t.unsubscribe()}})}return c(n)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,r,i){var o,n,a=this;void 0===i&&(i=null!==(o=null==t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var c=this.getDocumentInfo(e),l=c.serverQuery,h=c.clientQuery;if(l){var f=this.inFlightLinkObservables,p=this.link,v={query:l,variables:r,operationName:(0,q.rY)(l)||void 0,context:this.prepareContext((0,s.pi)((0,s.pi)({},t),{forceFetch:!i}))};if(t=v.context,i){var d=(0,Y.S)(l),b=f.get(d)||new Map;f.set(d,b);var g=(0,y.B)(r);if(!(n=b.get(g))){var w=new S.X([(0,u.h)(p,v)]);b.set(g,n=w),w.beforeNext(function(){b.delete(g)&&b.size<1&&f.delete(d)})}}else n=new S.X([(0,u.h)(p,v)])}else n=new S.X([O.y.of({data:{}})]),t=this.prepareContext(t);return h&&(n=(0,m.s)(n,function(e){return a.localState.runResolvers({document:h,remoteResult:e,context:t,variables:r})})),n},e.prototype.getResultsFromLink=function(e,t,r){var i=e.lastRequestId=this.generateRequestId(),s=this.cache.transformForLink(r.query);return(0,m.s)(this.getObservableFromLink(s,r.context,r.variables),function(n){var a=(0,g.K)(n),u=a.length>0;if(i>=e.lastRequestId){if(u&&"none"===r.errorPolicy)throw e.markError(new P.cA({graphQLErrors:a}));e.markResult(n,s,r,t),e.markReady()}var c={data:n.data,loading:!1,networkStatus:o.ready};return u&&"ignore"!==r.errorPolicy&&(c.errors=a,c.networkStatus=o.error),c},function(t){var r=(0,P.MS)(t)?t:new P.cA({networkError:t});throw i>=e.lastRequestId&&e.markError(r),r})},e.prototype.fetchConcastWithInfo=function(e,t,r,i){var s,n,a=this;void 0===r&&(r=o.loading),void 0===i&&(i=t.query);var u=this.getVariables(i,t.variables),c=this.getQuery(e),l=this.defaultOptions.watchQuery,h=t.fetchPolicy,f=void 0===h?l&&l.fetchPolicy||"cache-first":h,p=t.errorPolicy,v=void 0===p?l&&l.errorPolicy||"none":p,y=t.returnPartialData,d=t.notifyOnNetworkStatusChange,b=t.context,m=Object.assign({},t,{query:i,variables:u,fetchPolicy:f,errorPolicy:v,returnPartialData:void 0!==y&&y,notifyOnNetworkStatusChange:void 0!==d&&d,context:void 0===b?{}:b}),g=function(e){m.variables=e;var i=a.fetchQueryByPolicy(c,m,r);return"standby"!==m.fetchPolicy&&i.sources.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",t),i},w=function(){return a.fetchCancelFns.delete(e)};if(this.fetchCancelFns.set(e,function(e){w(),setTimeout(function(){return s.cancel(e)})}),this.getDocumentInfo(m.query).hasClientExports)s=new S.X(this.localState.addExportedVariables(m.query,m.variables,m.context).then(g).then(function(e){return e.sources})),n=!0;else{var q=g(m.variables);n=q.fromLink,s=new S.X(q.sources)}return s.promise.then(w,w),{concast:s,fromLink:n}},e.prototype.refetchQueries=function(e){var t=this,r=e.updateCache,i=e.include,o=e.optimistic,s=void 0!==o&&o,n=e.removeOptimistic,a=void 0===n?s?(0,D.X)("refetchQueries"):void 0:n,u=e.onQueryUpdated,c=new Map;i&&this.getObservableQueries(i).forEach(function(e,r){c.set(r,{oq:e,lastDiff:t.getQuery(r).getDiff()})});var l=new Map;return r&&this.cache.batch({update:r,optimistic:s&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,r){var i=e.watcher instanceof Z&&e.watcher.observableQuery;if(i){if(u){c.delete(i.queryId);var o=u(i,t,r);return!0===o&&(o=i.refetch()),!1!==o&&l.set(i,o),o}null!==u&&c.set(i.queryId,{oq:i,lastDiff:r,diff:t})}}}),c.size&&c.forEach(function(e,r){var i,o=e.oq,s=e.lastDiff,n=e.diff;if(u){if(!n){var a=o.queryInfo;a.reset(),n=a.getDiff()}i=u(o,n,s)}u&&!0!==i||(i=o.refetch()),!1!==i&&l.set(o,i),r.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(r)}),a&&this.cache.removeOptimistic(a),l},e.prototype.fetchQueryByPolicy=function(e,t,r){var i=this,n=t.query,a=t.variables,u=t.fetchPolicy,c=t.refetchWritePolicy,l=t.errorPolicy,f=t.returnPartialData,p=t.context,v=t.notifyOnNetworkStatusChange,y=e.networkStatus;e.init({document:n,variables:a,networkStatus:r});var d=function(){return e.getDiff()},b=function(t,r){void 0===r&&(r=e.networkStatus||o.loading);var u=t.result;!1===globalThis.__DEV__||f||(0,h.D)(u,{})||G(t.missing);var c=function(e){return O.y.of((0,s.pi)({data:e,loading:R(r),networkStatus:r},t.complete?null:{partial:!0}))};return u&&i.getDocumentInfo(n).hasForcedResolvers?i.localState.runResolvers({document:n,remoteResult:{data:u},context:p,variables:a,onlyRunForcedResolvers:!0}).then(function(e){return c(e.data||void 0)}):"none"===l&&r===o.refetch&&Array.isArray(t.missing)?c(void 0):c(u)},m="no-cache"===u?0:r===o.refetch&&"merge"!==c?1:2,g=function(){return i.getResultsFromLink(e,m,{query:n,variables:a,context:p,fetchPolicy:u,errorPolicy:l})},w=v&&"number"==typeof y&&y!==r&&R(r);switch(u){default:case"cache-first":var q=d();if(q.complete)return{fromLink:!1,sources:[b(q,e.markReady())]};if(f||w)return{fromLink:!0,sources:[b(q),g()]};return{fromLink:!0,sources:[g()]};case"cache-and-network":var q=d();if(q.complete||f||w)return{fromLink:!0,sources:[b(q),g()]};return{fromLink:!0,sources:[g()]};case"cache-only":return{fromLink:!1,sources:[b(d(),e.markReady())]};case"network-only":if(w)return{fromLink:!0,sources:[b(d()),g()]};return{fromLink:!0,sources:[g()]};case"no-cache":if(w)return{fromLink:!0,sources:[b(e.getDiff()),g()]};return{fromLink:!0,sources:[g()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Z(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,s.pi)((0,s.pi)({},t),{clientAwareness:this.clientAwareness})},e}(),er=r(14012),ei=!1,eo=function(){function e(e){var t=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw(0,n._K)(13);var r=e.uri,i=e.credentials,o=e.headers,s=e.cache,u=e.documentTransform,h=e.ssrMode,f=void 0!==h&&h,p=e.ssrForceFetchDelay,v=void 0===p?0:p,y=e.connectToDevTools,d=void 0===y?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1!==globalThis.__DEV__:y,b=e.queryDeduplication,m=void 0===b||b,g=e.defaultOptions,w=e.assumeImmutableResults,q=void 0===w?s.assumeImmutableResults:w,k=e.resolvers,Q=e.typeDefs,D=e.fragmentMatcher,O=e.name,S=e.version,P=e.link;P||(P=r?new l.u({uri:r,credentials:i,headers:o}):a.i.empty()),this.link=P,this.cache=s,this.disableNetworkFetches=f||v>0,this.queryDeduplication=m,this.defaultOptions=g||Object.create(null),this.typeDefs=Q,v&&setTimeout(function(){return t.disableNetworkFetches=!1},v),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=c.i,this.localState=new J({cache:s,client:this,resolvers:k,fragmentMatcher:D}),this.queryManager=new et({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,documentTransform:u,queryDeduplication:m,ssrMode:f,clientAwareness:{name:O,version:S},localState:this.localState,assumeImmutableResults:q,onBroadcast:d?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0}),d&&this.connectToDevTools()}return e.prototype.connectToDevTools=function(){if("object"==typeof window){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this}ei||!1===globalThis.__DEV__||(ei=!0,setTimeout(function(){if("undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var e=window.navigator,t=e&&e.userAgent,r=void 0;"string"==typeof t&&(t.indexOf("Chrome/")>-1?r="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":t.indexOf("Firefox/")>-1&&(r="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),r&&!1!==globalThis.__DEV__&&n.kG.log("Download the Apollo DevTools for a better development experience: %s",r)}},1e4))},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=(0,er.J)(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&("network-only"===e.fetchPolicy||"cache-and-network"===e.fetchPolicy)&&(e=(0,s.pi)((0,s.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=(0,er.J)(this.defaultOptions.query,e)),(0,n.kG)("cache-and-network"!==e.fetchPolicy,14),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,s.pi)((0,s.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=(0,er.J)(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return(0,u.h)(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return e.reFetchObservableQueries()})},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(e){return e()}))})},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),r=[],i=[];t.forEach(function(e,t){r.push(t),i.push(e)});var o=Promise.all(i);return o.queries=r,o.results=i,o.catch(function(e){!1!==globalThis.__DEV__&&n.kG.debug(15,e)}),o},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}()}}]);