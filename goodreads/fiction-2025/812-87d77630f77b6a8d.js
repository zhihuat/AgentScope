(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[812],{52759:function(e,t,r){"use strict";var n,i,o=r(67294);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none"},e),n||(n=o.createElement("g",{clipPath:"url(#IconSearchWhite_svg__a)"},o.createElement("path",{fill:"#fff",d:"M12.81 19.822c1.631 0 3.135-.528 4.366-1.406l4.629 4.628c.215.215.498.323.8.323.635 0 1.084-.489 1.084-1.114a1.06 1.06 0 0 0-.312-.78l-4.6-4.61a7.48 7.48 0 0 0 1.543-4.551c0-4.13-3.379-7.51-7.51-7.51-4.12 0-7.51 3.37-7.51 7.51 0 4.13 3.38 7.51 7.51 7.51Zm0-1.621c-3.222 0-5.888-2.666-5.888-5.889 0-3.223 2.666-5.889 5.889-5.889 3.222 0 5.888 2.666 5.888 5.889 0 3.223-2.666 5.889-5.888 5.889Z"}))),i||(i=o.createElement("defs",null,o.createElement("clipPath",{id:"IconSearchWhite_svg__a"},o.createElement("path",{fill:"#fff",d:"M5 4h19v20H5z"})))))}},50656:function(e,t,r){"use strict";var n,i,o=r(67294);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none"},e),n||(n=o.createElement("g",{stroke:"#fff",strokeWidth:1.482,clipPath:"url(#IconSendWhite_svg__a)"},o.createElement("path",{strokeLinejoin:"round",d:"m12.207 26.3 8.925-17.19-19.304 1.562 6.93 6.72 3.45 8.908Z"}),o.createElement("path",{strokeMiterlimit:10,d:"M21.132 9.111 8.698 17.37"}))),i||(i=o.createElement("defs",null,o.createElement("clipPath",{id:"IconSendWhite_svg__a"},o.createElement("path",{fill:"#fff",d:"m16.178.132 11.31 17.027-15.516 10.306L.662 10.437z"})))))}},16092:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/ArtSmallCrowd.74449734.png",height:372,width:411,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAclBMVEVMaXHU1tzu7uTw8OXr7N3U48yutZvw8Of6+u/7+u/z8+jd2rrj4deAUEHu7q3k5LKtgVr3/MfGtV3ZpH/qmSb45t7OqJTb+v/OuGTl0n3PLx+ZGgLu8ef///qzpHXx87rku3rEll7RuVxmHAmxNxz41GTGpN3yAAAAHHRSTlMAT9al/fd17Oz11/yHkZndjFf3/vz2ITCiuEU+80WcfAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEJJREFUeJwFwQcCgCAMBLBDgYIL96J1of//ogmwbKsiBczT99imA/Z37MPVAjENfN41YI9StDEViFmzSIHcOyLnsx91JwOEs2Z+pQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7}},18969:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(85893),i=r(67294),o=r(97706),s=r(22241),a=r.n(s),l=function(e){let{banner:t}=e;(0,i.useEffect)(()=>{let e=document.getElementById("UI_bannerTags");return e&&e.querySelectorAll("a").forEach(e=>{e.addEventListener("click",r)}),()=>{let e=document.getElementById("UI_bannerTags");e&&e.querySelectorAll("a").forEach(e=>{e.removeEventListener("click",r)})}},[t.content]);let r=e=>{e.preventDefault();let t=e.currentTarget.href;(0,o.PZ)(null,t)};return(0,n.jsx)("div",{id:"UI_bannerTags",className:a().bannerTags,dangerouslySetInnerHTML:{__html:t.content}},t.id)},c=function(e){let{banners:t}=e;return(0,n.jsx)(n.Fragment,{children:null==t?void 0:t.map(e=>(0,n.jsx)(l,{banner:e},e.id))})}},8694:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(85893);r(67294);var i=r(64521),o=r(87529),s=r(82463),a=r(86393);let l=s.Z.create({badgeOutline:{paddingVertical:a.ZP.gutters.paddingXS3,paddingHorizontal:a.ZP.gutters.paddingXXS,borderWidth:1,borderColor:a.ZP.colors.black,borderRadius:a.ZP.borderRadius.borderRadiusXS},badgeLight:{alignSelf:"flex-start",paddingVertical:a.ZP.gutters.paddingXS3,paddingHorizontal:a.ZP.gutters.paddingSM,backgroundColor:a.ZP.colors.turquoise_opa20,borderRadius:a.ZP.borderRadius.borderRadiusXS}});var c=function(e){let{type:t,label:r,style:s,dataCy:a}=e;return"outline"===t?(0,n.jsx)(i.Z,{cssClass:"UI_badgeOutline",style:[l.badgeOutline,s],children:(0,n.jsx)(o.Z,{type:"span",nospace:!0,dataCy:a,children:r})}):"lightColor"===t?(0,n.jsx)(i.Z,{cssClass:"UI_badgeLight",style:[l.badgeLight,s],children:(0,n.jsx)(o.Z,{type:"span",dataCy:a,children:r})}):(0,n.jsx)(n.Fragment,{})}},726:function(e,t,r){"use strict";var n=r(85893);r(67294);var i=r(32144),o=r(79045),s=r(43539),a=r(22241),l=r.n(a);let c=(e,t)=>{t.startsWith("mailto:")?i.Z.canOpenURL(t).then(e=>{e?i.Z.openURL(t):console.log("Don't know how to open URI: ".concat(t))}):o.Z.emit("Navigation Navigate",{name:"WebView",params:{uri:t}}),e&&e.preventDefault()};t.Z=e=>{let{content:t,darkMode:r=!1,formatLinks:i=!1,onPressLink:o}=e,a=i?(0,s.tH)(t):t,d=(e,t)=>{if(e.nodeType===Node.ELEMENT_NODE&&e instanceof HTMLElement){let{tagName:r,innerHTML:i}=e,s="".concat(t,"-").concat(r),a=e.getAttribute("href")||"#";switch(r.toLowerCase()){case"a":return(0,n.jsx)("a",{href:a,onClick:e=>{o?o(e,a):c(e,a),e&&e.preventDefault()},children:e.textContent},s);case"div":return(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:i}},s);case"p":return(0,n.jsx)("p",{dangerouslySetInnerHTML:{__html:i}},s);case"b":case"strong":return(0,n.jsx)("b",{dangerouslySetInnerHTML:{__html:i}},s);case"i":return(0,n.jsx)("i",{dangerouslySetInnerHTML:{__html:i}},s);default:return(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:i}},s)}}else if(e.nodeType===Node.TEXT_NODE)return(0,n.jsx)("span",{children:e.textContent},"text-".concat(t));return null},u=a&&Array.from(new DOMParser().parseFromString(a,"text/html").body.childNodes);return(null==u?void 0:u.length)?(0,n.jsx)("div",{className:r?l().globalHTMLdark:l().globalHTML,children:u&&u.map((e,t)=>d(e,t))}):(0,n.jsx)(n.Fragment,{})}},79683:function(e,t,r){"use strict";var n=r(85893);r(67294);var i=r(40629),o=r(70287);t.Z=function(e){let{style:t,onClick:r,...s}=e;return(0,n.jsx)(i.Z,{svgElement:(0,n.jsx)(o.Z,{width:28,height:28}),src:"/images/IconClose.svg",alt:"Close icon",width:28,height:28,style:t,noWrapper:!0,...s})}},38824:function(e,t,r){"use strict";var n=r(85893),i=r(67294),o=r(54834),s=r(37548),a=r(3978),l=r(39945),c=r(67648),d=r(15372),u=r(87529),m=r(45033),h=r(726),p=r(86393),g=r(99239),f=r(90900);t.Z=function(e){let{onAddMembershipFromModal:t,hasMembership:r,onJoinAnContinueText:x,onContinueWithoutMembershipText:Z,...j}=e,{getMembershipText:y}=(0,f.iR)(),{userHasUsedTrial:b}=(0,f.Z2)(),[P,C]=(0,i.useState)(!1),v=async()=>{t()};return(0,g.Y)(),(0,i.useEffect)(()=>{C(!1)},[j.display]),(0,n.jsx)(c.Z,{...j,position:"center",hideCloseButton:!0,noChrome:!0,style:{width:"100%",maxWidth:p.ZP.deviceSizes.sizeTablet},children:(0,n.jsx)(o.Z,{style:p.W0.scrollViewBody,children:(0,n.jsxs)(s.Z,{style:p.W0.smallScreenBody,children:[!P&&!r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.Z,{style:p.W0.topContainer,children:[(0,n.jsx)(u.Z,{nospace:!0,format:"md",center:!0,children:"Join the Co-op bookstore for avid readers"}),(0,n.jsx)(m.Z,{size:"sm"}),(0,n.jsx)("img",{src:"/images/crowd_success.jpg",loading:"lazy",alt:"Tertulia crowd",style:{width:"100%",maxWidth:400,aspectRatio:2},width:400}),(0,n.jsx)(m.Z,{size:"xl"}),(0,n.jsx)(u.Z,{nospace:!0,format:"headerXL2",center:!0,children:"Free shipping"}),(0,n.jsx)(m.Z,{size:"xs"}),(0,n.jsx)(u.Z,{nospace:!0,format:"headerXL2",center:!0,children:"Up to 20% off most books"}),(0,n.jsx)(m.Z,{size:"xs"}),(0,n.jsx)(u.Z,{nospace:!0,format:"headerXL2",center:!0,children:"50% off your first book"}),(0,n.jsx)(m.Z,{size:"xl"}),(0,n.jsx)(u.Z,{type:"span",format:"globalSM",center:!0,children:y.regularText()}),(0,n.jsx)(m.Z,{size:"xs"})]}),(0,n.jsxs)(s.Z,{style:p.W0.bottomContainer,children:[(0,n.jsx)(d.Z,{title:null!=x?x:y.trialOrStartMembership,onPress:v,flexButton:!0,dataCy:"btn-try-one-month-free"}),(0,n.jsx)(m.Z,{size:"xs"}),(0,n.jsx)(d.Z,{title:null!=Z?Z:"Continue without member benefits",onPress:j.onClose,color:"outline",flexButton:!0,dataCy:"btn-continue-without-member-benefits"}),(0,n.jsx)(m.Z,{}),(0,n.jsxs)(s.Z,{style:[p.W0.termsLinkContainer,{marginBottom:-25,maxWidth:420}],children:[!b&&(0,n.jsx)(h.Z,{content:'\n                        <p>\n                          By joining the Tertulia Co-op,\n                          you confirm that you have read the membership agreement \n                          in our <a href="https://tertulia.com/terms">Terms of Service</a>.\n                        </p>\n                      '}),b&&(0,n.jsx)(h.Z,{content:'\n                        <p>\n                          By joining the Tertulia Co-op,\n                          you confirm that you have read the membership agreement \n                          in our <a href="https://tertulia.com/terms">Terms of Service</a>.\n                          '.concat(y.willRenewFor,"\n                          You can cancel your membership subscription by visiting your Profile. \n                        </p>\n                      ")})]})]})]}),!P&&r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.Z,{style:p.W0.topContainer,children:[(0,n.jsx)(u.Z,{nospace:!0,format:"headerXL",center:!0,children:"As a member, youâ€™re enjoying benefits:"}),(0,n.jsx)(m.Z,{size:"sm"}),(0,n.jsx)("img",{src:"/images/crowd_success.jpg",loading:"lazy",alt:"Tertulia crowd",style:{width:"100%",maxWidth:400}}),(0,n.jsx)(m.Z,{size:"xl"}),(0,n.jsx)(u.Z,{nospace:!0,format:"headerXL2",center:!0,children:"Free shipping"}),(0,n.jsx)(m.Z,{size:"xxs"}),(0,n.jsx)(u.Z,{nospace:!0,format:"md",center:!0,children:"Members get unlimited free standard shipping"}),(0,n.jsx)(m.Z,{}),(0,n.jsx)(u.Z,{nospace:!0,format:"headerXL2",center:!0,children:"Up to 20% off most books"}),(0,n.jsx)(m.Z,{size:"xxs"}),(0,n.jsx)(u.Z,{nospace:!0,format:"md",center:!0,children:"10% off most books. 20% off most books after $150 in annual spend"}),(0,n.jsx)(m.Z,{}),(0,n.jsx)(u.Z,{nospace:!0,format:"headerXL2",center:!0,children:"Co-ownership in Tertulia"}),(0,n.jsx)(m.Z,{size:"xxs"}),(0,n.jsx)(u.Z,{nospace:!0,format:"md",center:!0,children:"For every dollar spent on Tertulia, you earn co-ownership units in the Tertulia Co-op,which give you a stake in Tertuliaâ€™s success"}),(0,n.jsx)(a.Z,{onPress:()=>C(!0),children:(0,n.jsx)(l.Z,{style:p.W0.termsLink,children:"Learn\xa0more"})})]}),(0,n.jsx)(s.Z,{style:p.W0.bottomContainer,children:(0,n.jsx)(d.Z,{title:"Got it. Thanks",onPress:j.onClose,flexButton:!0})})]}),P&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.Z,{style:[p.W0.topContainer,{maxWidth:p.ZP.deviceSizes.sizeTabletSm}],children:[(0,n.jsx)(u.Z,{nospace:!0,format:"headerXL2",center:!0,children:"Co-ownership"}),(0,n.jsx)(m.Z,{}),(0,n.jsx)(u.Z,{format:"headerMDClearface",nospace:!0,children:"The Tertulia Co-op is owned by its members. In addition to free shipping and 10% off most books, members also have a stake in Tertuliaâ€™s future success."}),(0,n.jsx)(m.Z,{}),(0,n.jsxs)(u.Z,{format:"headerMDClearface",nospace:!0,children:["â€¢"," ",(0,n.jsxs)("strong",{children:["Tertulia, Inc. has allocated 10% off its equity for the Tertulia Co-op, to benefit the Co-op members who collectively purchase the first $100M of books from Tertulia."," "]}),"The co-op will distribute to its members any future financial benefits from its equity stake in Tertulia, Inc.",(0,n.jsx)("br",{})]}),(0,n.jsx)(m.Z,{}),(0,n.jsxs)(u.Z,{format:"headerMDClearface",nospace:!0,children:["â€¢"," ",(0,n.jsx)("strong",{children:"Each memberâ€™s co-ownership units are proportional to their book purchases."})," ","Any future financial benefits distributed by the Co-op to its members will be proportional to their co-ownership units. This means that for every dollar spent on Tertulia, Co-op members gain a greater stake in Tertuliaâ€™s success."]}),(0,n.jsx)(m.Z,{}),(0,n.jsxs)(u.Z,{format:"headerMDClearface",nospace:!0,children:["â€¢ ",(0,n.jsx)("strong",{children:"Members have a voice in Tertulia."})," Co-op members are encouraged to participate in occasional votes that help direct future business and community decisions."]}),(0,n.jsx)(m.Z,{}),(0,n.jsxs)(u.Z,{format:"headerMDClearface",nospace:!0,children:["â€¢ ",(0,n.jsx)("strong",{children:y.memberCoOpDues})," This entitles members to free shipping, a 10% discount on all book purchases, and the ability to earn co-ownership units on all their purchases. Should a member choose not to renew their membership, the Tertulia Co-op honors their previously accrued co-ownership units."]})]}),(0,n.jsx)(s.Z,{style:p.W0.bottomContainer,children:(0,n.jsx)(d.Z,{title:"Got it. Thanks",onPress:()=>C(!1),flexButton:!0})})]})]})})})}},2663:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n=r(85893);r(67294);var i=r(72215),o=r(39149),s=r(16627),a=r(90900),l=r(71567),c=r(55981),d=r(83841),u=r(67648),m=r(64521),h=r(87529),p=r(43111),g=r(82463),f=r(86393);let x=g.Z.create({modal:{backgroundColor:f.ZP.colors.whiteReal,borderRadius:0,padding:0,marginBottom:0},title:{...f.ZP.fonts.headerXL,lineHeight:28,color:f.ZP.colors.black,alignSelf:"center",textAlign:"center",margin:f.ZP.margin.md}});var Z=function(e){let{referralCode:t,formAccessRequests:r,branding:g,onClose:f,...Z}=e,{user:j}=(0,a.Pk)(),{globalUrlParams:y}=(0,i.CG)(e=>e.globalparams),b=(0,c.ZP)(),{sendSegmentTrack:P}=(0,l.Z)(),C="TheAtlantic"===g,{pushToast:v}=(0,d.Z)();return(0,n.jsx)(u.Z,{position:b.isDesktopUp?"center":"fixedBottom",style:x.modal,floatingClose:!0,invertedCloseButton:!0,onClose:f,"data-cy":"close",flatWeb:!0,...Z,children:(0,n.jsxs)(m.Z,{cssClass:C?"Modal_newsletter Modal_theatlantic":"Modal_newsletter",children:[(0,n.jsxs)(m.Z,{cssClass:"Modal_newsletterImage",children:[!C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.Z,{cssClass:"UI_isNoDesktopUp",children:(0,n.jsx)(p.Z,{srcSetPicture:[{src:"/images/newslettermodal_mobile@2x.webp",media:"(min-resolution: 2dppx)"}],desktopSrc:"/images/newslettermodal_mobile.webp",alt:"Tertulia Newsletter",width:375,height:314,noWrapper:!0})}),(0,n.jsx)(m.Z,{cssClass:"UI_forDesktopUp",children:(0,n.jsx)(p.Z,{srcSetPicture:[{src:"/images/newslettermodal_desktop@2x.webp",media:"(min-resolution: 2dppx)"}],desktopSrc:"/images/newslettermodal_desktop.webp",alt:"Tertulia Newsletter",width:366,height:463,noWrapper:!0})})]}),C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.Z,{cssClass:"UI_isNoDesktopUp",children:(0,n.jsx)(p.Z,{srcSetPicture:[{src:"/images/newslettermodal_theatlantic_mobile@2x.png",media:"(min-resolution: 2dppx)"}],desktopSrc:"/images/newslettermodal_theatlantic_mobile.png",alt:"For The Atlantic Readers",width:375,height:314,noWrapper:!0})}),(0,n.jsx)(m.Z,{cssClass:"UI_forDesktopUp",children:(0,n.jsx)(p.Z,{srcSetPicture:[{src:"/images/newslettermodal_theatlantic_desktop@2x.png",media:"(min-resolution: 2dppx)"}],desktopSrc:"/images/newslettermodal_theatlantic_desktop.png",alt:"For The Atlantic Readers",width:366,height:463,noWrapper:!0})})]})]}),(0,n.jsxs)(m.Z,{cssClass:"Modal_newsletterBody",children:[C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{format:"headerXL",nospace:!0,children:"Get 30% off your first purchase"}),(0,n.jsxs)(h.Z,{format:b.isDesktopUp?"md":"xs",nospace:!0,children:[(0,n.jsx)("i",{children:"Atlantic"})," readers get a 30% discount code when signing up for our popular newsletter (unsubscribe anytime)."]})]}),!C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{format:"headerXL",nospace:!0,children:"Get 30% off your first purchase"}),(0,n.jsx)(h.Z,{format:b.isDesktopUp?"md":"xs",nospace:!0,children:"When you sign up for our popular newsletter (unsubscribe anytime)."})]}),(0,n.jsx)(m.Z,{cssClass:"Modal_newsletterForm",children:(0,n.jsx)(r,{referralCode:t,onSuccessAffiliateModal:function(){let{emailAddress:e,referralCode:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v({type:"success",text:o.Td.SUBSCRIBED_TO_TERTULIA_NEWSLETTER}),P({name:C?o.FP.NewsletterModalSubmittedTheAtlantic:o.FP.NewsletterModalSubmittedGeneric,params:{modal_form:{emailAddress:e,referralCode:t},...(0,s.pS)({user:j,initial_url_params:null==y?void 0:y.urlParams})}}),f&&f({skipSendSegmentTrack:!0})},submitLabel:"Sign up"})})]})]})})}},43111:function(e,t,r){"use strict";var n=r(85893);r(67294);var i=r(40629);t.Z=e=>{let{srcSetPicture:t,classNamePicture:r,stylePicture:o,title:s,...a}=e;return(0,n.jsxs)("picture",{className:r,style:o,title:s,children:[t.map((e,t)=>(0,n.jsx)("source",{srcSet:e.src,media:e.media},t)),(0,n.jsx)(i.Z,{...a})]})}},8432:function(e,t,r){"use strict";r.d(t,{hI:function(){return j},IB:function(){return Z},ZP:function(){return b}});var n=r(85893);r(67294);var i=r(77725),o=r(37548),s=r(90900),a=r(79045),l=r(19738),c=r(40629),d=r(30687),u=r(45033),m=r(87529),h=r(64521),p=r(43111),g=r(86393);let f=r(82463).Z.create({profileCards:{marginHorizontal:g.ZP.gutters.paddingLG,marginBottom:g.ZP.gutters.paddingNormal},profileBenefitsCard:{padding:g.ZP.gutters.paddingNormal,backgroundColor:g.ZP.colors.wildSand,borderRadius:g.ZP.borderRadius.borderRadiusXS},profileFloatingArt:{position:"absolute",alignSelf:"flex-end",bottom:0,right:0},userProfileMenuImage:{width:100,height:90}}),x=r(16092),Z=()=>(0,n.jsxs)(h.Z,{type:"span",cssClass:"UI_profileFloatingArt",style:f.profileFloatingArt,children:[l.tq&&(0,n.jsx)(i.Z,{resizeMode:"contain",source:x,style:f.userProfileMenuImage}),!l.tq&&(0,n.jsx)(c.Z,{desktopSrc:"/images/ArtSmallCrowd.png",alt:"Small crowd of people",width:190,height:172,noWrapper:!0})]}),j=e=>{let{forHeaderMenu:t}=e,{membershipExpirationFormatted:r,currentMembershipPeriodPendingSpend:i,shouldShowPercentageBar:a,currentMembershipPercentageSpend:c,nextMembershipLevelDiscount:d}=(0,s.e7)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{cssClass:"UI_progressBar",style:g.W0.progressBar,children:a&&(0,n.jsx)(o.Z,{style:[g.W0.progressBarInner,{width:"".concat(c,"%")}]})}),(0,n.jsx)(u.Z,{}),(0,n.jsxs)(m.Z,{format:"globalSM",nospace:!0,center:!0,children:["Spend an additional ",(0,n.jsxs)(m.Z,{type:"b",format:"boldSM",nospace:!0,center:!0,children:["$",i||"..."]})," before ",!l.tq&&t&&(0,n.jsx)("br",{})]}),(0,n.jsxs)(m.Z,{format:"globalSM",nospace:!0,center:!0,children:[(0,n.jsx)(m.Z,{type:"b",format:"boldSM",nospace:!0,center:!0,children:r||"..."})," to get ",(0,n.jsxs)(m.Z,{type:"b",format:"boldSM",nospace:!0,center:!0,children:[d||"...","%"]})," off most books."]})]})},y=e=>{let{forHeaderMenu:t}=e,{isMembershipLevelOne:r,currentMembershipBenefits:i,isBelletristSubscriber:o}=(0,s.e7)();return(0,n.jsxs)(h.Z,{cssClass:"UI_profileCards",style:f.profileCards,children:[i&&(0,n.jsxs)(h.Z,{cssClass:"UI_simpleCard",style:g.W0.simpleCard,children:[(0,n.jsx)(m.Z,{format:"globalSM",nospace:!0,children:"Your benefits:"}),(0,n.jsx)(u.Z,{size:"xs"}),null==i?void 0:i.map((e,t)=>(0,n.jsx)(m.Z,{format:"globalSM",nospace:!0,children:e},t)),o&&!l.tq&&(0,n.jsx)(p.Z,{srcSetPicture:[{src:"/images/belletrist/belletrist_tertulia@2x.webp",media:"(min-resolution: 2dppx)"}],desktopSrc:"/images/belletrist/belletrist_tertulia@2x.webp",alt:"Belletrist X Tertulia",width:100,height:36,noWrapper:!0}),(0,n.jsx)(Z,{})]}),r&&(0,n.jsx)(h.Z,{cssClass:"UI_simpleCard",style:g.W0.simpleCard,children:(0,n.jsx)(j,{forHeaderMenu:t})})]})};var b=function(e){let{forHeaderMenu:t}=e;return(0,n.jsx)(d.Z,{onPress:()=>{a.Z.emit("Navigation Push",{name:"Memberdetails",params:{}})},type:"regularLink",href:"/memberdetails",formobile:l.tq,children:(0,n.jsx)(y,{forHeaderMenu:t})})}},4706:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(85893);r(67294);var i=r(41664),o=r.n(i),s=r(11163),a=r(64521),l=r(87529),c=r(8694),d=r(90900),u=function(){let{user:e}=(0,d.Pk)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.Z,{type:"h1",format:"headerXL",nospace:!0,dataCy:"label-profile-name",children:[e.first_name&&e.last_name?"".concat(e.first_name," ").concat(e.last_name," "):"Your Profile ",e.active_membership&&(0,n.jsx)(c.Z,{type:"outline",label:"Member",dataCy:"label-profile-member"})]}),e.email&&(0,n.jsx)(l.Z,{format:"globalSM",nospace:!0,dataCy:"label-profile-email",children:!(e.email.startsWith("guest_")&&e.email.endsWith("@tertulia.com"))&&e.email})]})},m=r(22241),h=r.n(m),p=r(82463),g=r(86393);let f=p.Z.create({profileHeader:{paddingTop:g.ZP.gutters.paddingLG,paddingHorizontal:g.ZP.gutters.paddingLG,paddingBottom:g.ZP.gutters.paddingSM}});var x=function(e){var t;let{forHeaderMenu:r}=e,i=(t="/profile",(0,s.useRouter)().asPath.startsWith(t)?"page":void 0);return(0,n.jsx)(n.Fragment,{children:i&&!r?(0,n.jsx)(a.Z,{cssClass:"UI_profileHeader",style:f.profileHeader,children:(0,n.jsx)(u,{})}):(0,n.jsx)(o(),{href:"/profile",className:[h().profileHeader].join(" ").trim().replace(/ +(?= )/g,""),children:(0,n.jsx)(u,{})})})}},42337:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(85893),i=r(67294),o=r(19738),s=r(15372),a=r(30687),l=r(45033),c=r(87529),d=r(64521),u=r(83775),m=r(8432),h=r(86393);let p=r(82463).Z.create({userProfileMenuMembership:{position:"relative",flexDirection:"column",justifyContent:"space-between",marginTop:h.ZP.gutters.paddingXS,marginHorizontal:h.ZP.gutters.paddingLG,marginBottom:h.ZP.gutters.paddingNormal,paddingTop:h.ZP.gutters.paddingMD,paddingLeft:h.ZP.gutters.paddingMD,backgroundColor:h.ZP.colors.wildSand,borderRadius:h.ZP.borderRadius.borderRadiusXS,borderWidth:1,borderColor:h.ZP.colors.wildSand},userProfileMenuInnerWrapper:{flexDirection:"row",justifyContent:"space-between"},profileFloatingArt:{position:"absolute",alignSelf:"flex-end",bottom:0,right:0},userProfileMenuImage:{width:100,height:90},userProfileMenuInner:{flexDirection:"column",padding:0,paddingBottom:h.ZP.gutters.paddingSM},profileHeader:{margin:h.ZP.gutters.paddingNormal,paddingTop:h.ZP.gutters.paddingLG,paddingHorizontal:h.ZP.gutters.paddingLG,paddingBottom:h.ZP.gutters.paddingSM},profileCards:{marginHorizontal:h.ZP.gutters.paddingLG,marginBottom:h.ZP.gutters.paddingNormal},profileBenefitsCard:{padding:h.ZP.gutters.paddingNormal,backgroundColor:h.ZP.colors.wildSand,borderRadius:h.ZP.borderRadius.borderRadiusXS}});var g=r(90900),f=i.memo(function(e){let{forHeaderMenu:t,handleDisplayMembershipModal:r}=e,{isStoreStarted:i,user:f}=(0,g.Pk)(),{nextMembershipBenefits:x,currentMembershipLevel:Z,currentMembershipBenefits:j}=(0,g.e7)(),y=(null==Z?void 0:Z.level_name)==="NON_MEMBER"?j:x;return i?(0,n.jsx)(n.Fragment,{children:f.active_membership?(0,n.jsx)(m.ZP,{forHeaderMenu:t}):(0,n.jsx)(a.Z,{onPress:r,transparent:!0,cssClass:"UI_userProfileMenu",style:p.userProfileMenuMembership,formobile:o.tq,children:(0,n.jsxs)(d.Z,{style:p.userProfileMenuMembership,children:[(0,n.jsx)(c.Z,{type:"h2",format:"headerXL",nospace:!0,children:"Become a co-op member"}),(0,n.jsx)(l.Z,{size:"sm"}),(0,n.jsxs)(d.Z,{style:p.userProfileMenuInnerWrapper,children:[(0,n.jsxs)(d.Z,{style:p.userProfileMenuInner,children:[y&&(0,n.jsx)(d.Z,{cssClass:"UI_simpleList",type:"ul",children:null==y?void 0:y.map((e,t)=>(0,n.jsx)(c.Z,{type:"li",format:"globalSM",nospace:!0,children:e},t))}),(0,n.jsx)(l.Z,{}),o.tq&&(0,n.jsxs)(d.Z,{style:h.W0.flexRowStartCenter,children:[(0,n.jsx)(c.Z,{type:"li",format:"boldSM",nospace:!0,children:"Learn more"}),(0,n.jsx)(u.Z,{})]}),!o.tq&&(0,n.jsx)(s.Z,{title:"Learn more",buttonIcon:(0,n.jsx)(u.Z,{}),color:"newSand",borderRadius:!0,disabled:!0})]}),(0,n.jsx)(m.IB,{})]})]})})}):null})},62814:function(e,t,r){"use strict";r.d(t,{Z:function(){return en}});var n,i,o,s=r(85893),a=r(67294),l=r(71028),c=r(37548),d=r(72215),u=r(91067),m=r(71567),h=r(19738),p=r(31476),g=r(39945),f=r(86393),x=r(3776),Z=r(82463);let j=Z.Z.create({headerStyle:{paddingTop:f.ZP.deviceSizes.statusBarHeight,height:f.ZP.navHeader.height,display:"flex",flexDirection:"row",justifyContent:"space-between"},bottomShadow:{shadowOpacity:.2,shadowColor:f.ZP.colors.gray4,shadowOffset:{height:4,width:0},shadowRadius:2},headerTitleStyle:{textAlign:"center",...f.ZP.fonts.headerXL},headerLeftContainerStyle:{display:"flex",justifyContent:"center",alignItems:"center"},headerTitleContainerStyle:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},headerRightContainerStyle:{display:"flex",justifyContent:"center",alignItems:"center"},backgroundDark:{backgroundColor:f.ZP.colors.black},backgroundLight:{backgroundColor:f.ZP.colors.white},colorDark:{color:f.ZP.colors.white},colorLight:{color:f.ZP.colors.normal}});var y=function(e){let{headerTitle:t,headerLeft:r,headerRight:n,navBarDark:i,headerStyle:o,headerTitleStyle:a,headerLeftContainerStyle:l,headerTitleContainerStyle:d,headerRightContainerStyle:u,headerTintColor:m,navigation:h}=e,Z=(null!=m?m:i)?f.ZP.colors.white:f.ZP.colors.black;return(0,s.jsxs)(c.Z,{style:[j.headerStyle,i?j.backgroundDark:j.backgroundLight,o],children:[(0,s.jsx)(p.Z,{animated:!0,barStyle:i?"light-content":"dark-content",showHideTransition:"fade"}),(0,s.jsx)(c.Z,{style:[j.headerLeftContainerStyle,l],children:"function"==typeof r?r({}):(null==h?void 0:h.canGoBack())?(0,s.jsx)(x.xE,{onPress:()=>{null==h||h.goBack()},tintColor:Z}):null}),(0,s.jsx)(c.Z,{style:[j.headerTitleContainerStyle,d],children:"string"==typeof t?(0,s.jsx)(g.Z,{style:[j.headerTitleStyle,i?j.colorDark:j.colorLight,a],children:t}):"function"==typeof t&&t({onLayout:()=>{}})}),(0,s.jsx)(c.Z,{style:[j.headerRightContainerStyle,u],children:"function"==typeof n&&n({tintColor:Z})})]})},b=r(40715),P=r(64143),C=r(3978);let v=Z.Z.create({container:{height:24+f.ZP.margin.sm,width:24+f.ZP.margin.sm,display:"flex",justifyContent:"center",alignItems:"center",marginRight:f.ZP.gutters.paddingMD},icnContainer:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},round:{backgroundColor:f.ZP.colors.active,width:16,height:16,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:9,position:"absolute",right:-10,top:-5},counter:{...f.ZP.fonts.sm}});function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var S=function(e){return a.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:28,height:24},e),i||(i=a.createElement("path",{d:"M10.2 18.195h13.675c.457 0 .856-.375.856-.879s-.399-.879-.856-.879H10.398c-.668 0-1.078-.468-1.183-1.183l-.188-1.23h14.871c1.711 0 2.59-1.055 2.836-2.731l.938-6.2c.023-.152.047-.34.047-.445 0-.562-.422-.949-1.067-.949H7.516l-.223-1.488C7.176 1.309 6.848.85 5.653.85H1.538c-.469 0-.867.41-.867.88 0 .48.398.89.867.89H5.5l1.875 12.867c.246 1.664 1.125 2.707 2.824 2.707zM25.726 5.47l-.833 5.613c-.093.727-.48 1.172-1.171 1.172l-14.953.012-.997-6.797zM11.125 23.89a1.883 1.883 0 0 0 1.898-1.899 1.89 1.89 0 0 0-1.898-1.898c-1.066 0-1.91.844-1.91 1.898 0 1.067.844 1.899 1.91 1.899zm10.957 0c1.066 0 1.91-.832 1.91-1.899a1.893 1.893 0 0 0-1.91-1.898 1.9 1.9 0 0 0-1.91 1.898c0 1.067.855 1.899 1.91 1.899z"})))},_=function(e){let{onPress:t,tintColor:r}=e,{orders:n,subscription:i}=(0,d.CG)(e=>e.cart),o=n.reduce((e,t)=>e+Number(t.quantity),0)+(i?1:0);return(0,s.jsx)(C.Z,{style:v.container,onPress:t,children:(0,s.jsxs)(c.Z,{style:v.icnContainer,children:[(0,s.jsx)(S,{width:28,height:24,fill:r}),o>0&&(0,s.jsx)(c.Z,{style:v.round,children:(0,s.jsx)(g.Z,{style:v.counter,children:o})})]})})};let T=Z.Z.create({headerStyle:{height:f.ZP.navHeader.height+24,paddingTop:f.ZP.margin.xs},headerTitleStyle:{display:"flex",flex:1,height:48,marginLeft:f.ZP.margin.md,marginRight:f.ZP.margin.xs},input:{height:48,flex:1,backgroundColor:f.ZP.colors.gray1,borderRadius:3,paddingVertical:f.ZP.gutters.paddingXS,paddingLeft:48,paddingRight:48,...f.ZP.fonts.searchInput,lineHeight:20},inputFocused:{paddingLeft:f.ZP.margin.xs},icnContainer:{position:"absolute",height:48,width:48,display:"flex",justifyContent:"center",alignItems:"center"},icnLeftContainer:{left:0},icnRightContainer:{right:0}});var k=r(8023),M=function(e){let{inputText:t,onChangeText:r,placeholder:n,onSend:i,isFocused:o,setIsFocused:a,navBarDark:l,headerTintColor:d,headerStyle:u,onCartPress:m,...h}=e,p=(null!=d?d:l)?f.ZP.colors.white:f.ZP.colors.black,g=()=>{b.Z.dismiss(),a(!1),r("")},Z=()=>{r("")};return(0,s.jsx)(y,{headerStyle:[T.headerStyle,u],headerLeft:()=>o?(0,s.jsx)(x.xE,{onPress:g}):null,headerTitle:()=>(0,s.jsxs)(c.Z,{style:T.headerTitleStyle,children:[(0,s.jsx)(P.Z,{style:[T.input,o&&T.inputFocused],value:t,onChangeText:r,placeholder:n,onFocus:()=>a(!0),onSubmitEditing:()=>i(t),returnKeyType:"search",placeholderTextColor:f.ZP.colors.gray3}),!o&&(0,s.jsx)(c.Z,{style:[T.icnContainer,T.icnLeftContainer],pointerEvents:"none",children:(0,s.jsx)(k.Z,{width:24,height:24,style:{color:p}})}),!!t&&(0,s.jsx)(c.Z,{style:[T.icnContainer,T.icnRightContainer],children:(0,s.jsx)(x.X9,{onPress:Z})})]}),headerRight:()=>(0,s.jsx)(_,{onPress:m,tintColor:p}),...h})},L=r(39149),A=r(79045),I=r(16627),R=r(26953),E=r(94367);let H=Z.Z.create({body:{backgroundColor:f.ZP.colors.backgroundColor,flex:1,display:"flex",justifyContent:"center",alignContent:"center"},item:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginHorizontal:f.ZP.margin.md,marginTop:f.ZP.margin.sm},title:{...f.ZP.fonts.header,flex:1},close:{}});class z extends a.PureComponent{render(){let{title:e,onSelected:t,onRemoved:r}=this.props;return(0,s.jsxs)(C.Z,{onPress:()=>t(e),style:H.item,children:[(0,s.jsx)(g.Z,{style:H.title,children:e}),(0,s.jsx)(x.PZ,{style:H.close,size:15,onPress:()=>r(e)})]})}}let B=Z.Z.create({body:{backgroundColor:f.ZP.colors.backgroundColor,flex:1,display:"flex",justifyContent:"center",alignContent:"center"},title:{...f.ZP.fonts.headerMD,marginHorizontal:f.ZP.margin.md,marginTop:f.ZP.margin.md}}),F=e=>e;var W=function(e){let{history:t,size:r,loading:n,onSelected:i,onRemoved:o}=e;return r?(0,s.jsxs)(c.Z,{style:B.body,children:[(0,s.jsx)(g.Z,{style:B.title,children:"Recent Searches"}),(0,s.jsx)(E.Z,{removeClippedSubviews:!0,refreshing:n,initialNumToRender:r,data:t,renderItem:e=>(0,s.jsx)(z,{title:e.item,onSelected:i,onRemoved:o}),keyExtractor:e=>F(e)})]}):(0,s.jsx)(s.Fragment,{})},D=function(e){let{onSelected:t,onRemoved:r}=e,{history:n,loading:i}=(0,d.CG)(e=>e.search),o=(0,a.useMemo)(()=>[...n].reverse(),[n]);return(0,s.jsx)(W,{history:o,size:n.length,loading:i,onSelected:t,onRemoved:r})};let N=Z.Z.create({body:{backgroundColor:f.ZP.colors.backgroundColor,flex:1,display:"flex",justifyContent:"center",alignContent:"center"},item:{flexDirection:"row",marginHorizontal:f.ZP.margin.md,marginTop:f.ZP.margin.sm,borderTopColor:f.ZP.colors.gray2,borderTopWidth:1,paddingTop:f.ZP.margin.sm,overflow:"visible"},title:{...f.ZP.fonts.header}});class U extends a.PureComponent{render(){let{title:e,onSelected:t}=this.props;return(0,s.jsx)(C.Z,{onPress:()=>t(e),style:N.item,children:(0,s.jsx)(g.Z,{style:N.title,children:e})})}}let O=e=>e;var X=function(e){let{autocomplete:t,size:r,loading:n,onSelected:i}=e;return(0,s.jsx)(c.Z,{style:N.body,children:(0,s.jsx)(E.Z,{removeClippedSubviews:!0,refreshing:n,initialNumToRender:r,data:t,renderItem:e=>(0,s.jsx)(U,{title:e.item,onSelected:i}),keyExtractor:e=>O(e)})})},q=function(e){let{onSelected:t,keyword:r}=e,n=(0,d.TL)(),{autocomplete:i,loading:o}=(0,d.CG)(e=>e.search);return(0,a.useEffect)(()=>{n((0,u.z1)(r))},[n,r]),(0,s.jsx)(X,{autocomplete:i,size:i.length,loading:o,onSelected:t})},G=r(83761);let V=Z.Z.create({body:{backgroundColor:f.ZP.colors.backgroundColor,flex:1,display:"flex",justifyContent:"center",alignContent:"center"},item:{flexDirection:"row",marginHorizontal:f.ZP.margin.md,marginTop:f.ZP.margin.sm,borderTopColor:f.ZP.colors.gray2,borderTopWidth:1,paddingTop:f.ZP.margin.sm,overflow:"visible"},columnCover:{flex:4,display:"flex",justifyContent:"center",overflow:"visible",shadowOpacity:1,shadowColor:f.ZP.colors.gray3,shadowOffset:{height:3,width:3},elevation:3,shadowRadius:5},columnData:{flex:6,display:"flex",justifyContent:"flex-start"},divisor:{width:f.ZP.margin.sm},productImageForMovingIntoTheme:{padding:f.ZP.margin.sm,width:"100%",aspectRatio:f.ZP.coverAspectRatio},title:{...f.ZP.fonts.headerMD},author:{...f.ZP.fonts.md,marginBottom:f.ZP.margin.sm},productForm:{...f.ZP.fonts.md,color:f.ZP.colors.gray4},price:{...f.ZP.fonts.md,color:f.ZP.colors.gray4},segmentControl:{marginHorizontal:f.ZP.margin.md,marginBottom:f.ZP.margin.md,backgroundColor:f.ZP.colors.backgroundColor},segmentControlFont:{fontFamily:"Inter-SemiBold",fontWeight:"600",fontStyle:"normal"},row:{display:"flex",flexDirection:"row"},priceActive:{...f.ZP.fonts.md,marginRight:f.ZP.margin.xs/2,color:f.ZP.colors.gray4},priceInactive:{...f.ZP.fonts.md,textDecorationLine:"line-through",color:f.ZP.colors.gray3}});var J=r(90900);let Y=e=>e.id;var K=function(e){let{products:t,size:r,loading:n,onLoadNext:i,onRefresh:o,onProductSelected:a}=e,{user:l}=(0,J.Pk)(),{globalUrlParams:u}=(0,d.CG)(e=>e.globalparams),m={user:l,previous_screen:"Search",initial_url_params:null==u?void 0:u.urlParams};return(0,s.jsx)(c.Z,{style:V.body,children:(0,s.jsx)(E.Z,{removeClippedSubviews:!0,refreshing:n,initialNumToRender:r,data:t,onRefresh:o,renderItem:e=>(0,s.jsx)(G.Z,{product:e.item,fromPage:"Search",segmentEventParams:m,onProductSelected:a}),keyExtractor:e=>Y(e),onEndReached:i})})},Q=function(e){let{onProductSelected:t,searchKeyword:r}=e,n=(0,d.TL)(),{content:i,size:o,total_pages:l,page_number:c,loading:m}=(0,d.CG)(e=>e.search.results);return(0,a.useEffect)(()=>{(0,u.Ug)(),n((0,u.BP)(r,0))},[r]),(0,s.jsx)(K,{products:i,size:o,loading:m,onLoadNext:()=>{c+1<l&&n((0,u.BP)(r,Math.min(c+1,l)))},onRefresh:()=>{n((0,u.Ug)()),n((0,u.BP)(r,0))},onProductSelected:t})};let $=Z.Z.create({body:{backgroundColor:f.ZP.colors.mattePeach,height:67*f.ZP.refRatio,display:"flex",justifyContent:"center",alignItems:"center"},title:{...f.ZP.fonts.ms,textAlign:"center",marginHorizontal:f.ZP.margin.md}});var ee=function(e){let{title:t}=e;return(0,s.jsx)(c.Z,{style:$.body,children:(0,s.jsx)(g.Z,{style:$.title,children:t})})};let et=Z.Z.create({body:{backgroundColor:f.ZP.colors.backgroundColor,height:"100%"},navBar:{height:"auto",borderBottomColor:f.ZP.colors.gray2,borderBottomWidth:1,paddingTop:f.ZP.margin.sm,paddingBottom:f.ZP.margin.sm}});var er=r(58218);(n=o||(o={}))[n.Initial=0]="Initial",n[n.Recent=1]="Recent",n[n.Predict=2]="Predict",n[n.Results=3]="Results";var en=function(e){let{safeAreaStyle:t,style:r,currentScreen:n,children:i}=e,{globalUrlParams:o}=(0,d.CG)(e=>e.globalparams),p=(0,d.CG)(e=>e.user),g=(0,d.TL)(),{loggedIn:f}=(0,J.Pk)(),{error:x}=(0,R.Z)(),[Z,j]=(0,a.useState)(""),[y,b]=(0,a.useState)(!1),[P,C]=(0,a.useState)(!1),[v,w]=(0,a.useState)(""),{sendSegmentTrack:S}=(0,m.Z)(),_=(0,a.useMemo)(()=>P?3:Z.length>3?2:y?1:0,[Z,y,P]),T=a.useCallback(e=>{let{product:t,searchQuery:r}=e;f&&g((0,er.Hj)(t.ean,r))},[]),k=e=>{w("auto-complete"),S({name:L.FP.ProductsSearched,params:(0,I.pS)({user:p,search_query:e,search_initial_context:"auto-complete",current_screen:n,initial_url_params:null==o?void 0:o.urlParams})}),j(e),g((0,u.Ug)()),g((0,u.F0)(e)),C(!0)};return(0,s.jsxs)(l.Z,{style:[et.body,t],children:[h.tq&&(0,s.jsx)(M,{inputText:Z,onChangeText:e=>{j(e),C(!1)},isFocused:y,setIsFocused:b,onSend:e=>{Z.length>3&&(w("user search term"),S({name:L.FP.ProductsSearched,params:(0,I.pS)({user:p,search_query:e,search_initial_context:"user search term",current_screen:n,initial_url_params:null==o?void 0:o.urlParams})}),g((0,u.Ug)()),g((0,u.F0)(e)),C(!0))},placeholder:"Search author or title",headerStyle:et.navBar,onCartPress:()=>{A.Z.emit("Navigation Navigate",{name:"Cart",params:{dataForSegmentEventProperties:{user:p,search_keyword:Z,search_context:v,initial_url_params:null==o?void 0:o.urlParams}}})}}),x?(0,s.jsx)(ee,{title:x}):null,0===_?(0,s.jsx)(c.Z,{style:r,children:i}):1===_?(0,s.jsx)(D,{onSelected:k,onRemoved:e=>{g((0,u.M2)(e))}}):2===_?(0,s.jsx)(q,{keyword:Z,onSelected:k}):3===_?(0,s.jsx)(Q,{searchKeyword:Z,onProductSelected:(e,t)=>{e&&e.preventDefault(),T({product:t,searchQuery:Z}),A.Z.emit("Navigation Push",{name:"Product",params:{dataForSegmentEventProperties:{user:p,product:t,previous_screen:"Explore",search_keyword:Z,search_context:v,initial_url_params:null==o?void 0:o.urlParams},product:t}})}}):null]})}},50652:function(e,t,r){"use strict";r.d(t,{Y:function(){return _},Z:function(){return k}});var n=r(85893),i=r(67294),o=r(94367),s=r(51023),a=r(19738),l=r(62814),c=r(42343),d=r(45033),u=r(64521),m=r(64143),h=r(67648),p=r(82463),g=r(86393);let f=p.Z.create({title:{...g.ZP.fonts.headerMD,lineHeight:48*g.ZP.refRatio,color:g.ZP.colors.black},input:{...g.ZP.fonts.md,marginBottom:g.ZP.margin.sm,padding:g.ZP.margin.sm,textAlignVertical:"top",backgroundColor:g.ZP.colors.gray1}});var x=function(e){let{onSuccess:t,onFail:r,password:o,...s}=e,[a,l]=(0,i.useState)("");return(0,n.jsxs)(h.Z,{title:"Admin Access",position:"center",style:{width:300,height:250},...s,children:[(0,n.jsx)(m.Z,{style:f.input,value:a,onChangeText:e=>l(e),placeholder:"Enter admin password",secureTextEntry:!0}),(0,n.jsx)(c.Z,{title:"Access",onPress:()=>{a===o?t():r()}})]})},Z=r(15372);let j=p.Z.create({body:{backgroundColor:g.ZP.colors.backgroundColor,flex:1,display:"flex",alignContent:"center"},item:{borderBottomColor:g.ZP.colors.gray1,borderBottomWidth:1,minHeight:46,display:"flex",justifyContent:"center"},itemWithDivider:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",marginHorizontal:g.ZP.gutters.paddingLG,minHeight:46,borderBottomWidth:1,borderBottomColor:g.ZP.colors.gray2},itemWithoutDivider:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",marginHorizontal:g.ZP.gutters.paddingLG,minHeight:46},content:{...g.ZP.fonts.md,paddingHorizontal:g.ZP.margin.md,paddingVertical:g.ZP.margin.xs},itemTitle:{display:"flex",justifyContent:"center"},contentTitle:{...g.ZP.fonts.headerSM,paddingHorizontal:g.ZP.margin.md,paddingVertical:g.ZP.margin.xs},header:{display:"flex",flexDirection:"column",alignItems:"flex-start",alignContent:"flex-start",paddingHorizontal:g.ZP.gutters.paddingLG},headerUser:{display:"flex"},headerText:{...g.ZP.fonts.headerXXL,marginHorizontal:g.ZP.margin.md,marginTop:g.ZP.margin.md},headerSmallText:{...g.ZP.fonts.headerMD,marginHorizontal:g.ZP.margin.md},headerMembershipContainer:{marginTop:g.ZP.gutters.paddingXS,backgroundColor:g.ZP.colors.gray4,paddingHorizontal:g.ZP.margin.xs,paddingVertical:g.ZP.margin.xs/2,borderRadius:3}});var y=e=>{let{option:t,onOptionSelected:r,titleLink:o}=e,s=(0,i.useMemo)(()=>(0,n.jsx)(Z.Z,{title:t.name,onPress:()=>r&&r(),size:t.withoutDivider||a.tq?o?"sizeFlatListTitle":"sizeFlatList":o?"sizeFlatListDividerTitle":"sizeFlatListDivider",dataCy:t.dataCy}),[]);return(0,n.jsxs)(n.Fragment,{children:[a.tq&&(0,n.jsx)(u.Z,{style:a.tq&&[t.withoutDivider?j.itemWithoutDivider:j.itemWithDivider],children:s}),!a.tq&&s]})},b=r(37548),P=r(39945);class C extends i.PureComponent{render(){let{option:e}=this.props;return(0,n.jsx)(b.Z,{style:j.itemTitle,children:e.name?(0,n.jsx)(P.Z,{style:j.contentTitle,children:e.name}):null})}}class v extends i.PureComponent{render(){let{option:e}=this.props;return(0,n.jsx)(b.Z,{style:[j.item,{borderBottomWidth:0}],children:(0,n.jsx)(P.Z,{style:j.content,children:e.name})})}}class w extends i.PureComponent{render(){let{option:e}=this.props;return(0,n.jsx)(b.Z,{children:e.content})}}let S=e=>e.name,_=e=>{let t=e.item;switch(t.type){case"space":return(0,n.jsx)(i.Fragment,{children:(0,n.jsx)(d.Z,{})},t.index||t.name);case"title":return(0,n.jsx)(i.Fragment,{children:(0,n.jsx)(C,{option:t})},t.index||t.name);case"titleLink":return(0,n.jsx)(i.Fragment,{children:(0,n.jsx)(y,{option:t,onOptionSelected:t.callback,titleLink:!0})},t.index||t.name);case"text":return(0,n.jsx)(i.Fragment,{children:(0,n.jsx)(v,{option:t})},t.index||t.name);case"button":return(0,n.jsx)(i.Fragment,{children:(0,n.jsx)(c.Z,{title:t.name,onPress:()=>t.callback&&t.callback(),icon:t.icon})},t.index||t.name);case"content":return(0,n.jsx)(i.Fragment,{children:(0,n.jsx)(w,{option:t})},t.index||t.name);default:return(0,n.jsx)(i.Fragment,{children:(0,n.jsx)(y,{option:t,onOptionSelected:t.callback})},t.index||t.name)}},T=e=>{let{options:t,size:r,displayModal:i,onHide:l,onSuccess:c}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Z,{cssClass:"UI_profileFlatMenu",children:[a.tq&&(0,n.jsx)(o.Z,{removeClippedSubviews:!0,initialNumToRender:r,data:t,renderItem:_,keyExtractor:e=>S(e)}),!a.tq&&t.map((e,t)=>(0,n.jsx)(_,{item:e,index:t},S(e)))]}),(0,n.jsx)(x,{display:i,password:s.Z.ADMIN_PASSWORD,onClose:l,onSuccess:c,onFail:l})]})};var k=function(e){let{options:t,size:r,displayModal:i,onHide:o,onSuccess:s}=e;return a.tq?(0,n.jsx)(l.Z,{style:j.body,currentScreen:"Profile",children:(0,n.jsx)(T,{options:t,size:r,displayModal:i,onHide:o,onSuccess:s})}):(0,n.jsx)(u.Z,{style:[g.W0.globalBodyNoSidePadding,{paddingBottom:0}],cssClass:"UI_profilePage",children:(0,n.jsx)(T,{options:t,size:r,displayModal:i,onHide:o,onSuccess:s})})}},57299:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(67294),i=r(72215),o=r(90900),s=r(7861),a=r(56612);function l(){var e;let{user:t}=(0,o.Pk)(),r=null===(e=t.banners)||void 0===e?void 0:e.filter(e=>"HOME_TOP_BLACK"===e.asset_type),l=(0,i.TL)();return(0,n.useEffect)(()=>{l((0,s.H)(a.P.HOME_TOP_BLACK))},[]),{banners:r}}},55087:function(e,t,r){"use strict";r.d(t,{A:function(){return n}}),r(67294),r(11163),r(67585),r(85518);let n=e=>{let t=new URLSearchParams(window.location.search),r="";return(t.get("utm_source")||t.get("utm_medium")||t.get("utm_campaign")||t.get("utm_content")||t.get("utm_term"))&&(r+="utm_source=".concat(t.get("utm_source"))+"&utm_medium=".concat(t.get("utm_medium"))+"&utm_campaign=".concat(t.get("utm_campaign")),t.get("utm_content")&&(r+="&utm_content=".concat(t.get("utm_content"))),t.get("utm_term")&&(r+="&utm_term=".concat(t.get("utm_term"))),t.get("id")&&(r+="&id=".concat(t.get("id")))),"".concat(e).concat(r?"?".concat(r):"")}},43388:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(67294);function i(e,t){let r=(0,n.useRef)(e),i=(0,n.useRef)(null),o=(0,n.useRef)(0),s=(0,n.useRef)(!1),a=(0,n.useRef)(0),{intervals:l,useFibonacci:c=!1,maxRetries:d=6}="number"==typeof t?{intervals:[t]}:t,u=c?function(e){let t=[],r=1,n=1;for(let i=0;i<e;i++)t.push(1e3*r),[r,n]=[n,r+n];return t}(d):l||[3e4];r.current=e,(0,n.useEffect)(()=>{s.current=!0,o.current=0,a.current=0;let e=async()=>{if(s.current){a.current++;try{let e=await r.current();if(!0===e){s.current=!1;return}}catch(e){console.error("Polling error:",e)}if(a.current>=d){s.current=!1;return}if(s.current){let t=u[o.current];o.current=(o.current+1)%u.length,i.current=setTimeout(e,t)}}};return e(),()=>{s.current=!1,i.current&&(clearTimeout(i.current),i.current=null)}},[JSON.stringify(u)])}},74150:function(e,t,r){"use strict";r.d(t,{d:function(){return i}});var n=r(51023);let i=()=>"development"===n.Z.APP_ENVIRONMENT?"/editorial-list/books-like-daisy-jones-and-the-six":"/editorial-list/the-best-book-releases-this-week"},97706:function(e,t,r){"use strict";r.d(t,{PZ:function(){return l}});var n=r(32144),i=r(19738),o=r(79045);let s=e=>{for(let t of["https://web.tertulia.com/","https://web-dev.tertulia.com/","https://www.tertulia.com/","https://tertulia.com/"])if(0===e.indexOf(t))return t},a=e=>{var t;let r=e.match(/(?:product\/)+([\w-]+)/),n=e.match(/(?:book\/)+(?:([\w,-]+\/))+(\w+)|(?:book\/)+(\w+)/);return{productId:r&&r[1],ean:n&&(null!==(t=n[3])&&void 0!==t?t:n[2])}},l=(e,t)=>{if(!i.tq)return n.Z.openURL(t);let r=s(t);if(r){let{productId:e,ean:i}=a(t);if(e||i)return o.Z.emit("Navigation Push",{name:e?"Product":"Book",params:{productId:e,ean:i}});let s=t.replace(r,"tertulia://");return n.Z.openURL(s)}return n.Z.openURL(t)}},81758:function(e){e.exports={container:"OpenInApp_container__hjYI2",containerLeft:"OpenInApp_containerLeft__1EVC1",containerText:"OpenInApp_containerText__fHhSe",button:"OpenInApp_button__0Au_q"}}}]);