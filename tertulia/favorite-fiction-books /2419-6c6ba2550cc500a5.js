"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2419],{15467:function(e,t,o){o.d(t,{Z:function(){return h}});var n=o(85893),r=o(67294),i=o(72215),l=o(91067),a=o(37548),s=o(94367),c=o(3978),d=o(39945),m=o(82463),u=o(86393);let p=m.Z.create({body:{backgroundColor:u.ZP.colors.backgroundColor,flex:1,display:"flex",justifyContent:"center",alignContent:"center"},item:{flexDirection:"row",marginHorizontal:u.ZP.margin.sm,borderTopColor:u.ZP.colors.gray2,borderTopWidth:1,paddingVertical:u.ZP.margin.sm,overflow:"visible"},title:{...u.ZP.fonts.header}});class g extends r.PureComponent{render(){let{title:e,onSelected:t}=this.props;return(0,n.jsx)(c.Z,{onPress:()=>t(e),style:p.item,children:(0,n.jsx)(d.Z,{style:p.title,children:e})})}}let f=e=>e;var Z=function(e){let{autocomplete:t,size:o,loading:r,onSelected:i}=e;return(0,n.jsx)(a.Z,{style:p.body,children:(0,n.jsx)(s.Z,{removeClippedSubviews:!0,refreshing:r,initialNumToRender:o,data:t,renderItem:e=>(0,n.jsx)(g,{title:e.item,onSelected:i}),keyExtractor:e=>f(e)})})},h=function(e){let{onSelected:t,keyword:o}=e,a=(0,i.TL)(),{autocomplete:s,loading:c}=(0,i.CG)(e=>e.search);return(0,r.useEffect)(()=>{a((0,l.z1)(o))},[a,o]),(0,n.jsx)(Z,{autocomplete:s,size:s.length,loading:c,onSelected:t})}},46362:function(e,t,o){o.d(t,{Z:function(){return c}});var n=o(85893);o(67294);var r=o(37548),i=o(39945),l=o(82463),a=o(86393);let s=l.Z.create({body:{backgroundColor:a.ZP.colors.mattePeach,height:67*a.ZP.refRatio,display:"flex",justifyContent:"center",alignItems:"center"},title:{...a.ZP.fonts.ms,textAlign:"center",marginHorizontal:a.ZP.margin.md}});var c=function(e){let{title:t}=e;return(0,n.jsx)(r.Z,{style:s.body,children:(0,n.jsx)(i.Z,{style:s.title,children:t})})}},43108:function(e,t,o){o.d(t,{Z:function(){return x}});var n=o(85893),r=o(67294),i=o(72215),l=o(37548),a=o(39945),s=o(94367),c=o(3978),d=o(3776),m=o(82463),u=o(86393);let p=m.Z.create({body:{backgroundColor:u.ZP.colors.backgroundColor,flex:1,display:"flex",justifyContent:"center",alignContent:"center"},item:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:u.ZP.margin.sm},title:{...u.ZP.fonts.header,flex:1},close:{}});class g extends r.PureComponent{render(){let{title:e,onSelected:t,onRemoved:o}=this.props;return(0,n.jsxs)(c.Z,{onPress:()=>t(e),style:p.item,children:[(0,n.jsx)(a.Z,{style:p.title,children:e}),(0,n.jsx)(d.PZ,{style:p.close,size:15,onPress:()=>o(e)})]})}}let f=m.Z.create({body:{backgroundColor:u.ZP.colors.backgroundColor,flex:1,display:"flex",justifyContent:"center",alignContent:"center",padding:u.ZP.gutters.paddingNormal,minHeight:u.ZP.deviceSizes.sizePhoneLG/3},title:{...u.ZP.fonts.headerMD}}),Z=e=>e;var h=function(e){let{history:t,size:o,loading:r,onSelected:i,onRemoved:c}=e;return o?(0,n.jsxs)(l.Z,{style:f.body,children:[(0,n.jsx)(a.Z,{style:f.title,children:"Recent Searches"}),(0,n.jsx)(s.Z,{removeClippedSubviews:!0,refreshing:r,initialNumToRender:o,data:t,renderItem:e=>(0,n.jsx)(g,{title:e.item,onSelected:i,onRemoved:c}),keyExtractor:e=>Z(e)})]}):(0,n.jsx)(n.Fragment,{})},x=function(e){let{onSelected:t,onRemoved:o}=e,{history:l,loading:a}=(0,i.CG)(e=>e.search),s=(0,r.useMemo)(()=>[...l].reverse(),[l]);return(0,n.jsx)(h,{history:s,size:l.length,loading:a,onSelected:t,onRemoved:o})}},18450:function(e,t,o){o.d(t,{Z:function(){return P}});var n=o(85893),r=o(67294),i=o(72215),l=o(96554),a=o(37548),s=o(94367),c=o(3978),d=o(77725),m=o(87529),u=o(3776),p=o(82463),g=o(86393);let f=p.Z.create({body:{backgroundColor:g.ZP.colors.backgroundColor,flex:1,display:"flex",justifyContent:"center",alignContent:"center",padding:g.ZP.gutters.paddingNormal},item:{flexDirection:"row",borderTopColor:g.ZP.colors.gray2,borderTopWidth:1,paddingVertical:g.ZP.margin.xs,overflow:"visible",alignItems:"center",paddingRight:g.ZP.margin.xs},columnCover:{display:"flex",justifyContent:"center",overflow:"visible"},cover:{width:40,height:60},columnData:{display:"flex",justifyContent:"center",flex:1},divisor:{width:g.ZP.margin.sm},productImageForMovingIntoTheme:{padding:g.ZP.margin.sm,width:"100%",aspectRatio:g.ZP.coverAspectRatio},productForm:{...g.ZP.fonts.md,color:g.ZP.colors.gray4},price:{...g.ZP.fonts.md,color:g.ZP.colors.gray4},segmentControl:{marginHorizontal:g.ZP.margin.md,marginBottom:g.ZP.margin.md,backgroundColor:g.ZP.colors.backgroundColor},segmentControlFont:{fontFamily:"Inter-SemiBold",fontWeight:"600",fontStyle:"normal"},row:{display:"flex",flexDirection:"row"},priceActive:{...g.ZP.fonts.md,marginRight:g.ZP.margin.xs/2,color:g.ZP.colors.gray4},priceInactive:{...g.ZP.fonts.md,textDecorationLine:"line-through",color:g.ZP.colors.gray3},checkbox:{width:30*g.ZP.refRatio,height:30*g.ZP.refRatio},close:{width:30,height:30,display:"flex",alignItems:"stretch",justifyContent:"space-between"}});var Z=o(90244),h=o(26560),x=function(e){var t;let{product:o,onProductSelected:l,list:s,selected:p,cancelType:g=!1,onProductRemoved:x,singleResultsSelection:y}=e,{lists:b}=(0,i.CG)(e=>e.customLists),v=null!==(t=(0,r.useMemo)(()=>b.find(e=>e.id===(null==s?void 0:s.id)),[b,null==s?void 0:s.id]))&&void 0!==t?t:s;return(0,r.useMemo)(()=>{var e;return null==v?void 0:null===(e=v.books)||void 0===e?void 0:e.content.find(e=>e.id===o.id)},[s])?null:(0,n.jsxs)(c.Z,{onPress:e=>g?null:l(e,o),style:f.item,children:[(0,n.jsx)(a.Z,{style:f.columnCover,children:(0,n.jsx)(d.Z,{style:f.cover,resizeMode:"contain",source:{uri:o.image_url}})}),(0,n.jsx)(a.Z,{style:f.divisor}),(0,n.jsxs)(a.Z,{style:f.columnData,children:[(0,n.jsx)(m.Z,{noBaseFormat:!0,nospace:!0,format:"boldMD",children:o.title}),(0,n.jsx)(m.Z,{format:"globalSM",nospace:!0,children:o.author_name})]}),g&&(0,n.jsx)(u.mw,{onPressIn:e=>{x&&x(e,o)},style:f.close}),!y&&!g&&(p?(0,n.jsx)(Z.Z,{style:f.checkbox}):(0,n.jsx)(h.Z,{style:f.checkbox}))]})};let y=e=>e.id;var b=function(e){let{products:t,size:o,loading:r,onLoadNext:i,onRefresh:l,onProductSelected:c,productsSelected:d,list:m,onProductRemoved:u,listBooksLiked:p,cancelType:g=!1,singleResultsSelection:Z}=e;return(0,n.jsx)(a.Z,{style:f.body,children:(0,n.jsx)(s.Z,{removeClippedSubviews:!0,refreshing:r,initialNumToRender:o,data:g?p:t,onRefresh:l,renderItem:e=>(0,n.jsx)(x,{product:e.item,onProductSelected:c,list:m,selected:d&&!!d.find(t=>t.id===e.item.id),onProductRemoved:u,cancelType:g,singleResultsSelection:Z}),keyExtractor:e=>y(e),onEndReached:i})})},v=o(36351),P=function(e){let{onProductSelected:t,searchKeyword:o,productsSelected:a,list:s,cancelType:c,onProductRemoved:d,listBooksLiked:m,singleResultsSelection:u}=e,p=(0,i.TL)(),{content:g,size:f,total_pages:Z,page_number:h,loading:x}=(0,i.CG)(e=>e.lists.addBookResults),y=(0,r.useCallback)(()=>{p((0,l.Ug)()),p((0,l.BP)(o,0))},[o]);return(0,v.b)(y,[o],400),(0,n.jsx)(b,{products:g,size:f,loading:x,onLoadNext:e=>{e<=0&&h+1<Z&&p((0,l.BP)(o,Math.min(h+1,Z)))},onRefresh:()=>{p((0,l.Ug)()),p((0,l.BP)(o,0))},onProductSelected:t,productsSelected:a,list:s,listBooksLiked:m,cancelType:c,onProductRemoved:d,singleResultsSelection:u})}},19576:function(e,t,o){o.d(t,{Z:function(){return m}});var n=o(85893);o(67294);var r=o(37548),i=o(64143),l=o(3776),a=o(8023),s=o(86393);let c=o(82463).Z.create({headerTitleStyle:{display:"flex",minHeight:83,marginHorizontal:s.ZP.gutters.paddingNormal,marginVertical:s.ZP.gutters.paddingXS},input:{flex:1,minHeight:48,paddingRight:48,...s.ZP.fonts.searchInput,backgroundColor:s.ZP.colors.gray1,borderRadius:3,lineHeight:void 0},inputFocused:{paddingLeft:s.ZP.margin.xs},icnContainer:{position:"absolute",height:48,width:48,display:"flex",justifyContent:"center",alignItems:"center"},icnLeftContainer:{left:0},icnRightContainer:{right:0}});var d=o(87529),m=function(e){let{inputText:t,onChangeText:o,titleText:m,placeholder:u,onSend:p,isFocused:g,setIsFocused:f,showCancelButton:Z=!0}=e;return(0,n.jsxs)(r.Z,{style:c.headerTitleStyle,children:[(0,n.jsx)(r.Z,{children:m&&(0,n.jsx)(d.Z,{format:"titleRelated",children:m})}),(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(i.Z,{style:[c.input,g&&c.inputFocused],value:t,onChangeText:o,placeholder:u,onFocus:()=>f(!0),onSubmitEditing:()=>p(t),returnKeyType:"search",placeholderTextColor:s.ZP.colors.gray3,autoFocus:!0}),!g&&(0,n.jsx)(r.Z,{style:[c.icnContainer,c.icnLeftContainer],pointerEvents:"none",children:(0,n.jsx)(a.Z,{width:24,height:24,style:{color:s.ZP.colors.black}})}),!!t&&Z&&(0,n.jsx)(r.Z,{style:[c.icnContainer,c.icnRightContainer],children:(0,n.jsx)(l.X9,{onPress:()=>{o("")},style:{width:"25px",height:"25px",alignItems:"flex-start"}})})]})]})}},85256:function(e,t,o){o.d(t,{EO:function(){return v},RL:function(){return x},Uw:function(){return y},VP:function(){return h},an:function(){return b},cd:function(){return Z},vC:function(){return P}});var n=o(17609),r=o(51023),i=o(89877),l=o(86393);let a=e=>{var t,o,n,r,i;let{product:l,article:a,list:s,mentioner:c,editorialList:d}=e;return(null!==(i=null!==(r=null!==(n=null!==(o=null!==(t=null==l?void 0:l.title)&&void 0!==t?t:null==a?void 0:a.pageTitle)&&void 0!==o?o:null==s?void 0:s.title)&&void 0!==n?n:null==c?void 0:c.full_name)&&void 0!==r?r:null==d?void 0:d.htmlTitle)&&void 0!==i?i:"").replace(/&/g,"%26").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/'/g,"%27")},s=e=>{var t,o,n,r,i,l,a,s,c,d,m,u;let{product:p,article:g,list:f,mentioner:Z,editorialList:h}=e;return null!==(u=null!==(d=null!==(c=null!==(s=null!==(l=null!==(i=null==p?void 0:p.image_url)&&void 0!==i?i:null==g?void 0:g.openGraphImage.url)&&void 0!==l?l:null==g?void 0:g.articleImage.url)&&void 0!==s?s:null===(t=(null!==(a=null==f?void 0:f.last_books)&&void 0!==a?a:[])[0])||void 0===t?void 0:t.image_url)&&void 0!==c?c:null==Z?void 0:Z.photo_url)&&void 0!==d?d:null==h?void 0:null===(o=h.list)||void 0===o?void 0:o.avatar)&&void 0!==u?u:null===(n=(null!==(m=null==h?void 0:null===(r=h.list)||void 0===r?void 0:r.last_books)&&void 0!==m?m:[])[0])||void 0===n?void 0:n.image_url},c=e=>{var t,o,n,r;let{product:i,article:l,list:a,mentioner:s}=e;return null!==(r=null!==(n=null!==(o=null!==(t=null==i?void 0:i.author_name)&&void 0!==t?t:null==l?void 0:l.author)&&void 0!==o?o:null==a?void 0:a.owner_user_name)&&void 0!==n?n:null==s?void 0:s.full_name)&&void 0!==r?r:"Tertulia"},d=e=>e.list||e.editorialList?"Check out the reading list “".concat(a(e),"” on Tertulia."):"Look at: '".concat(a(e),"' by ").concat(c(e),".\n"),m=()=>{let e="develop"===i.bw?r.Z.WEB_URL_STAGING:r.Z.WEB_URL;return["web.tertulia.com","web-dev.tertulia.com","web-alpha.tertulia.com"].forEach(t=>{e=e.replace(t,"tertulia.com")}),e},u=e=>{let{product:t,article:o,list:n,mentioner:r,publicProfile:i,editorialList:l}=e;return t?"product":o?"article":n?"list":r?"mentioner":i?"publicProfile":l?"editorialList":null},p=e=>{let{product:t,article:o,list:n,mentioner:r,publicProfile:i,editorialList:l}=e,a=m();switch(u({product:t,article:o,list:n,mentioner:r,publicProfile:i,editorialList:l})){case"product":return a+((null==t?void 0:t.book_url)?t.book_url:"/product/".concat(null==t?void 0:t.id));case"article":return a+"/article/".concat(null==o?void 0:o.slug);case"list":var s;return a+"/list/".concat((null==n?void 0:n.friendly_url)||(null==n?void 0:n.id)||(null==n?void 0:null===(s=n.custom_list)||void 0===s?void 0:s.id));case"mentioner":return a+"/voices/".concat(null==r?void 0:r.friendly_url);case"publicProfile":return a+"/u/".concat(null==i?void 0:i.friendly_url);case"editorialList":return a+"/editorial-list/".concat(null==l?void 0:l.friendlyUrl);default:return""}},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"share_other",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"app";return"".concat(p(e),"?utm_source=").concat(t,"%26utm_medium=").concat(o,"%26utm_campaign=share")},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"share_other",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"app";return"".concat(p(e),"?utm_source=").concat(t,"&utm_medium=").concat(o,"&utm_campaign=share")},Z=(e,t)=>({message:"",url:"sms:".concat(t,"body=").concat(g(e,"share_message")),social:n.Z.Social.SMS}),h=(e,t,o)=>({subject:"Check out this ".concat(o?"book":"reading list"," on Tertulia"),message:"".concat(d(e),"\n  ").concat(g(e,"share_email",t)),social:n.Z.Social.EMAIL}),x=(e,t)=>({message:"",url:g(e,"share_tw",t),social:n.Z.Social.TWITTER}),y=(e,t)=>({backgroundImage:s(e),backgroundBottomColor:l.ZP.colors.white,backgroundTopColor:l.ZP.colors.doveGray,attributionURL:g(e,"share_ig",t),social:n.Z.Social.INSTAGRAM_STORIES,appId:"976758046624767"}),b=(e,t)=>({backgroundImage:s(e),title:a(e),message:d(e),url:g(e,"share_fb",t),social:n.Z.Social.FACEBOOK}),v=(e,t)=>({url:f(e,"share_copy",t)}),P=(e,t)=>({title:a(e),message:"".concat(d(e)),url:f(e,"share_other",t),backgroundImage:s(e),attributionURL:f(e,"share_other",t)})},39881:function(e,t,o){var n=o(85893),r=o(86393);o(67294);var i=o(37548),l=o(87529),a=o(30687),s=o(19738),c=o(79045),d=o(51023);t.Z=function(e){let{onPress:t}=e;return(0,n.jsx)(i.Z,{style:r.W0.flexColumnCenter,children:(0,n.jsxs)(l.Z,{color:"gray4",nospace:!0,format:"globalSM",center:!0,children:["By joining the Tertulia Co-op, you confirm that you have read the membership agreement in our",(0,n.jsx)(a.Z,{onPress:()=>{t&&t(),s.tq&&(0,c.J)("".concat(d.Z.TERMS_URL,"?from_app=true"))},type:"regularLink",href:"/terms",style:r.W0.termsLink,cssClass:"UI_link",children:"Terms & Conditions"})]})})}},13753:function(e,t,o){o.d(t,{Z:function(){return h}});var n=o(85893),r=o(67294),i=o(72215),l=o(43539),a=o(19738),s=o(90900),c=o(30960),d=o(87529),m=o(64521),u=o(30687),p=o(45033),g=o(86393),f=o(22450),Z=r.memo(function(e){let{regularPrice:t,getMemberPriceLocal:o,simplePrice:r,product_form:i,publication_date:a,sales_date:s,affiliateMsg:c}=e;return(0,n.jsxs)(m.Z,{style:f.Z.priceContainerLeft,cssClass:r?"UI_priceCardCompactSimple":"UI_priceCardCompact",children:[(0,n.jsxs)(d.Z,{format:"globalXS",nospace:!0,dataCy:"label-format-date-book",children:[i,", ",(0,l.So)(null!=a?a:s)]}),(0,n.jsxs)(d.Z,{type:"span",format:"strikethroughXS",children:["$",t]}),(0,n.jsxs)(m.Z,{type:"span",cssClass:"UI_flexRowStart",style:g.W0.flexRowStart,children:[(0,n.jsxs)(d.Z,{type:"span",format:"boldMD",dataCy:"value-special-price",color:"price",style:{color:g.ZP.colors.price},children:["$",o]}),(0,n.jsx)(p.Z,{size:"xxs"})]}),(0,n.jsx)(m.Z,{type:"span",cssClass:"UI_priceRegular",style:f.Z.priceRegular,children:(0,n.jsx)(d.Z,{type:"span",format:"boldSM",color:"price",children:c})})]})}),h=r.memo(function(e){var t,o,h,x,y,b,v,P,C,j,_;let S,k,I,{productFromProp:T,compactMode:w,simplePrice:R,forProductScreen:L,isCartFirstItem:D,fromPage:B,productProp:E,onShowCheckoutMembershipOfferProp:M,onShowMembershipModalProp:F,isPageCart:A}=e,N=(0,i.CG)(e=>e.settings),U=(0,i.CG)(e=>e.cart),{user:W}=(0,s.Pk)(),{memberOfferPercentage:z,membershipDiscountForProducts:H}=(0,s.e7)(),O=(0,r.useMemo)(()=>W.active_membership||!!U.subscription,[W.active_membership,U.subscription]);L&&(S=E,k=M,I=F);let V=S||T,{showAffiliateDiscount:K,calculatedMembersPrice:X,settingsSpecialOffer:G,showMaxDiscountLabel:q,caseFirstBookOffer:$,caseStandardMemberPrice:Y,caseRegularPrice:J,cartHasActiveSpecialPrice:Q,hasLimitDiscount:ee,discountedPrice:et,noDiscountByRateCode:eo}=(0,c.Z)({product:V,isCartFirstItem:D,fromPage:B}),en=k,er=I,ei=N.special_offer.max_discount,el=null==V?void 0:V.ecommerce,ea=null==el?void 0:el.price,es="Cart"===B,ec=X({localProduct:V,isCartFirstItem:D,fromPage:B}),ed=String(ec).split(".")[0],em=String(ec).split(".")[1],eu=(null==V?void 0:null===(o=V.ecommerce)||void 0===o?void 0:null===(t=o.availability_status)||void 0===t?void 0:t.code)==="OUT_OF_STOCK",ep=G&&D&&es&&Q;if(!V||eu)return(0,n.jsx)(n.Fragment,{});if(K)return(0,n.jsx)(Z,{regularPrice:ea,getMemberPriceLocal:null===(x=V.ecommerce)||void 0===x?void 0:null===(h=x.affiliate_discount)||void 0===h?void 0:h.price,simplePrice:R,product_form:V.product_form,publication_date:V.publication_date,sales_date:null==V?void 0:null===(y=V.ecommerce)||void 0===y?void 0:y.sales_date,memberOfferPercentage:null===(v=V.ecommerce)||void 0===v?void 0:null===(b=v.affiliate_discount)||void 0===b?void 0:b.percent,affiliateMsg:null===(C=V.ecommerce)||void 0===C?void 0:null===(P=C.affiliate_discount)||void 0===P?void 0:P.message});let eg=ee?"".concat(Number(et),"% off"):"".concat(z,"% off your first book"),ef=ee?"".concat(et):Y?"".concat(H):"".concat(z),eZ=ee&&$?"This title does not qualify for the full 50% off new member discount":"This title does not qualify for the full member discount";return w?(0,n.jsxs)(m.Z,{style:f.Z.priceContainerLeft,cssClass:R?"UI_priceCardCompactSimple":"UI_priceCardCompact",children:[(0,n.jsxs)(d.Z,{format:"globalXS",nospace:!0,dataCy:"label-format-date-book",children:[V.product_form,","," ",(0,l.So)(null!==(_=V.publication_date)&&void 0!==_?_:null==V?void 0:null===(j=V.ecommerce)||void 0===j?void 0:j.sales_date)]}),!J&&(0,n.jsxs)(d.Z,{type:"span",format:"strikethroughXS",children:["$",ea]}),J&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Z,{type:"span",format:"boldMD",children:["$",ea]}),A&&(0,n.jsx)(p.Z,{size:"xss"}),(0,n.jsx)(d.Z,{type:"span",format:"globalXS",dataCy:"label-member-price",children:A?"Price with free membership trial:":"Member price:"})]}),(0,n.jsxs)(m.Z,{type:"span",cssClass:"UI_flexRowStart",style:g.W0.flexRowStart,children:[(0,n.jsxs)(d.Z,{type:"span",format:"boldMD",dataCy:"value-special-price",color:"price",style:{color:g.ZP.colors.price},children:["$",ec]}),(0,n.jsx)(p.Z,{size:"xxs"}),(0,n.jsxs)(d.Z,{type:"span",format:"boldSM",children:[" ","+ Free shipping"]})]}),(0,n.jsx)(m.Z,{type:"span",cssClass:"UI_priceRegular",style:f.Z.priceRegular,children:(0,n.jsxs)(m.Z,{type:"span",cssClass:"UI_flexColumn UI_gridGapXXS",style:g.W0.flexColumn,children:[ep&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(d.Z,{type:"span",format:"boldSM",color:"price",children:[ef,"% New Member Discount",q&&!ee&&" (max discount $".concat(ei,")")]})}),!ep&&($||$&&es&&Q)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{type:"span",format:"globalXS",children:eg}),q&&!ee&&(0,n.jsxs)(d.Z,{type:"span",format:"globalXS",children:["(max discount $",ei,")"]})]}),!$&&(0,n.jsxs)(d.Z,{type:"span",format:"boldSM",color:"price",children:[ef,"% off"]}),ee&&(es||eo)&&(0,n.jsx)(d.Z,{type:"span",format:"globalXS",right:!0,children:"(Limited Discount Book)"})]})})]}):(0,n.jsxs)(m.Z,{style:f.Z.priceCard,cssClass:"UI_priceCard","data-nosnippet":!0,children:[(0,n.jsxs)(m.Z,{type:"span",cssClass:"UI_priceRegular",style:f.Z.priceRegular,children:[(0,n.jsx)(d.Z,{type:"span",format:"globalSM",nospace:!0,dataCy:"label-regular-price",children:"Regular price"}),(0,n.jsx)(d.Z,{type:"span",format:"boldSM",id:"price",dataCy:"value-regular-price",children:"$".concat(ea||"--")})]}),(0,n.jsx)(p.Z,{size:"xs"}),!eu&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{size:"hairline",withDivider:!0}),(0,n.jsx)(p.Z,{size:"xs"}),(0,n.jsxs)(m.Z,{type:"span",cssClass:"UI_flexColumn",style:g.W0.flexColumn,children:[(0,n.jsxs)(m.Z,{type:"span",cssClass:"UI_flexRowBetween",style:g.W0.flexRowBetween,children:[(0,n.jsxs)(m.Z,{type:"span",cssClass:"UI_flexColumn",style:g.W0.flexColumn,children:[(0,n.jsx)(d.Z,{type:"span",format:"globalSM",children:$?"With free membership trial":Y?"Your member price":J?"With membership":""}),!a.tq&&(0,n.jsx)(u.Z,{type:"button",onPress:()=>{O||!a.tq?er&&F&&F(!0):en&&en(!0)},style:g.W0.linkMD,cssClass:"Font_linkSM",children:"Learn more"})]}),(0,n.jsxs)(m.Z,{type:"span",cssClass:"UI_flexColumnEnd",style:g.W0.flexColumnEnd,children:[!a.tq&&(0,n.jsxs)(d.Z,{type:"span",format:"boldMD",dataCy:"label-product-member-price",color:"price",id:"sale_price",tooltip:"$".concat(ed,".").concat(em),children:["$",(0,n.jsx)(d.Z,{type:"span",format:"boldXL2",children:ed}),".",em]}),a.tq&&(0,n.jsxs)(m.Z,{style:g.W0.flexRowEnd,children:[(0,n.jsx)(d.Z,{type:"span",format:"boldMD",dataCy:"label-product-member-price",color:"price",style:{color:g.ZP.colors.price},children:"$"}),(0,n.jsx)(d.Z,{type:"span",format:"boldXL2",color:"price",style:{color:g.ZP.colors.price},bold:!0,children:ed}),(0,n.jsx)(d.Z,{type:"span",format:"boldMD",color:"price",style:{color:g.ZP.colors.price},children:em})]})]})]}),(0,n.jsxs)(m.Z,{type:"span",cssClass:"UI_flexColumnEnd",style:g.W0.flexColumnEnd,children:[$&&!ep&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{type:"span",format:"boldSM",color:"price",right:!0,dataCy:"label-"+z+" %                                                                 first book",children:eg}),q&&!eo&&(0,n.jsxs)(d.Z,{type:"span",format:"boldSM",color:"price",right:!0,dataCy:"label-max-discount",children:["(max discount $",ei,")"]})]}),Y&&(0,n.jsxs)(d.Z,{type:"span",format:"boldSM",color:"price",right:!0,children:[ef,"% off"]}),ee&&eo&&(0,n.jsx)(d.Z,{type:"span",format:"globalXS",right:!0,children:"(Limited Discount Book)"}),ee&&!eo&&(0,n.jsx)(m.Z,{cssClass:"UI_limitDiscountLabel",children:(0,n.jsx)(d.Z,{type:"span",format:"globalXS",right:!0,children:eZ})}),(0,n.jsx)(d.Z,{type:"span",format:"boldSM",right:!0,dataCy:"label-free-shipping",children:"+ Free shipping"})]})]})]})]})})},22450:function(e,t,o){var n=o(48200),r=o(82463),i=o(19738),l=o(86393);let a=r.Z.create({container:{width:"100%",height:i.tq?"100%":"auto"},lightBackground:{backgroundColor:l.ZP.colors.backgroundColor},darkBackground:{backgroundColor:l.ZP.colors.black},body:{height:"100%",flex:1},responsiveContainer:{flexWrap:i.tq?"nowrap":"wrap",flexDirection:i.tq?"column":"row",alignContent:"center",justifyContent:"center"},topHero:{display:"flex"},topLeft:{minWidth:n.Z.get("window").width>720?500:360,flex:1},topHeroRight:{minWidth:n.Z.get("window").width>720?500:360,flex:2},bottomLeft:{flex:1},section:{marginHorizontal:l.ZP.margin.md,marginBottom:l.ZP.margin.lg},sectionFullWidth:{marginBottom:l.ZP.margin.lg},sectionDouble:{flex:1},colOne:{flex:1},colTwo:{flex:1},sectionWide:{flex:1},productImageForMovingIntoTheme:{alignSelf:"center",width:n.Z.get("window").width>720?285:191*l.ZP.refRatio,height:"auto",marginBottom:l.ZP.margin.xs,marginTop:l.ZP.margin.md},productSection:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"flex-start",marginHorizontal:l.ZP.margin.md},containerDescription:{marginHorizontal:l.ZP.margin.md,marginBottom:l.ZP.margin.md},titleContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:l.ZP.margin.sm},title:{flex:1},authorTitle:{flex:1,fontStyle:"italic",letterSpacing:-.5},shareBtn:{marginLeft:l.ZP.margin.sm},author:{...l.ZP.fonts.md,marginRight:l.ZP.margin.xs},publishingDate:{...l.ZP.fonts.md,color:l.ZP.colors.gray4,width:(n.Z.get("window").width>720?150:107)*l.ZP.refRatio},containerAdditionalInfo:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignContent:"center",alignItems:"center"},columns:{display:"flex",flexDirection:"row"},rows:{display:"flex",flexDirection:"column"},productPrice:{...l.ZP.fonts.headerXL,textAlign:"right",marginTop:l.ZP.margin.sm},priceRegular:{flexDirection:"row",justifyContent:"space-between"},priceMember:{flexDirection:"column",justifyContent:"space-between"},emptySpace:{backgroundColor:l.ZP.colors.backgroundColor},button:{marginTop:l.ZP.margin.md,marginBottom:l.ZP.margin.sm},mentionsTitle:{...l.ZP.fonts.headerMD,marginHorizontal:l.ZP.margin.md,marginTop:l.ZP.margin.sm,marginBottom:l.ZP.margin.xs},buttonsContainer:{display:"flex",flexDirection:"row",marginTop:l.ZP.margin.sm,marginBottom:l.ZP.margin.sm},badgesContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"},containerColumn:{display:"flex",flexDirection:"column",flex:1},checkmarks:{display:"flex",flexDirection:"column"},containerAvailability:{display:"flex",flexDirection:"row"},availability:{...l.ZP.fonts.headerMD,fontWeight:"normal"},availabilityBold:{marginHorizontal:l.ZP.margin.xxs-1,...l.ZP.fonts.headerMD},publicationDate:{...l.ZP.fonts.md},priceContainer:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-end",alignSelf:"stretch",paddingLeft:l.ZP.margin.sm},priceContainerLeft:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",alignSelf:"stretch"},priceCard:{marginTop:l.ZP.gutters.paddingSM,padding:l.ZP.gutters.paddingNormal,borderColor:l.ZP.colors.mercury,borderWidth:1,borderRadius:l.ZP.borderRadius.borderRadiusSM},rowContainer:{display:"flex",flexDirection:"row",alignItems:"center"},freeShipping:{...l.ZP.fonts.sm,textAlign:"center",padding:l.ZP.margin.xs},memberPriceLabelContainer:{...l.ZP.fonts.md},memberPriceLabel:{...l.ZP.fonts.headerMD},memberPriceActive:{...l.ZP.fonts.headerXL,marginBottom:l.ZP.margin.xs},noMemberPriceInactive:{fontFamily:"ITC Clearface Std",fontWeight:"400",fontStyle:"normal",fontSize:15*l.ZP.refRatio,lineHeight:18*l.ZP.refRatio,letterSpacing:-.45,color:l.ZP.colors.gray3},strikeThrough:{height:1,position:"absolute",left:0,right:0,bottom:"50%",backgroundColor:l.ZP.colors.gray3},marketingTitleContainer:{marginHorizontal:l.ZP.margin.md,marginBottom:l.ZP.margin.sm,borderBottomWidth:1,borderBottomColor:l.ZP.colors.gray2},marketingTitle:{...l.ZP.fonts.headerMD,marginTop:l.ZP.margin.sm,marginBottom:l.ZP.margin.sm},reviewsContainer:{marginHorizontal:l.ZP.margin.md},sidebar:{maxWidth:l.ZP.deviceSizes.sizeTablet},inListContainer:{position:"relative",backgroundColor:l.ZP.colors.active,height:42,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},arrowTurquoise:{position:"absolute",top:-l.ZP.margin.sm,right:"10%"},moreBooks:{marginHorizontal:l.ZP.margin.md},ingramTitle:{marginTop:l.ZP.margin.lg},success:{padding:25,backgroundColor:l.ZP.colors.success},informationScoreContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"flex-start",marginTop:5,maxHeight:80}});t.Z=a},53872:function(e,t,o){o.d(t,{Z:function(){return P}});var n=o(85893),r=o(67294),i=o(72215),l=o(39149),a=o(16627),s=o(90900),c=o(83841),d=o(71567),m=o(16005),u=o(64521),p=o(15372),g=o(40629),f=o(82463),Z=o(86393);let h=f.Z.create({recommendationFeedback:{display:"flex",flexDirection:"row",alignContent:"flex-start",alignItems:"flex-start",marginTop:Z.ZP.gutters.paddingMD},recommendationFeedbackNarrow:{display:"flex",flexDirection:"column",alignContent:"flex-start",alignItems:"flex-start",marginTop:Z.ZP.gutters.paddingNormal},buttonIcon:{marginRight:Z.ZP.gutters.paddingMD},feedbackButtonTitle:{flexShrink:1,maxWidth:"100%",textAlign:"left",textDecorationLine:"none",fontSize:Z.ZP.fonts.button.fontSize,lineHeight:18}});var x=o(6256),y=o(88083),b=o(3600),v=o(66171),P=function(e){let{list:t,product:o,setRecommendationFormStatus:f,fromPage:Z}=e,{user:P}=(0,s.Pk)(),{pushToast:C}=(0,c.Z)(),{sendSegmentTrack:j}=(0,d.Z)(),{globalUrlParams:_}=(0,i.CG)(e=>e.globalparams),S=(null==t?void 0:t.id)||"",k=null==o?void 0:o.recommendation_feedback,I=(null==k?void 0:k.recommendation_source_type)||"",T=(null==k?void 0:k.recommendation_source_id)||"",w=(null==k?void 0:k.recommended_ean)||"",R=(null==k?void 0:k.context_type)||"",L=(null==k?void 0:k.context_id)||"",D=Z===l.vl.EDITORIAL_LIST,B={recommendationSourceType:I,recommendationSourceId:T,recommendedEan:w,contextType:R,contextId:L},{feedbackLike:E,feedbackDislike:M}=(0,r.useMemo)(()=>({feedbackLike:(null==k?void 0:k.feedback)===l.s0.LIKE,feedbackDislike:(null==k?void 0:k.feedback)===l.s0.DISLIKE}),[null==k?void 0:k.feedback]),[F,A]=(0,r.useState)(E),[N,U]=(0,r.useState)(M),W=(0,a.pS)({user:P,product:o,current_screen:Z,initial_url_params:null==_?void 0:_.urlParams}),z=F?x.Z:b.Z,H=N?y.Z:v.Z,O=F?"IconThumbsUpActive.svg":"IconThumbsUpInactive.svg",V=N?"IconThumbsDownActive.svg":"IconThumbsDownInactive.svg";return k?(0,n.jsxs)(u.Z,{style:D?h.recommendationFeedbackNarrow:h.recommendationFeedback,cssClass:D?"UI_recommendationFeedbackNarrow":"UI_recommendationFeedback",children:[(0,n.jsx)(p.Z,{onPress:()=>{if(f(l.NZ.INACTIVE),F)A(!1),m.Z.deleteRecommendationFeedbackEvaluate({recommendationSourceType:I,recommendationSourceId:T,recommendedEan:w}).then(()=>{j({name:l.FP.RecommendationRemoveEvaluation,params:{...W,recommendation:{...B,feedback:l.s0.LIKE_REMOVE,listId:S}}})});else{A(!0),U(!1),C({type:"success",text:l.qp.LIKE_TOAST});let e=l.s0.LIKE;m.Z.postRecommendationFeedbackEvaluate({...B,feedback:e}).then(()=>{j({name:l.FP.RecommendationLike,params:{...W,recommendation:{...B,feedback:e,listId:S}}})})}},titleStyle:h.feedbackButtonTitle,size:"inlineLinkSimple",icon:()=>(0,n.jsx)(g.Z,{svgElement:(0,n.jsx)(z,{style:h.buttonIcon}),src:"/images/"+O,alt:"Like recommendation",width:42,height:42,noWrapper:!0}),title:Z===l.vl.TODAY_FOR_YOU?l.qp.LIKE_THIS_BUTTON_LABEL:l.qp.LIKE_BUTTON_LABEL,borderRadius:!0}),(0,n.jsx)(p.Z,{onPress:()=>{if(N)U(!1),f(l.NZ.INACTIVE),m.Z.deleteRecommendationFeedbackEvaluate({recommendationSourceType:I,recommendationSourceId:T,recommendedEan:w}).then(()=>{j({name:l.FP.RecommendationRemoveEvaluation,params:{...W,recommendation:{...B,feedback:l.s0.DISLIKE_REMOVE,listId:S}}})});else{A(!1),U(!0),f(l.NZ.ACTIVE),C({type:"success",text:l.qp.DISLIKE_TOAST});let e=l.s0.DISLIKE;m.Z.postRecommendationFeedbackEvaluate({...B,feedback:e}).then(()=>{j({name:l.FP.RecommendationDislike,params:{...W,recommendation:{...B,feedback:e,listId:S}}})})}},titleStyle:h.feedbackButtonTitle,size:"inlineLinkSimple",icon:()=>(0,n.jsx)(g.Z,{svgElement:(0,n.jsx)(H,{style:h.buttonIcon}),src:"/images/"+V,alt:"Not interested",width:42,height:42,noWrapper:!0}),title:l.qp.DISLIKE_BUTTON_LABEL,borderRadius:!0})]}):null}},44521:function(e,t,o){o.d(t,{Z:function(){return v}});var n=o(85893),r=o(67294),i=o(72215),l=o(39149),a=o(16627),s=o(19738),c=o(90900),d=o(71567),m=o(16005),u=o(87529),p=o(64521),g=o(15372),f=o(45033),Z=o(34507),h=o(82463),x=o(86393);let y=h.Z.create({recommendationForm:{flexDirection:"column",marginTop:x.ZP.gutters.paddingMD,marginBottom:x.ZP.gutters.paddingMD,padding:x.ZP.gutters.paddingMD,borderWidth:2,borderColor:x.ZP.colors.mercury,borderRadius:x.ZP.borderRadius.borderRadiusSM},recommendationFormInner:{marginVertical:x.ZP.gutters.paddingSM,paddingTop:x.ZP.gutters.paddingNormal,paddingBottom:x.ZP.gutters.paddingNormal,borderTopWidth:1,borderTopColor:x.ZP.colors.mercury,borderBottomWidth:1,borderBottomColor:x.ZP.colors.mercury}});var b=o(62399),v=r.memo(function(e){var t;let{list:o,product:h,recommendationFormStatus:x,setRecommendationFormStatus:b,fromPage:v}=e,{user:P}=(0,c.Pk)(),{sendSegmentTrack:C}=(0,d.Z)(),{globalUrlParams:j}=(0,i.CG)(e=>e.globalparams),_=(null==o?void 0:o.id)||"",S=null==h?void 0:h.recommendation_feedback,k=(null==S?void 0:S.recommendation_source_type)||"",I=(null==S?void 0:S.recommendation_source_id)||"",T=(null==S?void 0:S.recommended_ean)||"",w={recommendationSourceType:k,recommendationSourceId:I,recommendedEan:T,contextType:(null==S?void 0:S.context_type)||"",contextId:(null==S?void 0:S.context_id)||""},[R,L]=(0,r.useState)(""),[D,B]=(0,r.useState)(null==S?void 0:S.source_blacklisted),E=(e=>{let t=/<a href=".*">(.*)<\/a>/.exec(e);return(null==t?void 0:t[1])||""})((null==h?void 0:h.editorial_pre_headline)||""),M=D?l.IV.BLACKLIST_THANKS.replace("[product_title]",E):l.IV.BLACKLIST_BUTTON_LABEL.replace("[product_title]",E),F=(0,a.pS)({user:P,product:h,current_screen:v,initial_url_params:null==j?void 0:j.urlParams});return S?(0,n.jsxs)(p.Z,{cssClass:"UI_recommendationForm",style:y.recommendationForm,children:[(0,n.jsx)(u.Z,{type:"span",format:"boldMD",nospace:!0,children:l.IV.CAPTION}),(0,n.jsxs)(p.Z,{cssClass:"UI_recommendationFormInner",style:y.recommendationFormInner,children:[x!==l.NZ.SENT&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z.Z,{value:R,placeholder:l.IV.COMMENTS_PLACEHOLDER,onChangeText:e=>L(e),onFocus:()=>b(l.NZ.ACTIVE),multiline:!0,style:{marginTop:0}}),(0,n.jsx)(g.Z,{title:l.IV.SUBMIT_LABEL,onPress:()=>{let e=l.s0.DISLIKE;R?(b(l.NZ.SENT),m.Z.postRecommendationFeedbackComment({...w,comment:R}).then(()=>{C({name:l.FP.RecommendationComments,params:{...F,recommendation:{...w,feedback:e,comment:R,listId:_}}})})):(b(l.NZ.ACTIVE_EMPTY),C({name:l.FP.RecommendationCommentsEmpty,params:{...F,recommendation:{...w,feedback:e,listId:_}}}))}})]}),x===l.NZ.ACTIVE_EMPTY&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Z,{}),(0,n.jsx)(u.Z,{type:"span",format:s.tq?"globalSM":"globalMD",color:"danger",nospace:!0,children:l.IV.EMPTY_MESSAGE})]}),x===l.NZ.SENT&&(0,n.jsx)(u.Z,{type:"span",format:"globalMD",nospace:!0,children:l.IV.SUBMIT_THANK_YOU})]}),!D&&(null==h?void 0:null===(t=h.recommendation_feedback)||void 0===t?void 0:t.recommendation_source_type)=="PRODUCT"&&(0,n.jsx)(g.Z,{title:M,onPress:()=>{D||(B(!0),m.Z.postRecommendationFeedbackBlacklistSource({recommendationSourceType:k,recommendationSourceId:I,recommendedEan:T,sourceBlacklisted:!0}).then(()=>{C({name:l.FP.RecommendationAddSourceToBlacklist,params:{...F,recommendation:{...w,listId:_}}})}))},size:"inlineLink",cssClass:"Button_inlineLinkSm",titleStyle:{textAlign:"left"}}),D&&(0,n.jsxs)(u.Z,{type:"span",format:"globalSM",nospace:!0,children:[l.IV.BLACKLIST_THANKS.replace("[product_title]",E)," ",(0,n.jsx)(g.Z,{title:"Undo",onPress:()=>{D&&(B(!1),m.Z.postRecommendationFeedbackBlacklistSource({recommendationSourceType:k,recommendationSourceId:I,recommendedEan:T,sourceBlacklisted:!1}).then(()=>{C({name:l.FP.RecommendationRemoveSourceFromBlacklist,params:{...F,recommendation:{...w,listId:_}}})}))},size:"inlineLink",cssClass:"Button_inlineLinkSm"})]})]}):null},b.E)},17422:function(e,t,o){var n=o(82463),r=o(86393);let i=n.Z.create({item:{flexDirection:"column",marginHorizontal:r.ZP.margin.md,marginBottom:r.ZP.margin.sm,paddingTop:r.ZP.margin.sm,borderTopColor:r.ZP.colors.gray2,borderTopWidth:1,overflow:"visible"},columnCover:{display:"flex",justifyContent:"center",overflow:"visible",shadowOpacity:1,shadowColor:r.ZP.colors.gray3,shadowOffset:{height:3,width:3},elevation:3,shadowRadius:5},columnDataTFY:{flexGrow:1,flexShrink:1,display:"flex",justifyContent:"flex-start"},columnData:{flexGrow:1,flexShrink:1,display:"flex",justifyContent:"flex-start",paddingLeft:r.ZP.gutters.paddingMD},divisor:{width:r.ZP.margin.sm},productImageForMovingIntoTheme:{padding:r.ZP.margin.sm,width:"100%",aspectRatio:r.ZP.coverAspectRatio},tweeterAvatarsBox:{flexDirection:"row"},mentionerBox:{flexDirection:"column",flexWrap:"wrap",marginTop:r.ZP.margin.sm,marginBottom:-1*r.ZP.margin.xxs},tweeterNameBox:{flexDirection:"row",alignSelf:"flex-start",flexWrap:"wrap"},tweeterName:{marginBottom:0,height:"auto",textDecorationLine:"none"},mentionerAvatarLink:{...r.ZP.tweeterAvatarXXS},productForm:{...r.ZP.fonts.md,color:r.ZP.colors.gray4},price:{...r.ZP.fonts.md,color:r.ZP.colors.gray4},segmentControl:{marginHorizontal:r.ZP.margin.md,marginBottom:r.ZP.margin.md,backgroundColor:r.ZP.colors.backgroundColor},segmentControlFont:{fontFamily:"Inter-SemiBold",fontWeight:"600",fontStyle:"normal"},row:{display:"flex",flexDirection:"row"},rowContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginHorizontal:r.ZP.margin.md,marginBottom:r.ZP.margin.sm},columnContainer:{display:"flex",flexDirection:"column",justifyContent:"center"},visibilityText:{...r.ZP.fonts.md,color:r.ZP.colors.gray4},countText:{...r.ZP.fonts.md},priceActive:{...r.ZP.fonts.md,marginRight:r.ZP.margin.xs/2,color:r.ZP.colors.gray4},priceInactive:{...r.ZP.fonts.md,textDecorationLine:"line-through",color:r.ZP.colors.gray3},buttonsContainer:{display:"flex",flexDirection:"row",marginTop:r.ZP.margin.xs,marginBottom:r.ZP.margin.sm,gap:r.ZP.margin.sm},visibilityAndEditionContainer:{flex:1},switch:{marginRight:r.ZP.margin.xs},emptyList:{justifyContent:"center",alignItems:"center",paddingHorizontal:r.ZP.margin.sm,paddingVertical:r.ZP.margin.md,textAlign:"center",backgroundColor:r.ZP.colors.gray1,flex:1},listFooterMobile:{margin:"auto"},listCartButton:{paddingHorizontal:0,minWidth:44},list:{alignItems:"flex-start"}});t.Z=i}}]);