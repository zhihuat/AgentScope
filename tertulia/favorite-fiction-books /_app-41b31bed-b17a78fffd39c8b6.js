(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7961],{56612:function(e,t,o){"use strict";var n,i;o.d(t,{P:function(){return n}}),(i=n||(n={})).HOME_TOP_BLACK="HOME_TOP_BLACK",i.HOME_TOP="HOME_TOP"},89052:function(e,t,o){"use strict";o.d(t,{F:function(){return r},i:function(){return u}});var n=o(89877),i=o(51023);function r(e,t){(0,n.Y0)().defaults.headers.common["guest-access-token"]="".concat(i.Z.GUEST_ACCESS_TOKEN),e?(0,n.Y0)().defaults.headers.common.Authorization="Bearer ".concat(e):delete n.Y0().defaults.headers.common.Authorization,t&&t()}let u=e=>{!(0,n.Y0)().defaults.headers.common.Authorization&&e&&((0,n.Y0)().defaults.headers.common.Authorization="Bearer ".concat(e))}},20406:function(e,t,o){"use strict";function n(e,t){return new Promise((o,n)=>{let i=setTimeout(()=>n(Error("timeout")),t);e().then(e=>o(e),e=>n(Error(e))).finally(()=>clearTimeout(i))})}o.d(t,{y:function(){return n}})},25467:function(e,t,o){"use strict";function n(e){let t=e.match(/Cart\/([^?]+)/);return t?t[1]:null}function i(e){console.log({shortId:e}),localStorage.setItem("cartId",e)}function r(){return localStorage.getItem("cartId")}function u(){localStorage.removeItem("cartId")}o.d(t,{FF:function(){return u},Mu:function(){return i},QC:function(){return r},ip:function(){return n}})},26035:function(e,t,o){"use strict";o.d(t,{AM:function(){return p},Et:function(){return _},Hj:function(){return v},IT:function(){return E},K8:function(){return c},R8:function(){return h},X8:function(){return l},fg:function(){return i},i2:function(){return r},kw:function(){return d},qr:function(){return s},uo:function(){return m},w1:function(){return u},zb:function(){return f},zj:function(){return a}});var n=o(19738);let i=2,r=4,u=1e5,l=(n.tq?15e3:u)+5e3,d=!0,a=2,c=3,s=!0,v=10,_="/login-with-email",m="/new-account",f="Next",p="Skip",E="atl-347",h="wc-15"},79045:function(e,t,o){"use strict";o.d(t,{J:function(){return r}});var n=o(32144);let i=(()=>{let e={},t=e.hasOwnProperty;return{on:(o,n)=>{t.call(e,o)||(e[o]=[]),e[o].push(n)},emit:(o,n)=>{t.call(e,o)&&e[o].forEach(e=>{e(void 0!==n?n:{})})},remove:(o,n)=>{t.call(e,o)||(e[o]=[]);let i=e[o].indexOf(n);i>-1&&e[o].splice(i,1)}}})(),r=(e,t)=>{t?n.Z.canOpenURL(e).then(t=>{t?n.Z.openURL(e):console.log("Don't know how to open URI: ".concat(e))}):i.emit("Navigation Push",{name:"WebView",params:{uri:e}})};t.Z=i},49942:function(e,t){"use strict";let o=(()=>{let e={},t={},o=t.hasOwnProperty;return{set:(n,i)=>{e[n]=i,o.call(t,n)&&t[n].forEach(e=>{e(void 0!==i?i:{})})},get:t=>e[t],remove:(e,n)=>{o.call(t,e)||(t[e]=[]);let i=t[e].indexOf(n);i>-1&&t[e].splice(i,1)},on:(e,n)=>{o.call(t,e)||(t[e]=[]),t[e].push(n)}}})();t.Z=o},43539:function(e,t,o){"use strict";o.d(t,{$h:function(){return z},A0:function(){return y},AZ:function(){return S},BO:function(){return W},Ei:function(){return $},GV:function(){return s},IC:function(){return A},Il:function(){return _},MH:function(){return D},QM:function(){return N},RA:function(){return j},RH:function(){return a},RV:function(){return H},So:function(){return C},Sy:function(){return L},VG:function(){return p},Vt:function(){return x},XM:function(){return B},Y6:function(){return Q},ZE:function(){return X},bT:function(){return m},br:function(){return P},cW:function(){return J},gn:function(){return w},i4:function(){return K},ie:function(){return b},ih:function(){return Z},ku:function(){return q},l2:function(){return c},lj:function(){return g},pg:function(){return k},rk:function(){return Y},tH:function(){return O},xb:function(){return I},zj:function(){return U}});var n=o(37922),i=o(95089),r=o(51023),u=o(89877),l=o(19738),d=o(39149);let a=12,c=4,s="https://tertulia.com/images/DefaultCover.png",v=o(45857),_="https://tertulia.com/images/tertulia-icon.png";function m(){return"Version ".concat(r.Z.VERSION,".").concat(r.Z.CURRENT)}function f(e){var t,o,n,i,r,u,l,d;let a=(null!==(t=e.split(/\D+/))&&void 0!==t?t:[]).map(e=>parseInt(e,10));return new Date(Date.UTC(null!==(o=a[0])&&void 0!==o?o:0,--a[1],null!==(i=a[2])&&void 0!==i?i:0,null!==(r=a[3])&&void 0!==r?r:0,null!==(u=a[4])&&void 0!==u?u:0,null!==(l=a[5])&&void 0!==l?l:0,null!==(d=a[6])&&void 0!==d?d:0))}let p=e=>{let t=f(e),o=Math.floor((new Date().valueOf()-t.valueOf())/1e3),n=o/31536e3;return n>1?Math.floor(n)+(n>=2?" years":" year"):(n=o/2592e3)>1?Math.floor(n)+(n>=2?" months":" month"):(n=o/86400)>1?Math.floor(n)+(n>=2?" days":" day"):(n=o/3600)>1?Math.floor(n)+(n>=2?" hours":" hour"):(n=o/60)>1?Math.floor(n)+(n>=2?" minutes":" minute"):Math.floor(o)+(o>1?" seconds":" second")},E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h=["st","nd","rd"],T=e=>{let t=e.toString(),o=parseInt(t.charAt(t.length-1),10);return o>0&&o<=h.length?h[o-1]:"th"},R=e=>{let t=e.getUTCMonth(),o=e.getUTCDate();return"".concat(E[t]," ").concat(o).concat(T(o),", ").concat(e.getFullYear())},b=e=>{let t=e?f(e):null;return t?R(t):""},A=e=>{if(!e)return null;let t=(0,n.Z)(e);return(0,i.Z)(t,"MMM d, yyyy")},g=e=>null==e?void 0:e.charAt(0).toUpperCase(),O=e=>null==e?void 0:e.replace(/((\w+:\/\/)[-a-zA-Z0-9:@;?&=\/%\+\.\*!'\(\),\$_\{\}\^~\[\]`#|]+)/g,'<a href="$&">$&</a>'),S=e=>{let t=/(?!w{1,}\.)(\w+\.?)([a-zA-Z]+)(\.\w+)/g.exec(e);return t?t[0]:e},I=e=>!!(!e||Array.isArray(e)&&void 0===e[0]),L=e=>{let t=f(e);return Math.floor((new Date().valueOf()-t.valueOf())/1e3)/86400>7?"on ".concat(R(t)):"".concat(p(e)," ago")},C=e=>e?f(e).getFullYear():"",w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.0.0.0",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0.0.0.0",o=e.split("."),n=t.split(".");for(let e=0;e<o.length;e++){if(parseInt(o[e],10)>parseInt(n[e],10))return!0;if(parseInt(o[e],10)<parseInt(n[e],10))break}return!1},M=["web-dev.tertulia.com","web.tertulia.com","tertulia.com","www.tertulia.com","https://web-dev.tertulia.com","https://web.tertulia.com","https://tertulia.com","https://www.tertulia.com","http://web-dev.tertulia.com","http://web.tertulia.com","http://tertulia.com","http://www.tertulia.com","tertulia:/"],y=e=>{for(let t of M){let o=e.indexOf(t);if(-1!==o)return"tertulia:/".concat(e.slice(o+t.length))}return e},N=e=>{if(!(e instanceof Date))throw Error("Provided argument is not a Date object.");let t=e.toISOString(),o=t.match(/\d{4}-\d{2}-\d{2}/);return o?o[0]:t},k=e=>{let t=JSON.stringify(e);var o,n=0;if(0===t.length)return"s".concat(Math.abs(n));for(o=0;o<t.length;o++)n=(n<<5)-n+t.charCodeAt(o)|0;return"s".concat(Math.abs(n))},P=(e,t)=>Math.round((e-t)/864e5)>30,D=e=>(null==e?void 0:e.replace("https://web-dev.tertulia.com","").replace("https://web-alpha.tertulia.com",""))||"",B=(e,t,o)=>1===e?"".concat(e," ").concat(t):"".concat(e," ").concat(o),U=()=>{if(l.tq){if("production"===u.bw)return"production"}else if("production"===r.Z.APP_ENVIRONMENT)return"production";return"development"};U();let F=()=>r.Z.SEGMENT_API_KEY,G=()=>r.Z.API_GATEWAY_URL+"/events",V=()=>r.Z.API_GATEWAY_URL+"/events_config",Y=()=>({writeKey:F(),trackAppLifecycleEvents:!0,trackDeepLinks:!0,cdnURL:V()}),K=()=>({integrations:{"Segment.io":{apiHost:G().replace("https://",""),protocol:"https"}}}),H=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),Z=e=>{let[t,...o]=e?null==e?void 0:e.split(" "):"";return{firstName:t,lastName:o.join(" ")}};function x(e){return e.replace(/<\/?[^>]+(>|$)/g,"")}function q(e){var t,o;switch(e&&(null==e?void 0:null===(t=e.review_value)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null==e?void 0:null===(o=e.review_value)||void 0===o?void 0:o.slice(1).toLowerCase())){case"Loved":case"Rave":return"Great";case"Likes":return"Good";case"Mixed":return"Mixed";case"Pan":return"Poor";default:return}}function W(){return l.tq?v:d.Cr}function j(e){let t=Math.round(100*e)/100;return Math.floor(t)===t?t:t.toFixed(2)}let z=e=>{let t=e?D(e):"";return(null==t?void 0:t.includes(r.Z.WEB_URL))?decodeURIComponent(t):decodeURIComponent("".concat(r.Z.WEB_URL).concat(t))},$=e=>decodeURIComponent("".concat(r.Z.WEB_URL).concat(r.Z.BOOK_COVERS_URL).concat(e)),J=(e,t)=>e(t).terToken||"",Q=(e,t)=>"string"==typeof e&&e===t||"object"==typeof e&&e.authority===t||!!Array.isArray(e)&&e.includes(t),X=e=>/([\w])+-([\w])+-([\w])+-([\w])+-([\w])+/.test(e)},19172:function(e,t,o){"use strict";o.d(t,{VG:function(){return v},Vk:function(){return m},_1:function(){return s},jh:function(){return f},kG:function(){return d},pg:function(){return _},qe:function(){return u}});var n=o(39149);let i=[n.sY.TO_BE_READ,n.sY.READING,n.sY.FINISHED],r=[n.wI.PRIVATE,n.wI.SHARED],u=[n.wI.DRAFT,n.wI.PUBLISHED,n.wI.REJECTED,n.wI.REVIEWED],l={content:[],number:-1,size:10,totalElements:0,first:!0,last:!0,number_of_elements:0,total_pages:0,has_content:!0,pageable:{sort:[],offset:0,page_number:-1,page_size:10,paged:!0,unpaged:!1},empty:!1},d={id:"",title:"",description:void 0,owner_user_id:"",created_at:"2023-01-01T00:00:00.000000",last_updated_at:"2023-01-01T00:00:00.000000",deleted_at:null,visibility:"PRIVATE",books:l,last_books:[],user_permissions:[],access:"WRITE",book_count:0,default:!0},a=e=>{var t;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null==e?void 0:e.book_id},c=e=>{var t;return null!==(t=null==e?void 0:e.map(e=>({...e,id:a(e)})))&&void 0!==t?t:[]},s=e=>{var t;return{...d,...e,books:{...l,...null==e?void 0:e.books,content:c(null==e?void 0:null===(t=e.books)||void 0===t?void 0:t.content)},last_books:c(null==e?void 0:e.last_books)}},v=e=>Array.isArray(e)?null==e?void 0:e.map(e=>{let t=(null==e?void 0:e.eans)||(null==e?void 0:e.last_books)||[];return{...e,id:null==e?void 0:e.id,title:null==e?void 0:e.title,..."custom_list_id"in e&&{custom_list_id:null==e?void 0:e.custom_list_id},..."status"in e&&{status:null==e?void 0:e.status},..."visibility"in e&&{visibility:null==e?void 0:e.visibility},..."friendly_url"in e&&{friendly_url:null==e?void 0:e.friendly_url},..."book_count"in e&&{book_count:null==e?void 0:e.book_count},last_books:null==t?void 0:t.map((t,o)=>{var n,i;return{ean:(null===(n=e.eans)||void 0===n?void 0:n[o])||t.ean,image_url:(null===(i=e.image_urls)||void 0===i?void 0:i[o])||t.image_url}})}}):[],_=e=>(null==e?void 0:e.type)==="EDITORIAL",m=e=>{if(_(e))return"EditorialList";if((null==e?void 0:e.title)&&i.includes(null==e?void 0:e.title))return"PersonalList";let t=(null==e?void 0:e.status)||(null==e?void 0:e.visibility);return t&&r.includes(t)||(null==e?void 0:e.default)?"PersonalList":(t&&u.includes(t),"CommunityList")},f=e=>{var t;return null==e?void 0:null===(t=e.content)||void 0===t?void 0:t.filter(e=>{var t;let o=(null==e?void 0:e.image_urls)&&(null==e?void 0:null===(t=e.image_urls)||void 0===t?void 0:t.length)>0,i=(null==e?void 0:e.status)===n.wI.PUBLISHED;return o&&i})}},19738:function(e,t,o){"use strict";o.d(t,{$L:function(){return a},Cy:function(){return p},H5:function(){return T},bn:function(){return f},ky:function(){return c},og:function(){return v},tq:function(){return d},uK:function(){return m},yN:function(){return E},zP:function(){return h}});var n=o(69606),i=o(48200),r=o(59768);let u="android"===n.Z.OS,l="ios"===n.Z.OS,d=l||u,a="web"===n.Z.OS,c=(()=>{if(a){let e=window.navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)}return!!l||!!u})(),s=i.Z.get("screen");s.height;let v=s.width<=420,_=i.Z.get("window"),m=_.height||667,f=_.width||375,p=a?1:f/375<m/667?f/375:m/667,E=(0,r.u)(),h=42+E,T="ios"===n.Z.OS&&i.Z.get("window").height>=812?34:0},39149:function(e,t,o){"use strict";var n,i;o.d(t,{$d:function(){return A},BH:function(){return g},Cr:function(){return E},FP:function(){return d},IV:function(){return I},Ib:function(){return m},K6:function(){return w},Lh:function(){return n},MC:function(){return T},NZ:function(){return L},QH:function(){return O},Qh:function(){return u},Sg:function(){return s},Td:function(){return R},Ti:function(){return c},UF:function(){return p},_g:function(){return f},at:function(){return r},bs:function(){return b},gh:function(){return M},qp:function(){return S},s0:function(){return C},sY:function(){return v},t3:function(){return l},tU:function(){return h},vl:function(){return a},wI:function(){return _}});let r={APP_NAME:"Tertulia"},u={CART:"cart",MEMBERSHIP:"membership",AUTHOR:"author",BOOKCLUB:"bookclub"},l={Admin:"ROLE_ADMIN",User:"ROLE_USER",Author:"ROLE_AUTHOR"},d={ProductsSearched:"Products Searched",MembershipAddedToCart:"Membership Added To Cart",MembershipRemovedFromCart:"Membership Removed From Cart",MembershipTrialAdded:"Membership Trial Added",MembershipTrialRemoved:"Membership Trial Removed",BookClubMembershipAddedToCart:"Book Club Membership Added To Cart",BookClubMembershipRemovedFromCart:"Book Club Membership Removed From Cart",ProductViewed8seconds:"Product Viewed 8 seconds",ProductDetailsViewed:"Product Details Viewed",ProductAddedToCart:"Product Added To Cart",ProductRemovedFromCart:"Product Removed From Cart",ProductBuyNow:"Product Buy Now",ProductShared:"Product Shared",ProductAddedToList:"Product Added To List",ProductRemovedFromList:"Product Removed From List",NewCustomList:"New Custom List",ProductFormatSwitcherOpened:"Product Format Switcher Opened",OnboardingBookCategorySelected:"Onboarding: Book Category Selected",OnboardingVoiceCategorySelected:"Onboarding: Voice Category Selected",UserSignup:"User Signup",MentionSourceClicked:"Mention Source Clicked",NewslettersOptinSignup:"Newsletters Opt-in: Signup",BeginCheckout:"Begin Checkout",OrderConfirmed:"Order Confirmed",GiftMembershipExpiredInvitation:"Gift Membership: Expired Invitation",GiftMembershipReceiverAlreadyAMember:"Gift Membership: Receiver Already a Member",GiftMembershipReceiverExpiredMembership:"Gift Membership: Receiver Expired Membership",EmailNotificationSignup:"Signup into Email notifications",DEEP_LINK_ERROR_EVENT:"Deep Link Error",RecommendationLike:"Recommendation Like",RecommendationDislike:"Recommendation Dislike",RecommendationRemoveEvaluation:"Recommendation Remove Evaluation",RecommendationComments:"Recommendation Comments",RecommendationCommentsEmpty:"Recommendation Empty Comments",RecommendationAddSourceToBlacklist:"Recommendation Add Source To Blacklist",RecommendationRemoveSourceFromBlacklist:"Recommendation Remove Source From Blacklist",BOOKLINKS_GAME_STARTED:"BookLinks Game Started",BOOKLINKS_GAME_COMPLETED:"BookLinks Game Completed",BOOKLINKS_DISCOUNT_COPIED:"BookLinks Discount Copied",BOOKLINKS_SHARE_RESULT:"BookLinks Share result",BOOKLINKS_UPDATE_USER_DETAILS_ERROR:"BookLinks Update User Details Error",BOOKLINKS_RESULT_SCREEN_SAVED_GAME_ERROR:"BookLinks result screen saved game error",NewsletterModalShownGeneric:"Generic Newsletter Modal Shown",NewsletterModalShownTheAtlantic:"The Atlantic Newsletter Modal Shown",NewsletterModalClosedGeneric:"Generic Newsletter Modal Closed",NewsletterModalClosedTheAtlantic:"The Atlantic Newsletter Modal Closed",NewsletterModalSubmittedGeneric:"Generic Newsletter Modal Submitted",NewsletterModalSubmittedTheAtlantic:"The Atlantic Newsletter Modal Submitted",ONBOARDING_SKIP_EVENT:"Onboarding Skip Event",ONBOARDING_COMPLETED_EVENT:"Onboarding Completed Event"},a={ARTICLE:"Article",ARTICLES:"Articles",CART:"Cart",CategoryAll:"CategoryViewAll",EDITORIAL_LIST:"EditorialList",MY_LISTS:"MyLists",PRODUCT:"Product",PUBLIC_PROFILE:"PublicProfile",READING_LIST:"ReadingList",SEARCH:"Search",TODAY_FOR_YOU:"TodayForYou",USER_PROFILE:"UserProfile",VOICE:"Voice",DIRECT_CHECKOUT:"Direct Checkout"},c={TODAY_FOR_YOU:"Today For You",EDITORIAL_LIST:"Editorial List",MY_LISTS:"My Lists",PRODUCT:"Product",PUBLIC_PROFILE:"Public Profile",READING_LIST:"Reading List"},s={LOAD:"We’re having a problem loading new content. Please check back later.",CONNECTION:"The Internet Connection appears to be offline.\n Please try again.",REQUEST:"We’re having a problem with your request. Please check back later."},v={TO_BE_READ:"To Be Read",READING:"Reading",FINISHED:"Finished",BOOKS_YOU_VE_SHARED:"Books you’ve shared"},_={PRIVATE:"PRIVATE",SHARED:"SHARED",PUBLIC:"PUBLIC",DRAFT:"DRAFT",PUBLISHED:"PUBLISHED",REJECTED:"REJECTED",REVIEWED:"REVIEWED"},m={RECOMMEND_YES:"Yes",RECOMMEND_NO:"No",RECOMMEND_POSITIVE:"WOULD_RECOMMEND",RECOMMEND_NEGATIVE:"NOT_MY_BAG"};(i=n||(n={})).RECOMMEND_YES="Yes",i.RECOMMEND_NO="No",i.RECOMMEND_POSITIVE="WOULD_RECOMMEND",i.RECOMMEND_NEGATIVE="NOT_MY_BAG";let f="https://tertulia.com",p="https://tertulia.com/images/DefaultAvatar.png",E="https://tertulia.com".concat("/images/DefaultCover.png"),h="https://tertulia.com/images/DefaultAvatar.png",T="https://tertulia.com/images/DefaultArticle.png",R={ADDED_TO_CART:"Added to Cart",REMOVED_FROM_CART:"Removed from Cart",MEMBERSHIP_ADDED_TO_CART:"Membership Added to Cart",SUBSCRIBED_TO_TERTULIA_NEWSLETTER:"Subscribed to Tertulia’s Newsletter"},b={ASK_TERTULIA:"Ask Tertulia",ASK_AGAIN:"Ask Tertulia again",WHAT_BOOK_LOOKING_FOR:"What kind of book are you looking for?",OOPS_NO_LIST_FOR_YOU:"Ouch. Couldn’t make a list for you.",VOILA_YOUR_LIST_DONE:"Voila. Your list is done.",SIGN_UP_BUTTON:"Sign up for a Tertulia account",SEARCH_PROMPT:"Ask for any book",SIGNING_UP_FOR_ACCOUNT:"signing up for a Tertulia account",SIGN_UP_FOR_ACCOUNT:"sign up for a Tertulia account",SUGGESTION_PROMPT:"If these don't quite hit the spot, {break} how about on one of these?",HINTS:["On it! Some great reads coming up","Flicking through 15 million books to make a list for you","Checking awards and reading reviews"],NO_BOOK_MATCH:"Oops! No recommended books found for your search. Try different keywords, please!",BAD_QUERY:"Uh-oh! There seems to be an issue with your search query. Please double-check your input and try again.",TOO_MANY_REQUESTS:"Hold on! We're experiencing a high volume of requests right now. Please take a short break and try again in a few moments.",INTERNAL_ERROR:"Oops! Something went wrong on our end. Our team is already working on it. Please try again later.",DEBUG_TOGGLE:"Debug",API_RESPONSE_HEADER:"API RESPONSE"},A={EARLY_ACCESS:"EARLY_ACCESS",REGULAR:"REGULAR",TRIAL:"TRIAL",TRIAL_1_MONTH:"TRIAL_1_MONTH",TRIAL_1_YEAR:"TRIAL_1_YEAR",BELLETRIST_MONTH:"BELLETRIST_MONTH",BELLETRIST_YEAR:"BELLETRIST_YEAR"},g=["BELLETRIST_MONTH","BELLETRIST_YEAR"],O={TRIAL:"Try one month free",START:"Start your membership"},S={LIKE_BUTTON_LABEL:"I like this recommendation",LIKE_THIS_BUTTON_LABEL:"I like this",DISLIKE_BUTTON_LABEL:"Not Interested",LIKE_TOAST:"We’ll show you more books like this going forward",DISLIKE_TOAST:"We’ll show you less books like this going forward"},I={CAPTION:"We’ll show you less books like this going forward",COMMENTS_PLACEHOLDER:"Why you are not interested in this book?",SUBMIT_LABEL:"Share with Tertulia",EMPTY_MESSAGE:"Please enter a reason you are not interested in this book. This is optional but helps our team improve your recommendations.",SUBMIT_THANK_YOU:"Thank you! Your feedback helps us improve our recommendations",BLACKLIST_BUTTON_LABEL:"Don’t use [product_title] for recommendations",BLACKLIST_THANKS:"Thanks! We won't use [product_title] for recommendations."},L={INACTIVE:"INACTIVE",ACTIVE:"ACTIVE",ACTIVE_EMPTY:"ACTIVE_EMPTY",SENT:"SENT"},C={LIKE:"LIKE",DISLIKE:"DISLIKE",LIKE_REMOVE:"LIKE_REMOVE",DISLIKE_REMOVE:"DISLIKE_REMOVE"},w={BELLETRIST:"belletrist"},M={BELLETRIST:"Belletrist"}},16627:function(e,t,o){"use strict";o.d(t,{MD:function(){return a},pS:function(){return c}});var n=o(69606),i=o(51023),r=o(67585),u=o(43539),l=o(19738);let d=e=>({platform:{env:(0,u.zj)(),os_name:l.tq?"iOS":n.Z.OS,os_version:n.Z.Version,is_mobile:l.ky},user:{id:null==e?void 0:e.id,authorities:null==e?void 0:e.authorities,active_membership:null==e?void 0:e.active_membership,email:null==e?void 0:e.email,first_name:null==e?void 0:e.first_name,last_name:null==e?void 0:e.last_name,twitter_account_connected:null==e?void 0:e.twitter_account_connected}}),a=e=>{let{order_number:t,order_id:o,order_tax:n,order_shipping:i,order_subtotal:r,orders:u,subscriptionCode:d,subscription:a,hasMembership:c}=e,s=u.map((e,t)=>{let o={index:t,quantity:0,price:0,item_id:"",item_name:"",affiliation:"",coupon:"",discount:0,item_category:"",item_list_id:"cart",item_list_name:""};if("subscription"===e.type)o={index:t,item_id:d,item_name:a&&a.title,item_brand:"Tertulia",item_category:"Subscription",quantity:parseFloat(e.quantity.toString()),price:a&&parseFloat(a.price)};else if("giftcard"===e.type){let n=e.amount&&parseFloat(e.amount);o={index:t,item_id:"GIFTCARD_".concat(n),item_name:"Tertulia Gift Card",item_brand:"Tertulia",item_category:"Gift Card",quantity:parseFloat(e.quantity.toString()),price:n}}else if(e.product){var n,i,r,u;let l=void 0!==e.product.price&&parseFloat(e.product.price.toString())||(null===(n=e.product.ecommerce)||void 0===n?void 0:n.price)!==void 0&&parseFloat(null===(i=e.product.ecommerce)||void 0===i?void 0:i.price.toString()),d=null===(r=e.product.ecommerce)||void 0===r?void 0:r.members_price,a=l&&d?parseFloat(l.toString())-parseFloat(d.toString()):0,s=e.product.categories;o={index:t,item_id:e.product.id,item_name:e.product.title,item_brand:null===(u=e.product)||void 0===u?void 0:u.publisher_name,item_category:s&&s[0],item_variant:e.product.product_form,quantity:parseFloat(e.quantity.toString()),price:l,discount:c&&a?parseFloat(a.toFixed(2)):0}}return o});return{order_stream_type:l.tq?"Mobile App":"Web",order_number:t,order_id:o,order_tax:parseFloat(n)/100,order_shipping:parseFloat(i)/100,order_value:parseFloat(r)/100,order_currency:"USD",order_items:s}},c=e=>{var t,o,n,u,l,a,c,s,v,_,m,f,p,E,h,T,R,b,A,g,O,S,I,L,C,w,M,y,N,k,P,D,B,U,F,G,V,Y,K,H,Z,x,q,W,j,z,$,J,Q,X,ee,et,eo,en,ei,er,eu,el,ed;let ea=(0,r.nU)(),ec=(null==e?void 0:e.bisacCategory)?{from_bisac_category:{default_order:null==e?void 0:null===(t=e.bisacCategory)||void 0===t?void 0:t.default_order,code:null==e?void 0:null===(o=e.bisacCategory)||void 0===o?void 0:o.code,label:null==e?void 0:null===(n=e.bisacCategory)||void 0===n?void 0:n.label}}:null,es=(null==e?void 0:e.productCategory)?{from_category:{id:null==e?void 0:null===(u=e.productCategory)||void 0===u?void 0:u.id,title:(null==e?void 0:null===(l=e.productCategory)||void 0===l?void 0:l.title)||(null==e?void 0:null===(a=e.productCategory)||void 0===a?void 0:a.name)}}:null,ev=(null==e?void 0:e.mention)?{mention:{id:null==e?void 0:null===(c=e.mention)||void 0===c?void 0:c.mention_id,source:null==e?void 0:null===(s=e.mention)||void 0===s?void 0:s.source_link,text:null==e?void 0:null===(v=e.mention)||void 0===v?void 0:v.content,quality:null==e?void 0:null===(_=e.mention)||void 0===_?void 0:_.book_related_type,mentioner:{id:null==e?void 0:null===(f=e.mention)||void 0===f?void 0:null===(m=f.mentioner)||void 0===m?void 0:m.id,network:null==e?void 0:null===(E=e.mention)||void 0===E?void 0:null===(p=E.mentioner)||void 0===p?void 0:p.social_network,handle:null==e?void 0:null===(T=e.mention)||void 0===T?void 0:null===(h=T.mentioner)||void 0===h?void 0:h.handle,followers:null==e?void 0:null===(b=e.mention)||void 0===b?void 0:null===(R=b.mentioner)||void 0===R?void 0:R.followers_count,verified:null==e?void 0:null===(g=e.mention)||void 0===g?void 0:null===(A=g.mentioner)||void 0===A?void 0:A.verified,photo_url:null==e?void 0:null===(S=e.mention)||void 0===S?void 0:null===(O=S.mentioner)||void 0===O?void 0:O.photo_url,short_bio:null==e?void 0:null===(L=e.mention)||void 0===L?void 0:null===(I=L.mentioner)||void 0===I?void 0:I.short_bio}}}:null,e_=(null==e?void 0:e.mentioner)?{mentioner:{id:null==e?void 0:null===(C=e.mentioner)||void 0===C?void 0:C.id,network:null==e?void 0:null===(w=e.mentioner)||void 0===w?void 0:w.social_network,handle:null==e?void 0:null===(M=e.mentioner)||void 0===M?void 0:M.handle,followers:null==e?void 0:null===(y=e.mentioner)||void 0===y?void 0:y.followers_count,verified:null==e?void 0:null===(N=e.mentioner)||void 0===N?void 0:N.verified,photo_url:null==e?void 0:null===(k=e.mentioner)||void 0===k?void 0:k.photo_url,short_bio:null==e?void 0:null===(P=e.mentioner)||void 0===P?void 0:P.short_bio,friendly_url:null==e?void 0:null===(D=e.mentioner)||void 0===D?void 0:D.friendly_url}}:null,em=(null==e?void 0:e.product)?{product:{ean:null==e?void 0:null===(B=e.product)||void 0===B?void 0:B.ean,id:null==e?void 0:null===(U=e.product)||void 0===U?void 0:U.id,title:null==e?void 0:null===(F=e.product)||void 0===F?void 0:F.title,author:null==e?void 0:null===(G=e.product)||void 0===G?void 0:G.author_name,url:(null==e?void 0:null===(V=e.product)||void 0===V?void 0:V.book_url)&&"".concat(i.Z.WEB_URL).concat(null==e?void 0:null===(Y=e.product)||void 0===Y?void 0:Y.book_url),family_id:null==e?void 0:null===(K=e.product)||void 0===K?void 0:K.edition_number,price:null==e?void 0:null===(Z=e.product)||void 0===Z?void 0:null===(H=Z.ecommerce)||void 0===H?void 0:H.price,bisac:{code1:null==e?void 0:null===(q=e.product)||void 0===q?void 0:null===(x=q.bisac_codes)||void 0===x?void 0:x.bisac_subject_code1,code2:null==e?void 0:null===(j=e.product)||void 0===j?void 0:null===(W=j.bisac_codes)||void 0===W?void 0:W.bisac_subject_code2,code3:null==e?void 0:null===($=e.product)||void 0===$?void 0:null===(z=$.bisac_codes)||void 0===z?void 0:z.bisac_subject_code3,heading1:null==e?void 0:null===(Q=e.product)||void 0===Q?void 0:null===(J=Q.bisac_codes)||void 0===J?void 0:J.bisac_subject_description1,heading2:null==e?void 0:null===(ee=e.product)||void 0===ee?void 0:null===(X=ee.bisac_codes)||void 0===X?void 0:X.bisac_subject_description2,heading3:null==e?void 0:null===(eo=e.product)||void 0===eo?void 0:null===(et=eo.bisac_codes)||void 0===et?void 0:et.bisac_subject_description3},availability_code:null==e?void 0:null===(er=e.product)||void 0===er?void 0:null===(ei=er.ecommerce)||void 0===ei?void 0:null===(en=ei.availability_status)||void 0===en?void 0:en.code,recommendation_feedback:(null==e?void 0:null===(eu=e.product)||void 0===eu?void 0:eu.recommendation_feedback)||void 0,saved_in_lists:(null==e?void 0:null===(el=e.product)||void 0===el?void 0:el.saved_in_lists)||void 0,position:(null==e?void 0:null===(ed=e.product)||void 0===ed?void 0:ed.position)||void 0}}:null,ef=(null==e?void 0:e.search_keyword)?{from_search:{query:null==e?void 0:e.search_keyword,context:null==e?void 0:e.search_context,position:null==e?void 0:e.search_list_index}}:null,ep=(null==e?void 0:e.search_query)?{search:{query:null==e?void 0:e.search_query,context:null==e?void 0:e.search_initial_context}}:null,eE=(null==e?void 0:e.purchase)?{purchase:null==e?void 0:e.purchase}:null,eh=(null==e?void 0:e.product_list)?{product_list:null==e?void 0:e.product_list}:null,eT=(null==e?void 0:e.isSubscription)?{add_subscription_to_cart:!0}:null;return{...d(null==e?void 0:e.user),context:{current_tab:null==ea?void 0:ea.name,current_screen:(null==e?void 0:e.current_screen)!==""?null==e?void 0:e.current_screen:void 0,previous_screen:(null==e?void 0:e.previous_screen)!==""?null==e?void 0:e.previous_screen:void 0,previous_route:(null==e?void 0:e.previous_route)!==""?null==e?void 0:e.previous_route:void 0,page_number:(null==e?void 0:e.page_number)||void 0,initial_url_params:function(e){let t=["step","page","productId","q","slug","orderId","platform","redirect_to","order_id","order_number","order_total","order_subtotal","order_shipping","order_tax","selected_topics_fiction","selected_topics_non_fiction"],o={...e};return Object.keys(o).filter(e=>!t.includes(e)).reduce((e,t)=>(e[t]=o[t],e),{})}(null==e?void 0:e.initial_url_params)||void 0,...ec,...es,...ef,context:(null==e?void 0:e.context)!==""?null==e?void 0:e.context:void 0,subscription_in_cart:(null==e?void 0:e.subscription_in_cart)!==""?null==e?void 0:e.subscription_in_cart:void 0},...ev,...e_,...em,...ep,...eE,...eh,...eT}}},69180:function(e,t,o){"use strict";o.d(t,{Dw:function(){return r},LN:function(){return f},Ld:function(){return b},OP:function(){return _},S5:function(){return a},dL:function(){return h},g7:function(){return c},iS:function(){return m},jd:function(){return i},oH:function(){return s},rV:function(){return E},ru:function(){return p},s0:function(){return R},uo:function(){return v},vU:function(){return T}});let n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i=e=>t=>e.filter(e=>{let{test:o}=e;return!o(t)}).map(e=>{let{msg:t}=e;return t}),r=e=>!!e&&e.length>=0,u=e=>!!String(e).toLowerCase().match(n),l=e=>function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length>e},d=e=>function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length<e},a=e=>t=>Number(t)>=e,c=e=>t=>Number(t)<=e,s=e=>i([{test:u,msg:"Please enter a valid email address"}])(e),v=e=>i([{test:l(7),msg:"Password should have at least 8 characters"},{test:d(51),msg:"Password must not exceed 50 characters"}])(e),_=(e,t)=>i([{test:r,msg:e}])(t),m=e=>t=>i([{test:r,msg:e}])(t),f=e=>encodeURIComponent(e),p=e=>i([{test:r,msg:"Public name is required"},{test:d(33),msg:"Your public name can be max 32 characters."}])(e),E=e=>i([{test:r,msg:"Username is required"},{test:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^[a-zA-Z0-9]*$/.test(e)},msg:"Your username can only contain numbers and letters"},{test:d(33),msg:"Your username can be max 32 characters."}])(e),h=e=>i([{test:d(41),msg:"Your Headline can be max 40 characters."}])(e),T=e=>i([{test:d(501),msg:"Your bio can be max 500 characters."}])(e),R=e=>i([{test:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===e||/^(http|https):\/\/[^ "]+$/.test(e)},msg:"Please enter a valid URL"}])(e),b=i([{test:d(101),msg:"Link title can be max 100 characters."}])},19311:function(){}}]);