(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2594],{49121:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/new-account",function(){return r(27131)}])},98013:function(e,t,r){"use strict";r.d(t,{Z:function(){return W}});var n=r(85893),o=r(67294),a=r(72215),s=r(79045),i=r(39149),l=r(69180),c=r(19738),d=r(71567),u=r(71478),m=r(69574),h=r(71519),f=r(95564),p=r(37548),g=r(39945),b=r(91332),x=r(51023),y=r(86713),Z=r(77882),v=r(98932),C=r(55981),w=r(34507),P=r(15372),j=r(34887),k=r(45033),_=r(87529),E=r(30687),T=r(64521),L=r(96664),R=r(67648),S=r(42343),N=r(86393),M=function(e){let{onLogin:t,onClose:r,...o}=e;return(0,n.jsxs)(R.Z,{...o,style:N.W0.modalDesktop,onClose:r,children:[(0,n.jsx)(g.Z,{style:N.W0.title,children:"This email address is already connected to an account."}),(0,n.jsx)(g.Z,{style:N.W0.subtitle,children:"Do you want to log in instead? "}),(0,n.jsx)(S.Z,{title:"Login",onPress:t}),(0,n.jsx)(S.Z,{title:"Dismiss",onPress:r,inverted:!0})]})};let I=r(82463).Z.create({body:{display:"flex",justifyContent:"space-between",alignContent:"stretch",paddingBottom:N.ZP.margin.sm,marginRight:"auto",marginLeft:"auto",width:"100%",height:"100%",paddingHorizontal:N.ZP.margin.sm,maxWidth:N.ZP.deviceSizes.sizeTabletMD,backgroundColor:N.ZP.colors.backgroundColor},breadcrumbContainer:{display:"flex",flexDirection:"row"},breadcrumbTitle:{...N.ZP.fonts.md,fontFamily:"MaisonNeue-Demi"},breadcrumbText:{...N.ZP.fonts.md,color:N.ZP.colors.gray3},bottomContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"stretch",alignItems:"stretch"},containerRow:{maxWidth:N.ZP.deviceSizes.sizeTablet,width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",flexWrap:"wrap",gap:N.ZP.margin.sm},inputLeft:{flex:1},inputRight:{flex:1},errorSignup:{...N.ZP.fonts.md,color:N.ZP.colors.red}});function A(e){let{first_name:t,last_name:r,email:l,password:d,newsletter_subscribed:u,errorsFirstName:m,errorsLastName:h,errorsEmail:R,errorsPassword:S,signupLoading:A,cartLoading:W,onUpdateField:O,onNext:B,showErrors:U,errorSignup:D,displayAlreadyRegisteredModal:F,setDisplayAlreadyRegisteredModal:H,onLogin:z,from:Q,fromPartner:q,selectedSubscription:G}=e,K=(0,o.useRef)(null),V=Q===i.Qh.MEMBERSHIP&&q,Y=Q===i.Qh.BOOKCLUB&&q,$=Q===i.Qh.BOOKCLUB&&q===i.K6.BELLETRIST,{globalUrlParams:J}=(0,a.CG)(e=>e.globalparams),X=i.$d.BELLETRIST_YEAR===(null==J?void 0:J.urlParams.selected_plan),ee=()=>q===i.K6.BELLETRIST?i.gh.BELLETRIST:"",et=(0,Z.b)(null!=q?q:""),{subscription:er}=(0,y.Z)(G||(null==J?void 0:J.urlParams.selected_plan)||et),en=(()=>{if(V)return"Create an account to claim your ".concat(null==er?void 0:er.period_description," membership");if($)return"Sign up to become a ".concat(X?"premium":""," member of Belletrist");if(Y)return"Create a Tertulia account to start your ".concat(ee()," membership");switch(Q){case i.Qh.MEMBERSHIP:case i.Qh.CART:return"Create a member account";case i.Qh.AUTHOR:return"Create an author account";case"order":return"Thank you for your order! Choose a password to complete your account and get fast checkout and personalized book recommendation";default:return"Create an account"}})(),eo=V?"Continue":Y?"Continue to Activation":Q===i.Qh.MEMBERSHIP||Q===i.Qh.CART?"Continue to Checkout":"Continue",ea=(0,C.ZP)(),{addToModalContext:es}=(0,v.Z)();(0,o.useEffect)(()=>{es("LoadingModal",(0,n.jsx)(j.Z,{message:"Please wait a moment to be redirected to checkout page",display:W}))},[W]),(0,o.useEffect)(()=>{es("AlreadyRegisteredModal",(0,n.jsx)(M,{display:F,onClose:()=>H(!1),onLogin:z,position:"center"}))},[F]);let ei=$?(0,n.jsx)(n.Fragment,{children:"You’ll automatically receive notifications about your Belletrist member benefits. Sign up here to get Tertulia’s popular newsletter and access to special offers for members. Cancel anytime."}):(0,n.jsxs)(n.Fragment,{children:["We send emails that book lovers actually love. ",c.tq?"\n":(0,n.jsx)("br",{})," Check here to get our newsletter, special offers and giveaways."]});return(0,n.jsx)(f.Z,{behavior:c.tq?"padding":"height",keyboardVerticalOffset:N.ZP.navHeader.height+20,style:I.body,children:(0,n.jsxs)(T.Z,{cssClass:"UI_newAccount",children:[(0,n.jsx)(k.Z,{}),Q!==i.Qh.MEMBERSHIP&&Q!==i.Qh.CART||V?null:(0,n.jsxs)(n.Fragment,{children:[!ea.isMobile&&(0,n.jsx)(k.Z,{}),(0,n.jsxs)(p.Z,{style:I.breadcrumbContainer,children:[(0,n.jsx)(g.Z,{style:I.breadcrumbTitle,children:"Create Account"}),(0,n.jsx)(g.Z,{style:I.breadcrumbText,children:" > Checkout"})]})]}),(0,n.jsxs)(b.Z,{style:N.W0.topContainerLeft,dataCy:"container-new-account-inputs",children:[(0,n.jsx)(_.Z,{center:!0,type:"h1",format:ea.isMobile?"headerXL":"titleSmallpage",children:en}),!$&&(V||Y)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.Z,{nospace:!0,center:!0,children:"50% off your first book • Free shipping • Up to 20% off most books"}),(0,n.jsx)(k.Z,{size:"lg"})]}),(0,n.jsx)(w.Z,{label:"First name",value:t,placeholder:"First name",returnKeyType:"next",keyboardType:"default",textContentType:"givenName",onChangeText:e=>O("first_name",e),onSubmitEditing:()=>{var e;null==K||null===(e=K.current)||void 0===e||e.focus()},showErrors:U,errors:m,autoFocus:!0,style:I.inputLeft,autoComplete:"name-given"}),(0,n.jsx)(w.Z,{label:"Last name",value:r,placeholder:"Last name",returnKeyType:"next",keyboardType:"default",textContentType:"familyName",onChangeText:e=>O("last_name",e),onSubmitEditing:B,showErrors:U,inputRef:K,errors:h,style:I.inputRight,autoComplete:"name-family"}),(0,n.jsx)(w.Z,{label:"Email address",placeholder:"Email address",value:l,returnKeyType:"next",keyboardType:"email-address",textContentType:"emailAddress",onChangeText:e=>O("email",e.toLocaleLowerCase()),onSubmitEditing:B,showErrors:U,errors:R,autoComplete:"email"}),(0,n.jsx)(w.Z,{label:"Set password",placeholder:"Password",value:d,returnKeyType:"next",textContentType:"password",onChangeText:e=>O("password",e),onSubmitEditing:B,showErrors:U,errors:S,showPassEye:!0,autoComplete:"off"}),(0,n.jsx)(k.Z,{}),(0,n.jsx)(L.Z,{styleLabel:{maxWidth:450},label:ei,value:u,onChangeValue:e=>O("newsletter_subscribed",e),classContainer:"UI_checkboxContainer"}),U&&D?(0,n.jsx)(g.Z,{style:I.errorSignup,children:D&&D.length>0&&D}):null]}),(0,n.jsx)(k.Z,{size:"xl"}),(0,n.jsxs)(p.Z,{style:I.bottomContainer,children:[(V||Y)&&!$&&(0,n.jsxs)(T.Z,{cssClass:"UI_newAccountMembershipBanner",children:[(0,n.jsxs)(_.Z,{format:"boldSM",nospace:!0,children:["You will not be charged for your ",null==er?void 0:er.period_description," membership"]}),(0,n.jsxs)(_.Z,{format:"globalSM",nospace:!0,children:[null==er?void 0:er.subtitle,". Cancel anytime."]})]}),(0,n.jsx)(P.Z,{title:eo,onPress:B,loading:A,dataCy:"btn-signup-new-account"}),(0,n.jsx)(k.Z,{size:"xs"}),(0,n.jsx)(p.Z,{style:N.W0.termsLinkContainer,children:(0,n.jsxs)(_.Z,{format:"globalSM",style:N.W0.termsText,color:"gray4",center:!0,children:["By creating an account, you consent to our ",c.tq?"\n":(0,n.jsx)("br",{}),(0,n.jsx)(E.Z,{onPress:()=>(0,s.J)("".concat(x.Z.TERMS_URL,"?from_app=true")),type:"regularLink",href:"/terms",style:N.W0.termsLinkGray4,cssClass:"UI_termsLinkGray4",newWindow:!0,secureLink:!0,children:"Terms of Use"})," and ",(0,n.jsx)(E.Z,{onPress:()=>(0,s.J)("".concat(x.Z.PRIVACY_URL,"?from_app=true")),type:"regularLink",href:"/privacy",style:N.W0.termsLinkGray4,cssClass:"UI_termsLinkGray4",newWindow:!0,secureLink:!0,children:"Privacy Policy."})]})}),(0,n.jsx)(k.Z,{size:"md"}),"order"!==Q?(0,n.jsx)(P.Z,{title:"Already have an account? Log in",onPress:z,color:"white"}):null]})]})})}var W=function(e){let{order:t,dataForSegmentEventProperties:r,callback:f,from:p,fromPartner:g,giftCode:b,selectedSubscription:x}=e,y=(0,a.TL)(),{sendSegmentIdentify:Z,sendSegmentTrack:v}=(0,d.Z)(),[C,w]=(0,o.useState)(!1),[P,j]=(0,o.useState)([]),[k,_]=(0,o.useState)([]),[E,T]=(0,o.useState)([]),[L,R]=(0,o.useState)([]),[S,N]=(0,o.useState)(!1),{email:M,password:I,first_name:W,last_name:O,newsletter_subscribed:B,loading:U,error:D}=(0,a.CG)(e=>e.signup),{loading:F,error_message:H}=(0,a.CG)(e=>e.cart),z=p===i.Qh.AUTHOR;(0,o.useEffect)(()=>{t&&y((0,m.L4)({first_name:t.first_name,last_name:t.last_name,email:t.email}))},[y,t]);let Q=()=>{c.tq?s.Z.emit("Navigation Reset",{routes:[{name:"MainTabContainer"}]}):s.Z.emit("Navigation Reset",{routes:[{name:"Explore"}]})},q=async()=>{w(!0);let e=(0,l.OP)("First name is required",W),t=(0,l.OP)("Last name is required",O),n=(0,l.oH)(M),o=(0,l.uo)(I);if(e.length>0||t.length>0||n.length>0||o.length>0)j(e),_(t),T(n),R(o);else{let e=await u.Z.validateEmail(M);e.length>0?(T(e),e.includes("Email address already in use")&&N(!0)):(await y((0,h.Rx)(!0)),y((0,m.IU)({authdata:{email:M,password:I,first_name:W,last_name:O,newsletter_subscribed:B,member_referral_code:b,role_author:z},sendSegmentTrack:v,dataForSegmentEventProperties:r,sendSegmentIdentify:Z,callback:f})))}};return(0,n.jsx)(A,{first_name:W,last_name:O,email:M,password:I,newsletter_subscribed:B,onUpdateField:(e,t)=>{if(y((0,m.L4)({[e]:t})),C){let r=(0,l.OP)("First name is required","first_name"===e?t:W),n=(0,l.OP)("Last name is required","last_name"===e?t:O),o=(0,l.oH)(t),a=(0,l.uo)(t);j(r),_(n),T(o),R(a)}},onNext:q,showErrors:C,errorsFirstName:P,errorsLastName:k,errorsEmail:E,errorsPassword:L,errorSignup:D||H,signupLoading:U,cartLoading:F,displayAlreadyRegisteredModal:S,setDisplayAlreadyRegisteredModal:N,onLogin:()=>{N(!1),s.Z.emit("Navigation Push",{name:"LoginWithEmail",params:{callback:null!=f?f:Q},isReplace:!0})},from:p,fromPartner:g,selectedSubscription:x})}},69270:function(e,t,r){"use strict";var n=r(85893),o=r(2962),a=r(51023),s=r(43539);t.Z=e=>{let{noindex:t,nofollow:r,canonical:i,title:l,description:c,openGraph:d,additionalLinkTags:u,additionalMetaTags:m,...h}=e,f="production"!==a.Z.APP_ENVIRONMENT||"development"===(0,s.zj)();return(0,n.jsx)(o.PB,{noindex:f||t,nofollow:f||r,canonical:i,title:l||void 0,description:c||void 0,openGraph:{title:(null==d?void 0:d.title)?null==d?void 0:d.title:l||void 0,description:(null==d?void 0:d.description)?null==d?void 0:d.description:c||void 0,...d},additionalLinkTags:u,additionalMetaTags:m,...h})}},27131:function(e,t,r){"use strict";r.r(t);var n=r(85893),o=r(11163),a=r(72215),s=r(67585),i=r(77662),l=r(16627),c=r(9460),d=r(69270),u=r(98013);t.default=(0,i.Z)(function(e){var t,r,i,m,h;let{params:f}=e,p=(0,o.useRouter)(),{from:g,partner:b,callback:x}=p.query,{globalUrlParams:y}=(0,a.CG)(e=>e.globalparams),Z=(0,l.pS)(null==f?void 0:f.dataForSegmentEventProperties),v=null==Z?void 0:null===(r=Z.context)||void 0===r?void 0:null===(t=r.from_search)||void 0===t?void 0:t.query,C=null==Z?void 0:null===(m=Z.context)||void 0===m?void 0:null===(i=m.from_search)||void 0===i?void 0:i.context,w=null==Z?void 0:null===(h=Z.context)||void 0===h?void 0:h.previous_screen,P=(0,l.pS)({previous_route:(0,s.z1)(),current_screen:"New account",search_keyword:v,search_context:C,previous_screen:w,initial_url_params:null==y?void 0:y.urlParams});return(0,n.jsxs)(c.Z,{pageTitle:"New account",fullHeader:!0,minimalLeftLogoHeader:!0,hideFooter:!0,children:[(0,n.jsx)(d.Z,{title:"New account",description:"New account"}),(0,n.jsx)(u.Z,{dataForSegmentEventProperties:P,from:(null==f?void 0:f.from)||g,fromPartner:(null==f?void 0:f.partner)||b,callback:(null==f?void 0:f.callback)||x?()=>{f.callback?f.callback():x&&p.push("".concat(x))}:void 0,giftCode:null==f?void 0:f.giftCode,selectedSubscription:null==f?void 0:f.selected_plan})]})},"SignupEnterEmail")},96664:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n,o=r(85893),a=r(67294),s=r(3978),i=r(64521),l=r(87529),c=r(91332),d=r(86393);let u=r(82463).Z.create({container:{display:"flex",flexDirection:"row"},checkbox:{backgroundColor:"red",width:d.ZP.margin.lg,height:d.ZP.margin.lg,borderRadius:4*d.ZP.refRatio,display:"flex",justifyContent:"center",alignItems:"center"},checkboxDisabled:{},checkboxChecked:{backgroundColor:d.ZP.colors.black},checkboxNormal:{backgroundColor:d.ZP.colors.white,borderColor:d.ZP.colors.black,borderWidth:1},label:{flex:1,marginLeft:d.ZP.margin.xs},button:{height:48*d.ZP.refRatio,borderRadius:5*d.ZP.refRatio,marginVertical:d.ZP.margin.xs/2,marginHorizontal:d.ZP.margin.md-2*d.ZP.refRatio,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},title:{...d.ZP.fonts.button,textAlign:"center",paddingHorizontal:d.ZP.margin.sm},colorNormal:{color:d.ZP.colors.black},colorDisabled:{color:d.ZP.colors.gray3},backgroundNormal:{backgroundColor:d.ZP.colors.normal},backgroundDisabled:{backgroundColor:d.ZP.colors.gray4}});function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=function(e){return a.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:18,height:16,fill:"none"},e),n||(n=a.createElement("path",{stroke:"#fff",strokeWidth:1.5,d:"M1 7.783 6.176 14 17 1"})))},f=function(e){let{label:t,loading:r,style:n,value:a,onChangeValue:m,disabled:f=!1,styleLabel:p={},classContainer:g="UI_checkbox"}=e;return(0,o.jsx)(i.Z,{cssClass:"UI_checkbox",style:d.W0.flexRow,children:(0,o.jsx)(s.Z,{onPress:()=>m(!a),disabled:r||f,style:u.container,children:(0,o.jsxs)(i.Z,{cssClass:g,style:[d.W0.flexRow,{width:"100%"}],children:[(0,o.jsx)(c.Z,{style:[u.checkbox,f?u.checkboxDisabled:a?u.checkboxChecked:u.checkboxNormal,n],dataCy:"new-account-checkbox",children:a&&(0,o.jsx)(h,{height:16,width:16})}),(0,o.jsx)(l.Z,{type:"span",style:[u.label,f?u.colorDisabled:u.colorNormal,p],nospace:!0,children:t})]})})})}},91332:function(e,t,r){"use strict";var n=r(85893);r(67294);var o=r(37548),a=r(76338);t.Z=e=>{let{dataCy:t,children:r,...s}=e;return(0,n.jsxs)(o.Z,{...s,children:[(0,n.jsx)(a.Z,{dataCy:t}),r]})}},77662:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(85893),o=r(67294),a=r(49942);function s(e,t){return function(r){let{params:s}=function(e){let[t,r]=(0,o.useState)(a.Z.get(e));return(0,o.useEffect)(()=>{let t=e=>{r(e)};return a.Z.on(e,t),()=>{a.Z.remove(e,t)}},[e]),{params:t,setParams:t=>{a.Z.set(e,t)}}}(t);return(0,n.jsx)(e,{...r,params:s})}}},77882:function(e,t,r){"use strict";r.d(t,{b:function(){return o}});var n=r(39149);function o(e){switch(e){case"chief":case"bookpost":return n.$d.TRIAL;case"reedsy":case"pageandpairing":case"nymag":case"coop2025":case"centerforfiction":case"gift-membership":case"invite8hmJ3V":case"thedrift":case"worldbookday":case"authorsonly":return n.$d.TRIAL_1_YEAR;default:return n.$d.TRIAL_1_MONTH}}}},function(e){e.O(0,[4738,6316,4484,848,4200,6064,4713,4671,5252,1114,3704,1201,3900,5328,2419,6294,3055,6431,9460,812,6118,7936,7698,9669,5653,3459,6606,9218,7998,412,5401,3690,1453,5732,7961,8380,2009,4049,1831,4256],function(){return e(e.s=49121)}),_N_E=e.O()}]);