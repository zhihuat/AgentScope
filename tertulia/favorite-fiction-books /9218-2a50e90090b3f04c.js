(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9218],{80645:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,r,n,o){var i,a,u=8*o-n-1,l=(1<<u)-1,c=l>>1,p=-7,s=r?o-1:0,f=r?-1:1,d=e[t+s];for(s+=f,i=d&(1<<-p)-1,d>>=-p,p+=u;p>0;i=256*i+e[t+s],s+=f,p-=8);for(a=i&(1<<-p)-1,i>>=-p,p+=n;p>0;a=256*a+e[t+s],s+=f,p-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,u,l,c=8*i-o-1,p=(1<<c)-1,s=p>>1,f=23===o?5960464477539062e-23:0,d=n?0:i-1,h=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(u=isNaN(t)?1:0,a=p):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+s>=1?t+=f/l:t+=f*Math.pow(2,1-s),t*l>=2&&(a++,l/=2),a+s>=p?(u=0,a=p):a+s>=1?(u=(t*l-1)*Math.pow(2,o),a+=s):(u=t*Math.pow(2,s-1)*Math.pow(2,o),a=0));o>=8;e[r+d]=255&u,d+=h,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;e[r+d]=255&a,d+=h,a/=256,c-=8);e[r+d-h]|=128*g}},26689:function(e,t,r){var n=r(65885);n=n.default||n,e.exports=function(e,t){var r=e.req&&e.req.headers&&e.req.headers.cookie;return new n(r).getAll(t)}},28858:function(e,t,r){"use strict";r.d(t,{KV:function(){return g}});var n,o=r(67294),i=r(9473),a=r(11163),u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function u(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,u)}l((n=n.apply(e,t||[])).next())})},c=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},s=function(){return"undefined"==typeof window},f=function(e,t){var r=(void 0===t?{}:t).deserializeState;return r?r(e):e},d=function(e,t){var r=(void 0===t?{}:t).serializeState;return r?r(e):e},h=function(e){var t,r=e.makeStore,o=e.context,i=void 0===o?{}:o,a=function(){return r(i)};if(s()){var u=(null==i?void 0:i.req)||(null===(t=null==i?void 0:i.ctx)||void 0===t?void 0:t.req);return u?(u.__nextReduxWrapperStore||(u.__nextReduxWrapperStore=a()),u.__nextReduxWrapperStore):a()}return n||(n=a()),n},g=function(e,t){void 0===t&&(t={});var r=function(r){var n=r.callback,o=r.context,i=r.addStoreToContext,a=void 0!==i&&i;return l(void 0,void 0,void 0,function(){var r,i,u,l,p;return c(this,function(c){switch(c.label){case 0:if(r=h({context:o,makeStore:e}),t.debug&&console.log("1. getProps created store with state",r.getState()),a&&(o.ctx?o.ctx.store=r:o.store=r),!(l=i=n&&n(r)))return[3,2];return[4,i(o)];case 1:l=c.sent(),c.label=2;case 2:return u=l||{},t.debug&&console.log("3. getProps after dispatches has store state",r.getState()),p=r.getState(),[2,{initialProps:u,initialState:s()?d(p,t):p}]}})})},n=function(e){return function(t){return l(void 0,void 0,void 0,function(){var n,o,i;return c(this,function(a){switch(a.label){case 0:return[4,r({callback:e,context:t})];case 1:return o=(n=a.sent()).initialProps,i=n.initialState,[2,u(u({},o),{props:u(u({},o.props),{initialState:i})})]}})})}},g=function(e,r){r&&e.dispatch({type:"__NEXT_REDUX_WRAPPER_HYDRATE__",payload:f(r,t)})},y=function(e,t,r,n,o){var i;r?(g(e,t),g(e,r)):(n||o||t)&&g(e,null!==(i=null!=n?n:o)&&void 0!==i?i:t)},v=function(e,t,r,n,i){var u=(0,a.useRouter)().events,l=(0,o.useRef)(!0);(0,o.useEffect)(function(){var e=function(){l.current=!0};return null==u||u.on("routeChangeStart",e),function(){null==u||u.off("routeChangeStart",e)}},[u]),(0,o.useMemo)(function(){l.current&&(y(e,t,r,n,i),l.current=!1)},[e,t,r,n,i])},m=function(r,n){void 0===n&&(n="useWrappedStore");var i,a,l,c,s,f,d=r.initialState,g=r.initialProps,y=p(r,["initialState","initialProps"]),m=(null==y?void 0:y.__N_SSG)?null===(i=null==y?void 0:y.pageProps)||void 0===i?void 0:i.initialState:null,b=(null==y?void 0:y.__N_SSP)?null===(a=null==y?void 0:y.pageProps)||void 0===a?void 0:a.initialState:null,w=m||b?null:null!==(c=null===(l=null==y?void 0:y.pageProps)||void 0===l?void 0:l.initialState)&&void 0!==c?c:null;t.debug&&console.log("4.",n,"created new store with",{giapState:d,gspState:m,gsspState:b,gippState:w});var k=(0,o.useMemo)(function(){return h({makeStore:e})},[]);v(k,d,m,b,w);var P=y;return g&&g.pageProps&&(P.pageProps=u(u({},g.pageProps),y.pageProps)),(null===(s=null==y?void 0:y.pageProps)||void 0===s?void 0:s.initialState)&&(P=u(u({},y),{pageProps:u({},y.pageProps)}),delete P.pageProps.initialState),(null===(f=null==P?void 0:P.pageProps)||void 0===f?void 0:f.initialProps)&&(P.pageProps=u(u({},P.pageProps),P.pageProps.initialProps),delete P.pageProps.initialProps),{store:k,props:u(u({},g),P)}};return{getServerSideProps:function(e){return function(t){return l(void 0,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,n(e)(t)];case 1:return[2,r.sent()]}})})}},getStaticProps:n,getInitialAppProps:function(e){return function(t){return l(void 0,void 0,void 0,function(){var n,o,i;return c(this,function(a){switch(a.label){case 0:return[4,r({callback:e,context:t,addStoreToContext:!0})];case 1:return o=(n=a.sent()).initialProps,i=n.initialState,[2,u(u({},o),{initialState:i})]}})})}},getInitialPageProps:function(e){return function(t){return l(void 0,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:if("getState"in t)return[2,e&&e(t)];return[4,r({callback:e,context:t,addStoreToContext:!0})];case 1:return[2,n.sent()]}})})}},withRedux:function(e){console.warn("/!\\ You are using legacy implementation. Please update your code: use createWrapper() and wrapper.useWrappedStore().");var t=function(r){var n=m(r,t.displayName),a=n.store,l=n.props;return o.createElement(i.zt,{store:a},o.createElement(e,u({},l)))};return t.displayName="withRedux(".concat(e.displayName||e.name||"Component",")"),"getInitialProps"in e&&(t.getInitialProps=e.getInitialProps),t},useWrappedStore:m}}},2962:function(e,t,r){"use strict";r.d(t,{PB:function(){return g},Qb:function(){return I},iu:function(){return T},lX:function(){return h},ns:function(){return R}});var n=r(67294),o=r(9008),i=r.n(o);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var l=["keyOverride"],c=["crossOrigin"],p={templateTitle:"",noindex:!1,nofollow:!1,norobots:!1,defaultOpenGraphImageWidth:0,defaultOpenGraphImageHeight:0,defaultOpenGraphVideoWidth:0,defaultOpenGraphVideoHeight:0},s=function(e,t,r){void 0===t&&(t=[]);var o=void 0===r?{}:r,i=o.defaultWidth,a=o.defaultHeight;return t.reduce(function(t,r,o){return t.push(n.createElement("meta",{key:"og:"+e+":0"+o,property:"og:"+e,content:r.url})),r.alt&&t.push(n.createElement("meta",{key:"og:"+e+":alt0"+o,property:"og:"+e+":alt",content:r.alt})),r.secureUrl&&t.push(n.createElement("meta",{key:"og:"+e+":secure_url0"+o,property:"og:"+e+":secure_url",content:r.secureUrl.toString()})),r.type&&t.push(n.createElement("meta",{key:"og:"+e+":type0"+o,property:"og:"+e+":type",content:r.type.toString()})),r.width?t.push(n.createElement("meta",{key:"og:"+e+":width0"+o,property:"og:"+e+":width",content:r.width.toString()})):i&&t.push(n.createElement("meta",{key:"og:"+e+":width0"+o,property:"og:"+e+":width",content:i.toString()})),r.height?t.push(n.createElement("meta",{key:"og:"+e+":height"+o,property:"og:"+e+":height",content:r.height.toString()})):a&&t.push(n.createElement("meta",{key:"og:"+e+":height"+o,property:"og:"+e+":height",content:a.toString()})),t},[])},f=function(e){var t,r,o,i,f,d=[];e.titleTemplate&&(p.templateTitle=e.titleTemplate);var h="";e.title?(h=e.title,p.templateTitle&&(h=p.templateTitle.replace(/%s/g,function(){return h}))):e.defaultTitle&&(h=e.defaultTitle),h&&d.push(n.createElement("title",{key:"title"},h));var g=void 0===e.noindex?p.noindex||e.dangerouslySetAllPagesToNoIndex:e.noindex,y=void 0===e.nofollow?p.nofollow||e.dangerouslySetAllPagesToNoFollow:e.nofollow,v=e.norobots||p.norobots,m="";if(e.robotsProps){var b=e.robotsProps,w=b.nosnippet,k=b.maxSnippet,P=b.maxImagePreview,O=b.maxVideoPreview,G=b.noarchive,E=b.noimageindex,S=b.notranslate,A=b.unavailableAfter;m=(w?",nosnippet":"")+(k?",max-snippet:"+k:"")+(P?",max-image-preview:"+P:"")+(G?",noarchive":"")+(A?",unavailable_after:"+A:"")+(E?",noimageindex":"")+(O?",max-video-preview:"+O:"")+(S?",notranslate":"")}if(e.norobots&&(p.norobots=!0),g||y?(e.dangerouslySetAllPagesToNoIndex&&(p.noindex=!0),e.dangerouslySetAllPagesToNoFollow&&(p.nofollow=!0),d.push(n.createElement("meta",{key:"robots",name:"robots",content:(g?"noindex":"index")+","+(y?"nofollow":"follow")+m}))):(!v||m)&&d.push(n.createElement("meta",{key:"robots",name:"robots",content:"index,follow"+m})),e.description&&d.push(n.createElement("meta",{key:"description",name:"description",content:e.description})),e.themeColor&&d.push(n.createElement("meta",{key:"theme-color",name:"theme-color",content:e.themeColor})),e.mobileAlternate&&d.push(n.createElement("link",{rel:"alternate",key:"mobileAlternate",media:e.mobileAlternate.media,href:e.mobileAlternate.href})),e.languageAlternates&&e.languageAlternates.length>0&&e.languageAlternates.forEach(function(e){d.push(n.createElement("link",{rel:"alternate",key:"languageAlternate-"+e.hrefLang,hrefLang:e.hrefLang,href:e.href}))}),e.twitter&&(e.twitter.cardType&&d.push(n.createElement("meta",{key:"twitter:card",name:"twitter:card",content:e.twitter.cardType})),e.twitter.site&&d.push(n.createElement("meta",{key:"twitter:site",name:"twitter:site",content:e.twitter.site})),e.twitter.handle&&d.push(n.createElement("meta",{key:"twitter:creator",name:"twitter:creator",content:e.twitter.handle}))),e.facebook&&e.facebook.appId&&d.push(n.createElement("meta",{key:"fb:app_id",property:"fb:app_id",content:e.facebook.appId})),(null!=(t=e.openGraph)&&t.title||h)&&d.push(n.createElement("meta",{key:"og:title",property:"og:title",content:(null==(i=e.openGraph)?void 0:i.title)||h})),(null!=(r=e.openGraph)&&r.description||e.description)&&d.push(n.createElement("meta",{key:"og:description",property:"og:description",content:(null==(f=e.openGraph)?void 0:f.description)||e.description})),e.openGraph){if((e.openGraph.url||e.canonical)&&d.push(n.createElement("meta",{key:"og:url",property:"og:url",content:e.openGraph.url||e.canonical})),e.openGraph.type){var x=e.openGraph.type.toLowerCase();d.push(n.createElement("meta",{key:"og:type",property:"og:type",content:x})),"profile"===x&&e.openGraph.profile?(e.openGraph.profile.firstName&&d.push(n.createElement("meta",{key:"profile:first_name",property:"profile:first_name",content:e.openGraph.profile.firstName})),e.openGraph.profile.lastName&&d.push(n.createElement("meta",{key:"profile:last_name",property:"profile:last_name",content:e.openGraph.profile.lastName})),e.openGraph.profile.username&&d.push(n.createElement("meta",{key:"profile:username",property:"profile:username",content:e.openGraph.profile.username})),e.openGraph.profile.gender&&d.push(n.createElement("meta",{key:"profile:gender",property:"profile:gender",content:e.openGraph.profile.gender}))):"book"===x&&e.openGraph.book?(e.openGraph.book.authors&&e.openGraph.book.authors.length&&e.openGraph.book.authors.forEach(function(e,t){d.push(n.createElement("meta",{key:"book:author:0"+t,property:"book:author",content:e}))}),e.openGraph.book.isbn&&d.push(n.createElement("meta",{key:"book:isbn",property:"book:isbn",content:e.openGraph.book.isbn})),e.openGraph.book.releaseDate&&d.push(n.createElement("meta",{key:"book:release_date",property:"book:release_date",content:e.openGraph.book.releaseDate})),e.openGraph.book.tags&&e.openGraph.book.tags.length&&e.openGraph.book.tags.forEach(function(e,t){d.push(n.createElement("meta",{key:"book:tag:0"+t,property:"book:tag",content:e}))})):"article"===x&&e.openGraph.article?(e.openGraph.article.publishedTime&&d.push(n.createElement("meta",{key:"article:published_time",property:"article:published_time",content:e.openGraph.article.publishedTime})),e.openGraph.article.modifiedTime&&d.push(n.createElement("meta",{key:"article:modified_time",property:"article:modified_time",content:e.openGraph.article.modifiedTime})),e.openGraph.article.expirationTime&&d.push(n.createElement("meta",{key:"article:expiration_time",property:"article:expiration_time",content:e.openGraph.article.expirationTime})),e.openGraph.article.authors&&e.openGraph.article.authors.length&&e.openGraph.article.authors.forEach(function(e,t){d.push(n.createElement("meta",{key:"article:author:0"+t,property:"article:author",content:e}))}),e.openGraph.article.section&&d.push(n.createElement("meta",{key:"article:section",property:"article:section",content:e.openGraph.article.section})),e.openGraph.article.tags&&e.openGraph.article.tags.length&&e.openGraph.article.tags.forEach(function(e,t){d.push(n.createElement("meta",{key:"article:tag:0"+t,property:"article:tag",content:e}))})):("video.movie"===x||"video.episode"===x||"video.tv_show"===x||"video.other"===x)&&e.openGraph.video&&(e.openGraph.video.actors&&e.openGraph.video.actors.length&&e.openGraph.video.actors.forEach(function(e,t){e.profile&&d.push(n.createElement("meta",{key:"video:actor:0"+t,property:"video:actor",content:e.profile})),e.role&&d.push(n.createElement("meta",{key:"video:actor:role:0"+t,property:"video:actor:role",content:e.role}))}),e.openGraph.video.directors&&e.openGraph.video.directors.length&&e.openGraph.video.directors.forEach(function(e,t){d.push(n.createElement("meta",{key:"video:director:0"+t,property:"video:director",content:e}))}),e.openGraph.video.writers&&e.openGraph.video.writers.length&&e.openGraph.video.writers.forEach(function(e,t){d.push(n.createElement("meta",{key:"video:writer:0"+t,property:"video:writer",content:e}))}),e.openGraph.video.duration&&d.push(n.createElement("meta",{key:"video:duration",property:"video:duration",content:e.openGraph.video.duration.toString()})),e.openGraph.video.releaseDate&&d.push(n.createElement("meta",{key:"video:release_date",property:"video:release_date",content:e.openGraph.video.releaseDate})),e.openGraph.video.tags&&e.openGraph.video.tags.length&&e.openGraph.video.tags.forEach(function(e,t){d.push(n.createElement("meta",{key:"video:tag:0"+t,property:"video:tag",content:e}))}),e.openGraph.video.series&&d.push(n.createElement("meta",{key:"video:series",property:"video:series",content:e.openGraph.video.series})))}e.defaultOpenGraphImageWidth&&(p.defaultOpenGraphImageWidth=e.defaultOpenGraphImageWidth),e.defaultOpenGraphImageHeight&&(p.defaultOpenGraphImageHeight=e.defaultOpenGraphImageHeight),e.openGraph.images&&e.openGraph.images.length&&d.push.apply(d,s("image",e.openGraph.images,{defaultWidth:p.defaultOpenGraphImageWidth,defaultHeight:p.defaultOpenGraphImageHeight})),e.defaultOpenGraphVideoWidth&&(p.defaultOpenGraphVideoWidth=e.defaultOpenGraphVideoWidth),e.defaultOpenGraphVideoHeight&&(p.defaultOpenGraphVideoHeight=e.defaultOpenGraphVideoHeight),e.openGraph.videos&&e.openGraph.videos.length&&d.push.apply(d,s("video",e.openGraph.videos,{defaultWidth:p.defaultOpenGraphVideoWidth,defaultHeight:p.defaultOpenGraphVideoHeight})),e.openGraph.audio&&d.push.apply(d,s("audio",e.openGraph.audio)),e.openGraph.locale&&d.push(n.createElement("meta",{key:"og:locale",property:"og:locale",content:e.openGraph.locale})),(e.openGraph.siteName||e.openGraph.site_name)&&d.push(n.createElement("meta",{key:"og:site_name",property:"og:site_name",content:e.openGraph.siteName||e.openGraph.site_name}))}return e.canonical&&d.push(n.createElement("link",{rel:"canonical",href:e.canonical,key:"canonical"})),e.additionalMetaTags&&e.additionalMetaTags.length>0&&e.additionalMetaTags.forEach(function(e){var t,r,o=e.keyOverride,i=u(e,l);d.push(n.createElement("meta",a({key:"meta:"+(null!=(t=null!=(r=null!=o?o:i.name)?r:i.property)?t:i.httpEquiv)},i)))}),null!=(o=e.additionalLinkTags)&&o.length&&e.additionalLinkTags.forEach(function(e){var t,r=e.crossOrigin,o=u(e,c);d.push(n.createElement("link",a({key:"link"+(null!=(t=o.keyOverride)?t:o.href)+o.rel},o,{crossOrigin:"anonymous"===r||"use-credentials"===r||""===r?r:void 0})))}),d},d=function(e){return n.createElement(i(),null,f(e))},h=function(e){var t=e.title,r=e.titleTemplate,o=e.defaultTitle,i=e.themeColor,a=e.dangerouslySetAllPagesToNoIndex,u=e.dangerouslySetAllPagesToNoFollow,l=e.description,c=e.canonical,p=e.facebook,s=e.openGraph,f=e.additionalMetaTags,h=e.twitter,g=e.defaultOpenGraphImageWidth,y=e.defaultOpenGraphImageHeight,v=e.defaultOpenGraphVideoWidth,m=e.defaultOpenGraphVideoHeight,b=e.mobileAlternate,w=e.languageAlternates,k=e.additionalLinkTags,P=e.robotsProps,O=e.norobots;return n.createElement(d,{title:t,titleTemplate:r,defaultTitle:o,themeColor:i,dangerouslySetAllPagesToNoIndex:void 0!==a&&a,dangerouslySetAllPagesToNoFollow:void 0!==u&&u,description:l,canonical:c,facebook:p,openGraph:s,additionalMetaTags:f,twitter:h,defaultOpenGraphImageWidth:g,defaultOpenGraphImageHeight:y,defaultOpenGraphVideoWidth:v,defaultOpenGraphVideoHeight:m,mobileAlternate:b,languageAlternates:w,additionalLinkTags:k,robotsProps:P,norobots:O})},g=function(e){var t=e.title,r=e.themeColor,o=e.noindex,i=e.nofollow,a=e.robotsProps,u=e.description,l=e.canonical,c=e.openGraph,p=e.facebook,s=e.twitter,f=e.additionalMetaTags,h=e.titleTemplate,g=e.defaultTitle,y=e.mobileAlternate,v=e.languageAlternates,m=e.additionalLinkTags;return n.createElement(n.Fragment,null,n.createElement(d,{title:t,themeColor:r,noindex:o,nofollow:i,robotsProps:a,description:u,canonical:l,facebook:p,openGraph:c,additionalMetaTags:f,twitter:s,titleTemplate:h,defaultTitle:g,mobileAlternate:y,languageAlternates:v,additionalLinkTags:m}))},y=function(e,t){var r=t;return Array.isArray(r)&&1===r.length&&(r=a({},t[0])),{__html:JSON.stringify(Array.isArray(r)?r.map(function(t){return v(e,t)}):v(e,r),k)}},v=function(e,t){var r=t.id,n=a({},(void 0===r?void 0:r)?{"@id":t.id}:{},t);return delete n.id,a({"@context":"https://schema.org","@type":e},n)},m=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"}),b=RegExp("["+Object.keys(m).join("")+"]","g"),w=function(e){return m[e]},k=function(e,t){switch(typeof t){case"object":if(null===t)return;return t;case"number":case"boolean":case"bigint":return t;case"string":return t.replace(b,w);default:return}},P=["type","keyOverride","scriptKey","scriptId","dataArray","useAppDir"];function O(e){var t=e.type,r=void 0===t?"Thing":t,o=e.keyOverride,l=e.scriptKey,c=e.scriptId,p=void 0===c?void 0:c,s=e.dataArray,f=e.useAppDir,d=u(e,P),h=function(){return n.createElement("script",{type:"application/ld+json",id:p,"data-testid":p,dangerouslySetInnerHTML:y(r,void 0===s?a({},d):s),key:"jsonld-"+l+(o?"-"+o:"")})};return void 0!==f&&f?n.createElement(h,null):n.createElement(i(),null,h())}function G(e){if("string"==typeof e)return{"@type":"Person",name:e};if(e.name){var t;return{"@type":null!=(t=null==e?void 0:e.type)?t:"Person",name:e.name,url:null==e?void 0:e.url}}}function E(e){if(e)return{"@type":"ImageObject",url:e}}var S=["reviewRating","author","publisher"];function A(e){return"string"==typeof e?e:a({"@type":"PostalAddress"},e)}var x=["type","keyOverride","potentialActions"];function T(e){var t=e.type,r=e.keyOverride,o=e.potentialActions,i=u(e,x),l=a({},i,{potentialAction:o.map(function(e){if(e){var t=e.target,r=e.queryInput;return{"@type":"SearchAction",target:t+"={"+r+"}","query-input":"required name="+r}}})});return n.createElement(O,a({type:void 0===t?"WebSite":t,keyOverride:r},l,{scriptKey:"jsonld-siteLinksSearchBox"}))}var j=["seller"];function _(e){function t(e){var t=e.seller,r=u(e,j);return a({},r,{"@type":"Offer"},t&&{seller:{"@type":"Organization",name:t.name}})}return Array.isArray(e)?e.map(t):e?t(e):void 0}var N=["type","keyOverride","images","brand","reviews","aggregateRating","manufacturerLogo","manufacturerName","offers","aggregateOffer","productName"];function I(e){var t=e.type,r=e.keyOverride,o=e.images,i=e.brand,l=e.reviews,c=e.aggregateRating,p=e.manufacturerLogo,s=e.manufacturerName,f=e.offers,d=e.aggregateOffer,h=e.productName,g=u(e,N),y=a({},g,{image:o,brand:function(e){if(e)return{"@type":"Brand",name:e}}(i),review:function(e){function t(e){var t=e.reviewRating,r=e.author,n=e.publisher,o=u(e,S);return a({},o,{"@type":"Review"},r&&{author:Array.isArray(r)?r.map(function(e){return G(e)}).filter(function(e){return!!e}):r?G(r):void 0},t&&{reviewRating:function(e){if(e)return a({},e,{"@type":"Rating"})}(t)},n&&{publisher:function(e,t){if(e)return{"@type":"Organization",name:e,logo:E(void 0)}}(n.name)})}return Array.isArray(e)?e.map(t):e?t(e):void 0}(l),aggregateRating:function(e){if(e)return{"@type":"AggregateRating",ratingCount:e.ratingCount,reviewCount:e.reviewCount,bestRating:e.bestRating,ratingValue:e.ratingValue,worstRating:e.worstRating}}(c),manufacturer:function(e){if(e&&(e.manufacturerName||e.manufacturerLogo))return{"@type":"Organization",name:e.manufacturerName,logo:E(e.manufacturerLogo)}}({manufacturerLogo:p,manufacturerName:s}),offers:f?_(f):function(e){if(e)return{"@type":"AggregateOffer",priceCurrency:e.priceCurrency,highPrice:e.highPrice,lowPrice:e.lowPrice,offerCount:e.offerCount,offers:_(e.offers)}}(d),name:h});return n.createElement(O,a({type:void 0===t?"Product":t,keyOverride:r},y,{scriptKey:"Product"}))}var C=["type","keyOverride","address","contactPoints","contactPoint"];function R(e){var t=e.type,r=e.keyOverride,o=e.address,i=e.contactPoints,l=e.contactPoint,c=u(e,C),p=a({},c,{address:function(e){if(e)return Array.isArray(e)?1===e.length?A(e[0]):e.map(A):A(e)}(o),contactPoint:function(e){if(e&&e.length)return e.map(function(e){return a({"@type":"ContactPoint"},e)})}(l||i)});return n.createElement(O,a({type:void 0===t?"Organization":t,keyOverride:r},p,{scriptKey:"organization"}))}},83454:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(77663)},77663:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l=[],c=!1,p=-1;function s(){c&&n&&(c=!1,n.length?l=n.concat(l):p=-1,l.length&&f())}function f(){if(!c){var e=u(s);c=!0;for(var t=l.length;t;){for(n=l,l=[];++p<t;)n&&n[p].run();p=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new d(e,t)),1!==l.length||c||u(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var o=n(229);e.exports=o}()},9008:function(e,t,r){e.exports=r(7828)},11163:function(e,t,r){e.exports=r(9090)},4298:function(e,t,r){e.exports=r(32892)},12902:function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[K]}function i(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===F}(e)||Array.isArray(e)||!!e[H]||!!(null===(t=e.constructor)||void 0===t?void 0:t[H])||s(e)||f(e))}function a(e,t,r){void 0===r&&(r=!1),0===u(e)?(r?Object.keys:q)(e).forEach(function(n){r&&"symbol"==typeof n||t(n,e[n],e)}):e.forEach(function(r,n){return t(n,r,e)})}function u(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:s(e)?2:f(e)?3:0}function l(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t,r){var n=u(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function s(e){return V&&e instanceof Map}function f(e){return W&&e instanceof Set}function d(e){return e.o||e.t}function h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Z(e);delete t[K];for(var r=q(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),v(e)||o(e)||!i(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&a(e,function(e,t){return g(t,!0)},!0)),e}function y(){n(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function m(e){var t=U[e];return t||n(18,e),t}function b(e,t){t&&(m("Patches"),e.u=[],e.s=[],e.v=t)}function w(e){k(e),e.p.forEach(O),e.p=null}function k(e){e===D&&(D=e.l)}function P(e){return D={p:[],l:D,h:e,m:!0,_:0}}function O(e){var t=e[K];0===t.i||1===t.i?t.j():t.g=!0}function G(e,t){t._=t.p.length;var r=t.p[0],o=void 0!==e&&e!==r;return t.h.O||m("ES5").S(t,e,o),o?(r[K].P&&(w(t),n(4)),i(e)&&(e=E(t,e),t.l||A(t,e)),t.u&&m("Patches").M(r[K].t,e,t.u,t.s)):e=E(t,r,[]),w(t),t.u&&t.v(t.u,t.s),e!==L?e:void 0}function E(e,t,r){if(v(t))return t;var n=t[K];if(!n)return a(t,function(o,i){return S(e,n,t,o,i,r)},!0),t;if(n.A!==e)return t;if(!n.P)return A(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=h(n.k):n.o,i=o,u=!1;3===n.i&&(i=new Set(o),o.clear(),u=!0),a(i,function(t,i){return S(e,n,o,t,i,r,u)}),A(e,o,!1),r&&e.u&&m("Patches").N(n,r,e.u,e.s)}return n.o}function S(e,t,r,n,a,u,p){if(o(a)){var s=E(e,a,u&&t&&3!==t.i&&!l(t.R,n)?u.concat(n):void 0);if(c(r,n,s),!o(s))return;e.m=!1}else p&&r.add(a);if(i(a)&&!v(a)){if(!e.h.D&&e._<1)return;E(e,a),t&&t.A.l||A(e,a)}}function A(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&g(t,r)}function x(e,t){var r=e[K];return(r?d(r):e)[t]}function T(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function j(e){e.P||(e.P=!0,e.l&&j(e.l))}function _(e){e.o||(e.o=h(e.t))}function N(e,t,r){var n,o,i,a,u,l,c,p=s(t)?m("MapSet").F(t,r):f(t)?m("MapSet").T(t,r):e.O?(i=o={i:(n=Array.isArray(t))?1:0,A:r?r.A:D,P:!1,I:!1,R:{},l:r,t:t,k:null,o:null,j:null,C:!1},a=B,n&&(i=[o],a=X),l=(u=Proxy.revocable(i,a)).revoke,c=u.proxy,o.k=c,o.j=l,c):m("ES5").J(t,r);return(r?r.A:D).p.push(p),p}function I(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h(e)}function C(){function e(e,t){var r=u[e];return r?r.enumerable=t:u[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[K];return B.get(t,e)},set:function(t){var r=this[K];B.set(r,e,t)}},r}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][K];if(!o.P)switch(o.i){case 5:n(o)&&j(o);break;case 4:r(o)&&j(o)}}}function r(e){for(var t=e.t,r=e.k,n=q(r),o=n.length-1;o>=0;o--){var i=n[o];if(i!==K){var a=t[i];if(void 0===a&&!l(t,i))return!0;var u=r[i],c=u&&u[K];if(c?c.t!==a:!p(u,a))return!0}}var s=!!t[K];return n.length!==q(t).length+(s?0:1)}function n(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var n=0;n<t.length;n++)if(!t.hasOwnProperty(n))return!0;return!1}var i,u={};i={J:function(t,r){var n=Array.isArray(t),o=function(t,r){if(t){for(var n=Array(r.length),o=0;o<r.length;o++)Object.defineProperty(n,""+o,e(o,!0));return n}var i=Z(r);delete i[K];for(var a=q(i),u=0;u<a.length;u++){var l=a[u];i[l]=e(l,t||!!i[l].enumerable)}return Object.create(Object.getPrototypeOf(r),i)}(n,t),i={i:n?5:4,A:r?r.A:D,P:!1,I:!1,R:{},l:r,t:t,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,K,{value:i,writable:!0}),o},S:function(e,r,i){i?o(r)&&r[K].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[K];if(r){var o=r.t,i=r.k,u=r.R,c=r.i;if(4===c)a(i,function(t){t!==K&&(void 0!==o[t]||l(o,t)?u[t]||e(i[t]):(u[t]=!0,j(r)))}),a(o,function(e){void 0!==i[e]||l(i,e)||(u[e]=!1,j(r))});else if(5===c){if(n(r)&&(j(r),u.length=!0),i.length<o.length)for(var p=i.length;p<o.length;p++)u[p]=!1;else for(var s=o.length;s<i.length;s++)u[s]=!0;for(var f=Math.min(i.length,o.length),d=0;d<f;d++)i.hasOwnProperty(d)||(u[d]=!0),void 0===u[d]&&e(i[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?r(e):n(e)}},U.ES5||(U.ES5=i)}r.d(t,{mv:function(){return o},o$:function(){return i},pV:function(){return C}});var R,D,M="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,W="undefined"!=typeof Set,z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,L=M?Symbol.for("immer-nothing"):((R={})["immer-nothing"]=!0,R),H=M?Symbol.for("immer-draftable"):"__$immer_draftable",K=M?Symbol.for("immer-state"):"__$immer_state",F=""+Object.prototype.constructor,q="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Z=Object.getOwnPropertyDescriptors||function(e){var t={};return q(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},U={},B={get:function(e,t){if(t===K)return e;var r,n,o=d(e);if(!l(o,t))return(n=T(o,t))?"value"in n?n.value:null===(r=n.get)||void 0===r?void 0:r.call(e.k):void 0;var a=o[t];return e.I||!i(a)?a:a===x(e.t,t)?(_(e),e.o[t]=N(e.A.h,a,e)):a},has:function(e,t){return t in d(e)},ownKeys:function(e){return Reflect.ownKeys(d(e))},set:function(e,t,r){var n=T(d(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=x(d(e),t),i=null==o?void 0:o[K];if(i&&i.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(p(r,o)&&(void 0!==r||l(e.t,t)))return!0;_(e),j(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==x(e.t,t)||t in e.t?(e.R[t]=!1,_(e),j(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=d(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},X={};a(B,function(e,t){X[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),X.deleteProperty=function(e,t){return X.set.call(this,e,t,void 0)},X.set=function(e,t,r){return B.set.call(this,e[0],t,r,e[0])};var $=new(function(){function e(e){var t=this;this.O=z,this.D=!0,this.produce=function(e,r,o){if("function"==typeof e&&"function"!=typeof r){var a,u=r;return r=e,function(e){var n=this;void 0===e&&(e=u);for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return t.produce(e,function(e){var t;return(t=r).call.apply(t,[n,e].concat(i))})}}if("function"!=typeof r&&n(6),void 0!==o&&"function"!=typeof o&&n(7),i(e)){var l=P(t),c=N(t,e,void 0),p=!0;try{a=r(c),p=!1}finally{p?w(l):k(l)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then(function(e){return b(l,o),G(e,l)},function(e){throw w(l),e}):(b(l,o),G(a,l))}if(!e||"object"!=typeof e){if(void 0===(a=r(e))&&(a=e),a===L&&(a=void 0),t.D&&g(a,!0),o){var s=[],f=[];m("Patches").M(e,a,s,f),o(s,f)}return a}n(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.produceWithPatches(r,function(t){return e.apply(void 0,[t].concat(o))})};var n,o,i=t.produce(e,r,function(e,t){n=e,o=t});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(function(e){return[e,n,o]}):[i,n,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||n(8),o(e)&&(o(t=e)||n(22,t),e=function e(t){if(!i(t))return t;var r,n=t[K],o=u(t);if(n){if(!n.P&&(n.i<4||!m("ES5").K(n)))return n.t;n.I=!0,r=I(t,o),n.I=!1}else r=I(t,o);return a(r,function(t,o){var i;n&&(2===u(i=n.t)?i.get(t):i[t])===o||c(r,t,e(o))}),3===o?new Set(r):r}(t));var t,r=P(this),l=N(this,e,void 0);return l[K].C=!0,k(r),l},t.finishDraft=function(e,t){var r=(e&&e[K]).A;return b(r,t),G(void 0,r)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!z&&n(20),this.O=e},t.applyPatches=function(e,t){for(r=t.length-1;r>=0;r--){var r,n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var i=m("Patches").$;return o(e)?i(e,t):this.produce(e,function(e){return i(e,t)})},e}()),J=$.produce;$.produceWithPatches.bind($),$.setAutoFreeze.bind($),$.setUseProxies.bind($),$.applyPatches.bind($),$.createDraft.bind($),$.finishDraft.bind($),t.ZP=J},92777:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}r.d(t,{Z:function(){return n}})},82262:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(96714);function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,n.Z)(o.key),o)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},96714:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(86831);function o(e){var t=function(e,t){if("object"!==(0,n.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==(0,n.Z)(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,n.Z)(t)?t:String(t)}},86831:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{Z:function(){return n}})},33893:function(e,t,r){"use strict";let n;r.d(t,{dP:function(){return E},re:function(){return x}});var o=r(75028);function i(){}class a{constructor(e=1/0,t=i){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){let t=this.getNode(e);return t&&t.value}getNode(e){let t=this.map.get(e);if(t&&t!==this.newest){let{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){let t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}let u=new(r(70093)).g7,{hasOwnProperty:l}=Object.prototype,c=Array.from||function(e){let t=[];return e.forEach(e=>t.push(e)),t};function p(e){let{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}let s=[];function f(e,t){if(!e)throw Error(t||"assertion failure")}function d(e){switch(e.length){case 0:throw Error("unknown value");case 1:return e[0];case 2:throw e[1]}}class h{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++h.count}peek(){if(1===this.value.length&&!v(this))return g(this),this.value[0]}recompute(e){var t;return f(!this.recomputing,"already recomputing"),g(this),v(this)&&(P(this),u.withValue(this,y,[this,e]),function(e,t){if("function"==typeof e.subscribe)try{p(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(this,e)&&(this.dirty=!1,v(this)||(t=this,m(t,w)))),d(this.value)}setDirty(){this.dirty||(this.dirty=!0,this.value.length=0,m(this,b),p(this))}dispose(){this.setDirty(),P(this),m(this,(e,t)=>{e.setDirty(),O(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=s.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(c(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),s.push(this.deps),this.deps=null)}}function g(e){let t=u.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),v(e)?b(t,e):w(t,e),t}function y(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function v(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function m(e,t){let r=e.parents.size;if(r){let n=c(e.parents);for(let o=0;o<r;++o)t(n[o],e)}}function b(e,t){f(e.childValues.has(t)),f(v(t));let r=!v(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=s.pop()||new Set;e.dirtyChildren.add(t),r&&m(e,b)}function w(e,t){f(e.childValues.has(t)),f(!v(t));let r=e.childValues.get(t);0===r.length?e.childValues.set(t,t.value.slice(0)):!function(e,t){let r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}(r,t.value)&&e.setDirty(),k(e,t),v(e)||m(e,w)}function k(e,t){let r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(s.length<100&&s.push(r),e.dirtyChildren=null))}function P(e){e.childValues.size>0&&e.childValues.forEach((t,r)=>{O(e,r)}),e.forgetDeps(),f(null===e.dirtyChildren)}function O(e,t){t.parents.delete(e),e.childValues.delete(t),k(e,t)}h.count=0;let G={setDirty:!0,dispose:!0,forget:!0};function E(e){let t=new Map,r=e&&e.subscribe;function n(e){let n=u.getValue();if(n){let o=t.get(e);o||t.set(e,o=new Set),n.dependOn(o),"function"==typeof r&&(p(o),o.unsubscribe=r(e))}}return n.dirty=function(e,r){let n=t.get(e);if(n){let o=r&&l.call(G,r)?r:"setDirty";c(n).forEach(e=>e[o]()),t.delete(e),p(n)}},n}function S(...e){return(n||(n=new o.B("function"==typeof WeakMap))).lookupArray(e)}let A=new Set;function x(e,{max:t=65536,makeCacheKey:r=S,keyArgs:n,subscribe:o}=Object.create(null)){let i=new a(t,e=>e.dispose()),l=function(){let t=r.apply(null,n?n.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let a=i.get(t);a||(i.set(t,a=new h(e)),a.subscribe=o,a.forget=()=>i.delete(t));let l=a.recompute(Array.prototype.slice.call(arguments));return i.set(t,a),A.add(i),u.hasValue()||(A.forEach(e=>e.clean()),A.clear()),l};function c(e){let t=i.get(e);t&&t.setDirty()}function p(e){let t=i.get(e);if(t)return t.peek()}function s(e){return i.delete(e)}return Object.defineProperty(l,"size",{get:()=>i.map.size,configurable:!1,enumerable:!1}),Object.freeze(l.options={max:t,makeCacheKey:r,keyArgs:n,subscribe:o}),l.dirtyKey=c,l.dirty=function(){c(r.apply(null,arguments))},l.peekKey=p,l.peek=function(){return p(r.apply(null,arguments))},l.forgetKey=s,l.forget=function(){return s(r.apply(null,arguments))},l.makeCacheKey=r,l.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(l)}}}]);