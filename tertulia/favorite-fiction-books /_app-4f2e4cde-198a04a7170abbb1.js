"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5732],{25768:function(t,e,n){var r=n(89877),o=n(51023),a=n(43539);let s={headers:{Authorization:"Bearer ".concat(o.Z.CONTENTFUL_DELIVERY_KEY),"Content-Type":"text/plain"}};async function i(t){let e="development"===o.Z.APP_ENVIRONMENT,n=await (0,r.Y0)().post("/contentful/query",'\n    {\n      articleCollection(where: { slug: "'.concat(t,'"}, preview: ').concat(e,") {\n        items{\n          articleTitle\n          articleImage {\n            url\n            height\n            width\n          }\n          author\n          body {\n            json\n          }\n          publishedDate\n          pageTitle\n          metaDescription\n          slug\n          openGraphTitle\n          openGraphDescription\n          openGraphImage {\n            url\n            height\n            width\n            contentType\n            title\n          }\n          subtitle\n        }\n      }\n    }\n"),s),{data:a}=n;if(200===n.status){var i,c;return null==a?void 0:null===(c=a.data)||void 0===c?void 0:null===(i=c.articleCollection)||void 0===i?void 0:i.items[0]}return Promise.reject("Sorry, something went wrong getArticleBySlug")}async function c(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=await (0,r.Y0)().post("/contentful/query","\n      {\n        articleCollection(skip: ".concat(t,", limit: ").concat(e,",  order: [publishedDate_DESC]) {\n          items{\n            articleTitle\n            articleImage {\n              url\n              height\n              width\n            }\n            author\n            body {\n              json\n            }\n            publishedDate\n            pageTitle\n            metaDescription\n            slug\n            openGraphTitle\n            openGraphDescription\n            openGraphImage {\n              url\n              height\n              width\n              contentType\n              title\n            }\n            subtitle\n          }\n        }\n      }\n  "),s),{data:o}=n;return 200===n.status?o.data.articleCollection.items:Promise.reject("Sorry, something went wrong getArticles")}async function u(){let t=await (0,r.Y0)().post("/contentful/query","\n    {\n      assetCollection {\n          items {\n              sys {\n                  id\n              }\n              fileName\n              url\n              description\n              width\n              height\n          }\n      }\n    }\n  ",s),{data:e}=t;return 200===t.status?e.data.assetCollection.items:Promise.reject("Sorry, something went wrong getAssets")}let l=async t=>m(d(t.body.json)),d=t=>{let e=[];return"embedded-asset-block"===t.nodeType?e.push(t.data.target.sys.id):"text"!==t.nodeType&&t.content.forEach(t=>{e.push(...d(t))}),e};async function m(t){let e=await (0,r.Y0)().post("/contentful/query","\n    {\n      assetCollection (where: {\n          sys: {\n               id_in: ".concat(JSON.stringify(t),"\n               }\n          }\n       ) {\n          items {\n              sys {\n                  id\n              }\n              fileName\n              url\n              description\n              width\n              height\n          }\n      }\n    }\n  "),s),{data:n}=e;return 200===e.status?n.data.assetCollection.items:Promise.reject("Sorry, something went wrong getAssetsByIds")}async function g(t){let e=await (0,r.Y0)().post("/contentful/query",'\n    {\n      entryCollection(where: {sys: {id: "'.concat(t,'"}}){\n          items {\n              __typename\n             sys {\n                 id\n             }\n          }\n      }\n    }\n  '),s),{data:n}=e;return 200===e.status?n.data.entryCollection.items[0]:Promise.reject("Sorry, something went wrong getEntry")}async function y(t){let e=await (0,r.Y0)().post("/contentful/query",'\n    {\n      product(id: "'.concat(t,'") {\n        productId\n        isbn\n        name\n      }\n    }\n    '),s),{data:n}=e;return 200===e.status?n.data.product:Promise.reject("Sorry, something went wrong getProduct")}async function w(t){let e=await (0,r.Y0)().post("/contentful/query",'\n    {\n      mention(id: "'.concat(t,'") {\n        mentionId\n        name\n      }\n    }\n    '),s),{data:n}=e;return 200===e.status?n.data.mention:Promise.reject("Sorry, something went wrong getMentionId")}async function h(t){let e=await (0,r.Y0)().post("/contentful/query",'\n    {\n      article(id: "'.concat(t,'") {\n          articleTitle\n          articleImage {\n              fileName\n              url\n              height\n              width\n          }\n          author\n          slug\n      }\n    }\n  '),s),{data:n}=e;return 200===e.status?n.data.article:Promise.reject("Sorry, something went wrong getArticlePreview")}async function f(t){let e=await (0,r.Y0)().post("/contentful/query","\n      {\n        articleCollection(".concat(t,") {\n          items{\n            articleTitle\n            articleImage {\n              url\n              height\n              width\n            }\n            author\n            slug\n            sys {\n              id\n            }\n            publishedDate\n          }\n        }\n      }\n  "),s),{data:n}=e;return 200===e.status?n.data.articleCollection.items:Promise.reject("Sorry, something went wrong getArticlesQuery")}async function p(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.QM)(new Date),n=await f("limit: ".concat(t,',  order: [publishedDate_ASC],  where: {publishedDate_gte: "').concat(e,'", hideInWhatToReadFeeds: false}')),r=await f("limit: ".concat(t,',  order: [publishedDate_DESC],  where: {publishedDate_lte: "').concat(e,'", hideInWhatToReadFeeds: false}')),o=Math.min(t,r.length+n.length),s=[];for(let t=0;t<o;t++)s.length<o&&r[t]&&!s.find(e=>e.sys.id===r[t].sys.id)&&s.push(r[t]),s.length<o&&n[t]&&!s.find(e=>e.sys.id===n[t].sys.id)&&s.unshift(n[t]);return s}async function P(t){let e=await (0,r.Y0)().post("/contentful/query","\n    {\n      entryCollection (where: {\n          sys: {\n               id_in: ".concat(JSON.stringify(t),"\n               }\n          }\n       ) {\n          items {\n              __typename\n             sys {\n                 id\n             }\n             ... on Product {\n                 name\n                 productId\n                 isbn\n             }\n             ... on Mention {\n                 name\n                 mentionId\n             }\n             ... on Article {\n                 articleTitle\n                 articleImage {\n                     fileName\n                     url\n                     height\n                     width\n                 }\n                 author\n                 slug\n             }\n          }\n      }\n     }\n  "),s),{data:n}=e;return 200===e.status?n.data.entryCollection.items:Promise.reject("Sorry, something went wrong getEntriesByIds")}e.Z={getArticleBySlug:i,getArticles:c,getArticlesPreview:p,getAssets:u,getAssetsByIds:m,getArticleAssets:l,getAssetsIdFromBlock:d,getEntry:g,getEntriesByIds:P,getProduct:y,getMentionId:w,getArticlePreview:h}},30842:function(t,e,n){var r=n(89877),o=n(69180);async function a(t){let e="/chat?query=".concat((0,o.LN)(t));try{let t=await (0,r.Y0)().get(e);if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}e.Z={getAskResults:a}},71478:function(t,e,n){var r=n(89877),o=n(89052),a=n(39354);async function s(){let t=await (0,r.Y0)().post("/auth-users/register-guest"),e=t.data;return 200===t.status?((0,o.F)(e),e):Promise.reject("Sorry, something went wrong with createGuestUser")}async function i(t,e){try{let n=await (0,r.Y0)().post("/auth",{username:t,password:e}),a=n.data;if(200===n.status)return(0,o.F)(a),a;if(401===n.status)return Promise.reject("Incorrect email or password");return Promise.reject(n)}catch(t){return Promise.reject(t)}}async function c(t,e,n){try{let a=await (0,r.Y0)().post("/auth/loginAs",{username:t,password:e,on_behalf_of:n}),s=a.data;if(200===a.status)return(0,o.F)(s),s;if(401===a.status)return Promise.reject("Incorrect email or password");return Promise.reject(a)}catch(t){return Promise.reject(t)}}async function u(){try{let t=await (0,r.Y0)().post("/user/login-as-guest"),e=t.data;if(200===t.status)return(0,o.F)(e),e;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function l(){try{let t=await (0,r.Y0)().get("/auth/twitter-account-connect/request-token");if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function d(t,e){let n=await (0,r.Y0)().post("/auth/twitter-login/token-request",{oauth_token:t,oauth_verifier:e});if(200===n.status){let t=n.data;return(0,o.F)(t),{token:t,email:null,secret_code:null}}if(401===n.status){let{email:t,secret_code:e}=n.data;return{token:null,email:t,secret_code:e}}return Promise.reject("Sorry, something went wrong loginWithTwitter")}async function m(){try{let t=await (0,r.Y0)().get("/version/latest-supported"),e=t.data;if(200===t.status)return e;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function g(){let t=await (0,r.Y0)().put("/auth/twitter-account-connect/disconnect");return 200===t.status?(a.Z.clearAll(!0),t.data):Promise.reject("Sorry, something went wrong disconnectWithTwitter")}async function y(t){try{let e=await (0,r.Y0)().post("/auth-users/register",t),n=e.data;if(200===e.status)return(0,o.F)(n),n;return Promise.reject(e)}catch(t){return Promise.reject(t)}}async function w(t){try{var e,n;let o=await (0,r.Y0)().post("/auth-users/validate_email",t,{headers:{"Content-Length":0,"Content-Type":"text/plain"}});if(200===o.status)return[];if(400===o.status)return[null!==(n=null==o?void 0:null===(e=o.data)||void 0===e?void 0:e.description)&&void 0!==n?n:"Invalid email address"];if(409===o.status)return["Email address already in use"];return Promise.reject(o)}catch(t){return Promise.reject(t)}}async function h(t){try{var e,n;let o=await (0,r.Y0)().post("/auth-users/validate_only_email",t,{headers:{"Content-Length":0,"Content-Type":"text/plain"}});if(200===o.status)return[];if(400===o.status)return[null!==(n=null==o?void 0:null===(e=o.data)||void 0===e?void 0:e.description)&&void 0!==n?n:"Invalid email address"];return Promise.reject(o)}catch(t){return Promise.reject(t)}}async function f(t){try{let e=await (0,r.Y0)().post("/auth-users/validate_password",t,{headers:{"Content-Length":0,"Content-Type":"text/plain"}});if(200===e.status)return[];if(401===e.status)return["Incorrect password"];return Promise.reject(e)}catch(t){return Promise.reject(t)}}async function p(t){try{let e=await (0,r.Y0)().post("/auth-users/forgot_password/".concat(t));if(200===e.status)return e.data;return Promise.reject(e)}catch(t){return Promise.reject(t)}}async function P(){try{let t=await (0,r.Y0)().patch("/auth-users/request-disable-account");if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function b(t){let e=await (0,r.Y0)().post("/auth/twitter-login/create-user",t),n=e.data;return 200===e.status?((0,o.F)(n),n):Promise.reject("Sorry, something went wrong signupWithTwitter")}async function j(){let t=!1,e=0;do await function(t){return new Promise(e=>setTimeout(e,t))}(500*2**e),200===(await v()).status&&(t=!0),e++;while(!t&&e<5);return t}async function v(){return await (0,r.Y0)().get("/auth/twitter-account-connect/status")}async function _(){let t=await (0,r.Y0)().put("/auth/add-author-role");return 200===t.status?t.data:Promise.reject("Sorry, something went wrong with setUserRoleAsAuthor ".concat(t))}e.Z={createGuestUser:s,loginWithEmail:i,loginAs:c,loginAsGuest:u,getTwitterRequestToken:l,loginWithTwitter:d,disconnectWithTwitter:g,logout:function(){(0,o.F)()},getMinVersionSupported:m,signup:y,validateEmail:w,validatePassword:f,resetPasswordWithEmail:p,disableAccount:P,signupWithTwitter:b,accountConnectWithTwitterStatus:v,checkTwitterAccountConnectStatus:j,setUserRoleAsAuthor:_,validateOnlyEmail:h}},92757:function(t,e,n){n(89877),n(51023).Z.CONTENTFUL_DELIVERY_KEY},37426:function(t,e,n){var r=n(82729),o=n(51023),a=n(68806),s=n(41446),i=n(89877),c=n(19738),u=n(43601);function l(){let t=(0,r._)(["\n    mutation ($input: CartInput!) {\n      cartCreate(input: $input) {\n        cart {\n          id\n          checkoutUrl\n        }\n        userErrors {\n            field\n            message\n          }\n      }\n    }\n  "]);return l=function(){return t},t}function d(){let t=(0,r._)(["\n    mutation ($multipassToken: String!) {\n      customerAccessTokenCreateWithMultipass(multipassToken: $multipassToken) {\n        customerAccessToken {\n          accessToken\n          expiresAt\n        }\n        customerUserErrors {\n          code\n          field\n          message\n        }\n      }\n    }\n  "]);return d=function(){return t},t}function m(){let t=(0,r._)(["\n    mutation cartBuyerIdentityUpdate($buyerIdentity: CartBuyerIdentityInput!, $cartId: ID!) {\n      cartBuyerIdentityUpdate(buyerIdentity: $buyerIdentity, cartId: $cartId) {\n        cart {\n          id\n          lines(first: 10) {\n            edges {\n              node {\n                id\n              }\n            }\n          }\n        }\n        userErrors {\n          field\n          message\n        }\n      }\n    }\n  "]);return m=function(){return t},t}function g(){let t=(0,r._)(['\n  query checkoutURL {\n    cart(id: "','") {\n      checkoutUrl\n    }\n  }\n  ']);return g=function(){return t},t}let y=async(t,e,n,r)=>{var o,i,d,m,g,y;let w=(0,a.Ps)(l()),h={buyerIdentity:void 0,lines:t,attributes:[]};null===(o=h.attributes)||void 0===o||o.push({key:"platform",value:c.tq?"app":"web"}),await u.Z.getUserInfo().then(t=>{var e;null===(e=h.attributes)||void 0===e||e.push({key:"cart_user_id",value:null==t?void 0:t.id})});let f=await r;if(f&&(null===(i=h.attributes)||void 0===i||i.push({key:"segment_id",value:f})),e){let{affiliate_id:t,referrer_code:n,referrer_id:r,partner:o}=e;t&&new Date().getTime()<=new Date(t.expiration).getTime()&&(null===(d=h.attributes)||void 0===d||d.push({key:"affiliate_code",value:t.value})),n&&(null===(m=h.attributes)||void 0===m||m.push({key:"referer_code",value:n.value})),r&&(null===(g=h.attributes)||void 0===g||g.push({key:"referer_id",value:r.value})),o&&(null===(y=h.attributes)||void 0===y||y.push({key:"partner",value:o.value}))}return void 0!==n&&(h.buyerIdentity={customerAccessToken:n}),(await (0,s.Z)().mutate({mutation:w,variables:{input:h}})).data.cartCreate.cart};async function w(t){let e=await (0,i.Y0)().post("/checkouts",{sales_channel_checkout_id:t}),{data:n}=e;return 200===e.status?n:Promise.reject(n)}async function h(t,e){let n=[];t&&n.push("return_to=".concat(t)),n.push("member_first_purchase_discount_enabled=".concat(e)),n.push("build_number=".concat(o.Z.CURRENT)),n.push("is_mobile=".concat(c.tq));let r=n.length>0?"?".concat(n.join("&")):"";try{let t=await (0,i.Y0)().get("/ecommerce/multipass/token".concat(r));if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function f(t,e){let n=await (0,i.Y0)().post("/ecommerce/multipass/token",{return_url:t,member_first_purchase_discount_enabled:e,build_number:o.Z.CURRENT,is_mobile:c.tq}),{data:r}=n;return 200===n.status?r:Promise.reject(r)}let p=async t=>{let e=(0,a.Ps)(d());return(await (0,s.Z)().mutate({mutation:e,variables:{multipassToken:t}})).data.customerAccessTokenCreateWithMultipass.customerAccessToken},P=async(t,e)=>{let n=(0,a.Ps)(m());return(await (0,s.Z)().mutate({mutation:n,variables:{cartId:t,buyerIdentity:{customerAccessToken:e}}})).data.cartCustomerAssociateV2},b=async t=>{let e=(0,a.Ps)(g(),t);return(await (0,s.Z)().query({query:e})).data.cart.checkoutUrl};async function j(t){try{let e=await (0,i.Y0)().get("/checkouts/".concat(t));if(200===e.status)return e.data;return Promise.reject(e)}catch(t){return Promise.reject(t)}}e.Z={createACart:y,informCheckoutId:w,getMultipassToken:h,getMultipassTokenPost:f,customerAccessTokenCreateWithMultipass:p,cartCustomerAssociate:P,getCheckoutURLFromCart:b,getCheckoutByCartToken:j}},57711:function(t,e,n){n(89877)},47281:function(t,e,n){var r=n(89877),o=n(19172);async function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n="/custom-lists?page=".concat(t,"&size=").concat(e),a=await (0,r.Y0)().get(n),{data:s}=a;return 200===a.status?{...s,content:s.content.map(o._1)}:Promise.reject("Sorry, something went wrong getCustomLists")}async function s(){let t=await (0,r.Y0)().get("/reading-lists/custom-lists/default"),{data:e}=t;return 200===t.status?e:Promise.reject("Sorry, something went wrong getDefaultLists")}async function i(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3?arguments[3]:void 0,s="/custom-lists/".concat(t,"?page=").concat(e,"&size=").concat(n);a&&(s+="&published=".concat(a));let i=await (0,r.Y0)().get(s);return 200===i.status?(0,o._1)(i.data):Promise.reject("Sorry, something went wrong getCustomListsById")}async function c(t){let e=await (0,r.Y0)().post("/reading-lists/custom-lists",t);return 201===e.status?(0,o._1)(e.data):Promise.reject("Sorry, something went wrong createCustomList")}async function u(t){let e=await (0,r.Y0)().delete("/reading-lists/custom-lists/".concat(t)),{data:n}=e;return 200===e.status?n:Promise.reject("Sorry, something went wrong deleteCustomListById")}async function l(t,e){let n=await (0,r.Y0)().put("/reading-lists/custom-lists/".concat(t,"/update"),e),{data:o}=n;return 200===n.status?o:Promise.reject("Sorry, something went wrong updateCustomList")}async function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SHARED",n=await (0,r.Y0)().put("/reading-lists/custom-lists/".concat(t,"/update-visibility"),{visibility:e}),{data:o}=n;return 200===n.status?o:Promise.reject("Sorry, something went wrong updateCustomListVisibility")}async function m(t,e){let n=await (0,r.Y0)().post("/custom-list-books",{book_id:t,custom_list_id:e,note:""}),{data:o}=n;return 200===n.status?o:Promise.reject("Sorry, something went wrong addBookToCustomList")}async function g(t,e,n){let o=await (0,r.Y0)().post("/custom-list-books",{book_id:t,custom_list_id:n,note:"",origin_list_id:e}),{data:a}=o;return 200===o.status?a:Promise.reject("Sorry, something went wrong moveBookToCustomList")}async function y(t,e){let n=await (0,r.Y0)().delete("/custom-list-books",{data:{book_id:t,custom_list_id:e}}),{data:o}=n;return 200===n.status?o:Promise.reject("Sorry, something went wrong deleteBookFromCustomList")}async function w(t,e){let n=await (0,r.Y0)().post("/custom-list-user-permissions",{custom_list_id:t,user_permissions:e}),{data:o}=n;return 200===n.status?o:Promise.reject("Sorry, something went wrong addPermisionsOfCustomListToUser")}async function h(t,e,n){let o=await (0,r.Y0)().post("/sharing-books",{book_id:t,shared_with:e,sharing_via:n}),{data:a}=o;return 200===o.status?a:Promise.reject("Sorry, something went wrong postBookToShared")}async function f(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n="/sharing-books?page=".concat(t,"&size=").concat(e),o=await (0,r.Y0)().get(n),{data:a}=o;return 200===o.status?{...a,content:a.content.map(t=>{let{product:e,...n}=t;return{...e,...n}})}:Promise.reject("Sorry, something went wrong getSharedProducts")}async function p(t,e){let n=await (0,r.Y0)().post("/reading-list-books/rate",{book_id:t,rate:e}),{data:o}=n;return 200===n.status?o:Promise.reject("Sorry, something went wrong postBookRecommendation")}async function P(t){let e=await (0,r.Y0)().get("/reading-lists/custom-lists/book/".concat(t,"/me")),n=await (0,r.Y0)().get("/reading-lists/custom-lists/book/".concat(t));if(200===e.status){let t=e.data;return[...n.data,...t]}return Promise.reject("Sorry, something went wrong getCustomListsByBookId")}async function b(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"SHARED",o=arguments.length>3?arguments[3]:void 0,a=await (0,r.Y0)().post("/reading-lists/custom-lists/ask-tertulia",{title:t,description:e,visibility:n,books:o}),{data:s}=a;return 201===a.status?s:Promise.reject("Sorry, something went wrong createCustomListFromAskList")}async function j(t,e,n){let o={custom_list_id:t,book_id:e,note:null==n?void 0:n.user_notes},a=await (0,r.Y0)().put("/custom-list-books/note",o),{data:s}=a;return 200===a.status?s:Promise.reject("Sorry, something went wrong updateListBookNotes")}e.Z={getCustomLists:a,getDefaultLists:s,getCustomListsById:i,createCustomList:c,deleteCustomListById:u,updateCustomList:l,updateCustomListVisibility:d,addBookToCustomList:m,moveBookToCustomList:g,deleteBookFromCustomList:y,addPermisionsOfCustomListToUser:w,postBookToShared:h,getSharedProducts:f,postBookRecommendation:p,getCustomListsByBookId:P,createCustomListFromAskList:b,updateListBookNotes:j}},16005:function(t,e,n){var r=n(89877),o=n(91960);let a={headers:{"Content-Type":"application/json"}};async function s(){let t=await (0,r.Y0)().get("/reading-lists"),{data:e}=t;return 200===t.status?e:Promise.reject("Sorry, something went wrong getCategories")}async function i(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o="/reading-lists/".concat(t,"/books?page=").concat(e,"&size=").concat(n),a=await (0,r.Y0)().get(o),{data:s}=a;return 200===a.status?s:Promise.reject("Sorry, something went wrong getProductsByCategory")}async function c(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o="/books/".concat(e,"/related_books?page=").concat(t,"&size=").concat(n),a=await (0,r.Y0)().get(o),{data:s}=a;return 200===a.status?s:Promise.reject("Sorry, something went wrong getRelatedBooks")}async function u(t,e){let n=await (0,r.Y0)().post("/reading-list-books",{book_id:t,reading_list_id:e}),{data:o}=n;return 200===n.status?o:Promise.reject("Sorry, something went wrong postBookToList")}async function l(t,e,n){let o=await (0,r.Y0)().patch("/reading-list-books/".concat(t),{target_reading_list_id:n}),{data:a}=o;return 200===o.status?a:Promise.reject("Sorry, something went wrong moveBookToList")}async function d(t){let e=await (0,r.Y0)().delete("/reading-list-books/".concat(t)),{data:n}=e;return 200===e.status?n:Promise.reject("Sorry, something went wrong deleteBookFromList")}async function m(t,e,n){let o=await (0,r.Y0)().post("/sharing-books",{book_id:t,shared_with:e,sharing_via:n}),{data:a}=o;return 200===o.status?a:Promise.reject("Sorry, something went wrong postBookToShared")}async function g(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n="/sharing-books?page=".concat(t,"&size=").concat(e),o=await (0,r.Y0)().get(n),{data:a}=o;return 200===o.status?{...a,content:a.content.map(t=>{let{product:e,...n}=t;return{...e,...n}})}:Promise.reject("Sorry, something went wrong getProductsShared")}async function y(t,e){let n=await (0,r.Y0)().post("/reading-list-books/rate",{book_id:t,rate:e}),{data:o}=n;return 200===n.status?o:Promise.reject("Sorry, something went wrong postBookRecommendation")}async function w(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t&&(null==t?void 0:t.length)>0?"?categories=".concat(t.join(","),"&"):"?",o=await (0,r.Y0)().get("/editorial-lists/public".concat(n,"page=").concat(e,"&size=8")),{data:a}=o;return 200===o.status?a:Promise.reject("Sorry, something went wrong getEditorialLists")}async function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=await (0,r.Y0)().get("/editorial-lists/for-you?page=".concat(t,"&size=8")),{data:n}=e;return 200===e.status?n:Promise.reject("Sorry, something went wrong getEditorialByUser ".concat(e))}async function f(t){let{friendly_url:e,page:n=0,size:o=10}=t,a="/editorial-lists/friendlyUrl/".concat(e,"?page=").concat(n,"&size=").concat(o),s=await (0,r.Y0)().get(a),{data:i}=s;return 200===s.status||400===s.status||404===s.status?i:Promise.reject("Sorry, something went wrong getEditorialByFriendlyUrl ".concat(s))}async function p(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=await (0,r.Y0)().get("/user/book-views?page=".concat(t,"&size=").concat(e)),{data:o}=n;return 200===n.status?o:Promise.reject("Sorry, something went wrong getRecentlyViewed ".concat(n))}async function P(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=await (0,r.Y0)().get("books/explore/new_arrivals?size=".concat(n).concat(e?"&bisacCategoryCode=".concat(e):"","&page=").concat(t)),{data:a}=o;return 200===o.status?a:Promise.reject("Sorry, something went wrong getNewArrivals ".concat(o))}async function b(t){var e,n;let o=new FormData;o.append("file",t);let a=await (0,r.Y0)().post("/reading-lists/import",o,{headers:{"Content-Type":"multipart/form-data"}}),{data:s}=a;return 200===a.status?s:Promise.reject(null!==(n=null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.description)&&void 0!==n?n:"Sorry, something went wrong")}async function j(t){var e,n;let o=await (0,r.Y0)().get("/reading-lists/import/".concat(t)),{data:a}=o;return 200===o.status?a:Promise.reject(null!==(n=null==o?void 0:null===(e=o.data)||void 0===e?void 0:e.description)&&void 0!==n?n:"Sorry, something went wrong")}async function v(t){let{recommendationSourceType:e,recommendationSourceId:n,recommendedEan:s,contextType:i,contextId:c,feedback:u}=t;try{let t=await (0,r.Y0)().post("/reading-lists/user-recommended-books-feedback/evaluate",{recommendation_source_type:e,recommendation_source_id:n,recommended_ean:s,context_type:i,context_id:c,feedback:u},a),{data:o}=t;if(200===t.status)return o;return Promise.reject("Sorry, something went wrong postRecommendationFeedbackEvaluate")}catch(t){o.Z.sendError(t)}}async function _(t){let{recommendationSourceType:e,recommendationSourceId:n,recommendedEan:s}=t;try{let t=await (0,r.Y0)().delete("/reading-lists/user-recommended-books-feedback",{...a,data:{recommendation_source_type:e,recommendation_source_id:n,recommended_ean:s}}),{data:o}=t;if(200===t.status)return o;return Promise.reject("Sorry, something went wrong deleteRecommendationFeedbackEvaluate")}catch(t){o.Z.sendError(t)}}async function k(t){let{recommendationSourceType:e,recommendationSourceId:n,recommendedEan:s,contextType:i,contextId:c,comment:u}=t;try{let t=await (0,r.Y0)().post("/reading-lists/user-recommended-books-feedback/comment",{recommendation_source_type:e,recommendation_source_id:n,recommended_ean:s,context_type:i,context_id:c,comment:u},a),{data:o}=t;if(200===t.status)return o;return Promise.reject("Sorry, something went wrong postRecommendationFeedbackComment")}catch(t){o.Z.sendError(t)}}async function Y(t){let{recommendationSourceType:e,recommendationSourceId:n,recommendedEan:s,sourceBlacklisted:i}=t;try{let t=await (0,r.Y0)().post("/reading-lists/user-recommended-books-feedback/blacklist-source",{recommendation_source_type:e,recommendation_source_id:n,recommended_ean:s,source_blacklisted:i},a),{data:o}=t;if(200===t.status)return o;return Promise.reject("Sorry, something went wrong postRecommendationFeedbackBlacklistSource")}catch(t){o.Z.sendError(t)}}e.Z={getCategories:s,getProductsByCategory:i,getRelatedBooks:c,postBookToList:u,moveBookToList:l,deleteBookFromList:d,postBookToShared:m,getProductsShared:g,postBookRecommendation:y,getEditorialLists:w,getEditorialByUser:h,getEditorialByFriendlyUrl:f,getRecentlyViewed:p,getNewArrivals:P,postImportFromGoodReads:b,getImportFromGoodReads:j,postRecommendationFeedbackEvaluate:v,deleteRecommendationFeedbackEvaluate:_,postRecommendationFeedbackComment:k,postRecommendationFeedbackBlacklistSource:Y}},43188:function(t,e,n){var r=n(89877),o=n(47281);let a=t=>{var e;return null!==(e=null==t?void 0:t.id)&&void 0!==e?e:null==t?void 0:t.book_id};async function s(t){try{let e=await (0,r.Y0)().get("/mentions/v2/".concat(t));if(200===e.status)return e.data;return Promise.reject(e)}catch(t){return Promise.reject(t)}}async function i(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o="/mentions/v2/following?page=".concat(t,"&size=").concat(n).concat(e?"&bisacCategoryCode=".concat(e):"");try{let t=await (0,r.Y0)().get(o);if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function c(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,a="/mentions/v2/trends/".concat(e,"?page=").concat(t,"&size=").concat(o).concat(n?"&bisacCategoryCode=".concat(n):"");try{let t=await (0,r.Y0)().get(a);if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function u(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;return c(t,e,n,r).then(t=>({...t,content:t.content.map(t=>t.product)}))}async function l(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,a="/mentions/v2/books/".concat(e).concat("byFollowedUsers"===n?"/byFollowedUsers":"","?&page=").concat(t,"&size=").concat(o);try{let t=await (0,r.Y0)().get(a);if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function d(){try{let t=await (0,r.Y0)().get("/categories");if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function m(t,e,n,o,a,s){let i="/mentions/v2/byCategory/".concat(t,"?page=").concat(a,"&size=").concat(s,"&categoryIndex=").concat(e).concat(n?"&excludedFeatured=".concat(n):"").concat(o?"&bisacCategoryCode=".concat(o):"");try{let t=await (0,r.Y0)().get(i);if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function g(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o="/mentions/v2/mentioner/".concat(t,"?page=").concat(e,"&size=").concat(n);try{let t=await (0,r.Y0)().get(o),{data:e}=t;if(200===t.status)return{...e,content:e.content.map(t=>({...t,product:{...t.product,id:a(t.product)}}))};return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function y(t,e,n,o){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:8,s="/mentions/v2/manual?page=".concat(t,"&size=").concat(a).concat(e?"&source=".concat(e):"").concat(n?"&mention_type=".concat(n):"").concat(o?"&bisacCategoryCode=".concat(o):"");try{let t=await (0,r.Y0)().get(s);if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function w(){let t=await (0,r.Y0)().get("/mentions/v2/for-you"),e=t.data,n=await Promise.all(e.map(t=>{var e;return null!==(e=t.mention.product.id)&&void 0!==e?e:t.mention.book_id}).map(t=>o.Z.getCustomListsByBookId(t)));return 200===t.status?e.map((t,e)=>({...t,mention:{...t.mention,product:{...t.mention.product,customLists:n[e]}}})):Promise.reject("Sorry, something went wrong getTodayBooks")}async function h(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o="/mentions/v2/featured?page=".concat(t,"&size=").concat(n).concat(e?"&bisacCategoryCode=".concat(e):""),a=await (0,r.Y0)().get(o),{data:s}=a;return 200===a.status?s:Promise.reject("Sorry, something went wrong getFeaturedMentions")}async function f(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a="/books/explore/".concat(e,"?page=").concat(t,"&size=").concat(o).concat(n?"&bisacCategoryCode=".concat(n):""),s=await (0,r.Y0)().get(a),{data:i}=s;return 200===s.status?i:Promise.reject("Sorry, something went wrong getFeaturedMentions")}async function p(t){let e=await (0,r.Y0)().get("/explore/book_categories/by-explore-code/".concat(t?"".concat(t):"HOME")),{data:n}=e;return 200===e.status?n:Promise.reject("Sorry, something went wrong getFeaturedMentions")}async function P(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o="/books/explore/by_bisac_category_code/".concat(e?"".concat(e):"HOME","?page=").concat(t,"&size=").concat(n),a=await (0,r.Y0)().get(o),{data:s}=a;return 200===a.status?s:Promise.reject("Sorry, something went wrong getFeaturedMentions")}e.Z={getMention:s,getCategories:d,getMentionsByCategory:m,getMentionsByMentionerId:g,getFollowingMentions:i,getTrendingProducts:c,getTrendingProductsFormattedProductPage:u,getProductMentions:l,getManualMentions:y,getTodayBooks:w,getFeaturedMentions:h,getBooksBySource:f,getBookCategoriesByExploreCode:p,getBookCategoriesByExploreList:P}},3347:function(t,e,n){var r=n(89877);async function o(){let t=await (0,r.Y0)().get("/reading-lists/custom-lists/default"),{data:e}=t;return 200===t.status?e:Promise.reject("Sorry, something went wrong getDefaultLists")}async function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o="/custom-lists/books/basic-info/".concat(t,"?page=").concat(e,"&size=").concat(n),a=await (0,r.Y0)().get(o),{data:s}=a;return 200===a.status?{id:t,title:"",books:s}:Promise.reject("Sorry, something went wrong getBasicDefaultListById")}async function s(t){let{userId:e,page:n=0,size:o=10,published:a}=t,s="/user-public-lists/non-default/user/".concat(e,"?page=").concat(n,"&size=").concat(o);a&&(s+="&published=".concat(a));let i=await (0,r.Y0)().get(s),{data:c}=i;return 200===i.status||400===i.status||404===i.status?c:Promise.reject("Sorry, something went wrong getCustomListsByUserId ".concat(i))}async function i(t){let{productId:e,listId:n}=t,o="/books/".concat(e,"?customListId=").concat(n);try{let t=await (0,r.Y0)().get(o);if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}e.Z={getDefaultLists:o,getBasicDefaultListById:a,getBasicCustomListsByUserId:s,getProductByIdAndCustomListId:i}},54386:function(t,e,n){var r=n(89877);async function o(){try{let t=await (0,r.Y0)().get("/onboarding");if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function a(t){try{let e=await (0,r.Y0)().post("/onboarding/persist-user-selection",t);if(200===e.status)return e.data;return Promise.reject(e)}catch(t){return Promise.reject(t)}}e.Z={getOnboarding:o,setOnboarding:a}},90211:function(t,e,n){var r=n(9669);let o=n.n(r)().create({baseURL:"https://api.aer.io/api",timeout:2e3,headers:{"Content-Type":"application/json"}});async function a(t){let{data:e}=await o.post("/Viewer/ViewerLink",{previewPartnerId:"vTrAeggjEwQJQrFZ",EbookPreviews:[{isbn:"".concat(t)}]});if(e.ebookPreviews.length>0){var n;return null===(n=e.ebookPreviews[0])||void 0===n?void 0:n.button_Url}return Promise.resolve(void 0)}e.Z={getProductPreview:a}},60994:function(t,e,n){var r=n(89877);async function o(t){try{let e=await (0,r.Y0)().get("/books/".concat(t));if(200===e.status)return e.data;return Promise.reject(e)}catch(t){return Promise.reject(t)}}async function a(t){let{ean:e,affiliate_id:n}=t,o=e?e.trim():"",a="/books/v2/ean/".concat(o).concat(n?"?affiliate_id=".concat(n):"");try{let t=await (0,r.Y0)().get(a);if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function s(t){try{let e=await (0,r.Y0)().get("/books/".concat(t,"/extra"));if(200===e.status)return e.data;return Promise.reject(e)}catch(t){return Promise.reject(t)}}async function i(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o="/books/".concat(e,"/related_books?page=").concat(t,"&size=").concat(n);try{let t=await (0,r.Y0)().get(o);if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function c(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o="/books/".concat(e,"/related_by_bisac?page=").concat(t,"&size=").concat(n);try{let t=await (0,r.Y0)().get(o);if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function u(t,e){try{let n=await (0,r.Y0)().post("/users/book-search-selected",{book_ean:t,searched_query:e});if(200===n.status)return"OK";return Promise.reject(n)}catch(t){return Promise.reject(t)}}async function l(t){try{let e=await (0,r.Y0)().get("/books/".concat(t,"/related-to-author"));if(200===e.status)return e.data;return Promise.reject(e)}catch(t){return Promise.reject(t)}}async function d(t){try{let e=await (0,r.Y0)().get("/books/".concat(t,"/basic-info-by-contributor-id"));if(200===e.status)return e.data;return Promise.reject(e)}catch(t){return Promise.reject(t)}}e.Z={getProductById:o,getProductByEan:a,getProductDetailed:s,getRelatedBooks:i,getRelatedBooksByBisac:c,postSaveSearch:u,getBooksFromAuthorByBookId:l,getBasicBooksByContributorId:d}},60083:function(t,e,n){var r=n(89877),o=n(69180);async function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,a=await (0,r.Y0)().get("".concat("/books/search-elastic/byText","?keyword=").concat((0,o.LN)(t),"&weight=1000&page=").concat(e,"&size=").concat(n)),{data:s}=a;return 200===a.status?s:Promise.reject("Sorry, something went wrong getSearchResults")}async function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,a=await (0,r.Y0)().get("".concat("/books/autocomplete","?keyword=").concat((0,o.LN)(t),"&weight=100&page=").concat(e,"&size=").concat(n,"&cut=6")),{content:s}=a.data;return 200===a.status?s:Promise.reject(a.data)}async function i(t){let e=await (0,r.Y0)().get("/bisac_categories/explore/by_label/".concat(t)),{data:n}=e;return 200===e.status?n:void 0}async function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24,o=await (0,r.Y0)().get("/books/book_category/".concat(t,"?page=").concat(e,"&size=").concat(n)),{data:a}=o;return 200===o.status?a:Promise.reject("Sorry, something went wrong getCategoryCodeByLabel")}e.Z={getSearchResults:a,getSearchAutocomplete:s,getCategoryCodeByLabel:i,getAllByCategory:c}},80059:function(t,e,n){var r=n(89877);async function o(){try{let t=await (0,r.Y0)().get("/ecommerce/settings");if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}e.Z={getSetttingsInfo:o}},57012:function(t,e,n){var r=n(89877),o=n(43539),a=n(39149),s=n(91960),i=n(47281);async function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,s=[];s.push("page=".concat(encodeURIComponent(e))),s.push("size=".concat(encodeURIComponent(n))),t&&t.length>0&&s.push("categories=".concat(encodeURIComponent(t.join(",")))),void 0!==o&&s.push("featured=".concat(encodeURIComponent(o))),a&&s.push("type=".concat(encodeURIComponent(a)));let i=s.join("&"),c=await (0,r.Y0)().get("/featured-lists/v2/?".concat(i)),{data:u}=c;return 200===c.status?u:Promise.reject("Sorry, something went wrong getUserPublicLists ".concat(c))}async function u(t){let{friendly_url:e,page:n=0,size:o=10,published:a}=t,s="/user-public-lists/friendlyUrl/".concat(e,"?page=").concat(n,"&size=").concat(o);a&&(s+="&published=".concat(a));let i=await (0,r.Y0)().get(s),{data:c}=i;return 200===i.status||400===i.status||404===i.status?c:Promise.reject("Sorry, something went wrong getUserPublicListBySlug ".concat(i))}async function l(t){let{friendly_url:e,page:n=0,size:r=10,published:a}=t,c=null;try{c=(0,o.RV)(e)?await i.Z.getCustomListsById(e,n,r):await u({friendly_url:e,page:n,size:r,published:a})}catch(t){s.Z.sendError(t)}return c}async function d(t){let{customListId:e,status:n=a.wI.PUBLISHED}=t;return 200===(await (0,r.Y0)().put("/reading-lists/user-public-lists/".concat(e,"/update-status"),{status:n})).status?"OK":Promise.reject("Sorry, something went wrong updatePublicListStatusById")}e.Z={getUserPublicLists:c,getUserPublicListBySlug:u,getReadingListBySlugOrId:l,setPublicListStatusById:d}},43601:function(t,e,n){var r=n(89877);async function o(){let t=await (0,r.Y0)().post("/auth/membership_subscriptions/early_access");return 200===t.status||400===t.status?t.data:Promise.reject("Sorry, something went wrong joinMembership")}async function a(){try{let t=await (0,r.Y0)().get("/user");if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function s(){try{let t=await (0,r.Y0)().get("/user/profile");if(200===t.status)return t.data;return Promise.reject(t)}catch(t){return Promise.reject(t)}}async function i(t){try{let e=await (0,r.Y0)().get("/user/banners?type=".concat(t));if(200===e.status)return e.data;return Promise.reject(e)}catch(t){return Promise.reject(t)}}async function c(t){let e=await (0,r.Y0)().get("/product-subscriptions/default?subscription-name=".concat(t));return 200===e.status?e.data:Promise.reject("Sorry, something went wrong getSubscriptionsDefault")}async function u(t){let e=await (0,r.Y0)().get("/notification/user-settings/code/".concat(t));return 200===e.status?e.data:Promise.reject("Sorry, something went wrong getNotificationSettingsWithToken")}async function l(t,e){let n=await (0,r.Y0)().get("/notification/user-settings/code/".concat(t,"/notification_code/").concat(e));return 200===n.status?n.data:Promise.reject("Sorry, something went wrong getNotificationSettingsWithTokenByNotificationCode")}async function d(t,e){let n=await (0,r.Y0)().put("/notification/user-settings/code/".concat(t),e);return 200===n.status?n.data:Promise.reject("Sorry, something went wrong setNotificationSettingsWithToken")}async function m(t){let{page:e=0,size:n=12}=t,o=await (0,r.Y0)().get("/user-orders?page=".concat(e,"&size=").concat(n)),{data:a}=o;return 200===o.status?a:Promise.reject("Sorry, something went wrong getCategoryCodeByLabel")}e.Z={joinMembership:o,getUserInfo:a,getMembershipInfo:s,getUserBanners:i,getSubscriptionsDefault:c,getNotificationSettingsWithToken:u,getNotificationSettingsWithTokenByNotificationCode:l,setNotificationSettingsWithToken:d,getUsersOrders:m}}}]);